(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function qv(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var Tf={exports:{}},ha={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q1;function Vv(){if(q1)return ha;q1=1;var u=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(r,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:u,type:r,key:f,ref:o!==void 0?o:null,props:c}}return ha.Fragment=t,ha.jsx=s,ha.jsxs=s,ha}var V1;function Uv(){return V1||(V1=1,Tf.exports=Vv()),Tf.exports}var Ht=Uv(),Ff={exports:{}},yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1;function zv(){if(U1)return yt;U1=1;var u=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),D=Symbol.iterator;function A(S){return S===null||typeof S!="object"?null:(S=D&&S[D]||S["@@iterator"],typeof S=="function"?S:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,C={};function b(S,L,K){this.props=S,this.context=L,this.refs=C,this.updater=K||E}b.prototype.isReactComponent={},b.prototype.setState=function(S,L){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,L,"setState")},b.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function T(){}T.prototype=b.prototype;function R(S,L,K){this.props=S,this.context=L,this.refs=C,this.updater=K||E}var z=R.prototype=new T;z.constructor=R,_(z,b.prototype),z.isPureReactComponent=!0;var Y=Array.isArray,x={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function I(S,L,K,et,at,ot){return K=ot.ref,{$$typeof:u,type:S,key:L,ref:K!==void 0?K:null,props:ot}}function B(S,L){return I(S.type,L,void 0,void 0,void 0,S.props)}function X(S){return typeof S=="object"&&S!==null&&S.$$typeof===u}function G(S){var L={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(K){return L[K]})}var Q=/\/+/g;function P(S,L){return typeof S=="object"&&S!==null&&S.key!=null?G(""+S.key):L.toString(36)}function nt(){}function st(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(nt,nt):(S.status="pending",S.then(function(L){S.status==="pending"&&(S.status="fulfilled",S.value=L)},function(L){S.status==="pending"&&(S.status="rejected",S.reason=L)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function J(S,L,K,et,at){var ot=typeof S;(ot==="undefined"||ot==="boolean")&&(S=null);var lt=!1;if(S===null)lt=!0;else switch(ot){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(S.$$typeof){case u:case t:lt=!0;break;case g:return lt=S._init,J(lt(S._payload),L,K,et,at)}}if(lt)return at=at(S),lt=et===""?"."+P(S,0):et,Y(at)?(K="",lt!=null&&(K=lt.replace(Q,"$&/")+"/"),J(at,L,K,"",function(Re){return Re})):at!=null&&(X(at)&&(at=B(at,K+(at.key==null||S&&S.key===at.key?"":(""+at.key).replace(Q,"$&/")+"/")+lt)),L.push(at)),1;lt=0;var It=et===""?".":et+":";if(Y(S))for(var it=0;it<S.length;it++)et=S[it],ot=It+P(et,it),lt+=J(et,L,K,ot,at);else if(it=A(S),typeof it=="function")for(S=it.call(S),it=0;!(et=S.next()).done;)et=et.value,ot=It+P(et,it++),lt+=J(et,L,K,ot,at);else if(ot==="object"){if(typeof S.then=="function")return J(st(S),L,K,et,at);throw L=String(S),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return lt}function O(S,L,K){if(S==null)return S;var et=[],at=0;return J(S,et,"","",function(ot){return L.call(K,ot,at++)}),et}function j(S){if(S._status===-1){var L=S._result;L=L(),L.then(function(K){(S._status===0||S._status===-1)&&(S._status=1,S._result=K)},function(K){(S._status===0||S._status===-1)&&(S._status=2,S._result=K)}),S._status===-1&&(S._status=0,S._result=L)}if(S._status===1)return S._result.default;throw S._result}var tt=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function ut(){}return yt.Children={map:O,forEach:function(S,L,K){O(S,function(){L.apply(this,arguments)},K)},count:function(S){var L=0;return O(S,function(){L++}),L},toArray:function(S){return O(S,function(L){return L})||[]},only:function(S){if(!X(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},yt.Component=b,yt.Fragment=s,yt.Profiler=o,yt.PureComponent=R,yt.StrictMode=r,yt.Suspense=m,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,yt.__COMPILER_RUNTIME={__proto__:null,c:function(S){return x.H.useMemoCache(S)}},yt.cache=function(S){return function(){return S.apply(null,arguments)}},yt.cloneElement=function(S,L,K){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var et=_({},S.props),at=S.key,ot=void 0;if(L!=null)for(lt in L.ref!==void 0&&(ot=void 0),L.key!==void 0&&(at=""+L.key),L)!M.call(L,lt)||lt==="key"||lt==="__self"||lt==="__source"||lt==="ref"&&L.ref===void 0||(et[lt]=L[lt]);var lt=arguments.length-2;if(lt===1)et.children=K;else if(1<lt){for(var It=Array(lt),it=0;it<lt;it++)It[it]=arguments[it+2];et.children=It}return I(S.type,at,void 0,void 0,ot,et)},yt.createContext=function(S){return S={$$typeof:f,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:c,_context:S},S},yt.createElement=function(S,L,K){var et,at={},ot=null;if(L!=null)for(et in L.key!==void 0&&(ot=""+L.key),L)M.call(L,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(at[et]=L[et]);var lt=arguments.length-2;if(lt===1)at.children=K;else if(1<lt){for(var It=Array(lt),it=0;it<lt;it++)It[it]=arguments[it+2];at.children=It}if(S&&S.defaultProps)for(et in lt=S.defaultProps,lt)at[et]===void 0&&(at[et]=lt[et]);return I(S,ot,void 0,void 0,null,at)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(S){return{$$typeof:d,render:S}},yt.isValidElement=X,yt.lazy=function(S){return{$$typeof:g,_payload:{_status:-1,_result:S},_init:j}},yt.memo=function(S,L){return{$$typeof:p,type:S,compare:L===void 0?null:L}},yt.startTransition=function(S){var L=x.T,K={};x.T=K;try{var et=S(),at=x.S;at!==null&&at(K,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(ut,tt)}catch(ot){tt(ot)}finally{x.T=L}},yt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},yt.use=function(S){return x.H.use(S)},yt.useActionState=function(S,L,K){return x.H.useActionState(S,L,K)},yt.useCallback=function(S,L){return x.H.useCallback(S,L)},yt.useContext=function(S){return x.H.useContext(S)},yt.useDebugValue=function(){},yt.useDeferredValue=function(S,L){return x.H.useDeferredValue(S,L)},yt.useEffect=function(S,L,K){var et=x.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(S,L)},yt.useId=function(){return x.H.useId()},yt.useImperativeHandle=function(S,L,K){return x.H.useImperativeHandle(S,L,K)},yt.useInsertionEffect=function(S,L){return x.H.useInsertionEffect(S,L)},yt.useLayoutEffect=function(S,L){return x.H.useLayoutEffect(S,L)},yt.useMemo=function(S,L){return x.H.useMemo(S,L)},yt.useOptimistic=function(S,L){return x.H.useOptimistic(S,L)},yt.useReducer=function(S,L,K){return x.H.useReducer(S,L,K)},yt.useRef=function(S){return x.H.useRef(S)},yt.useState=function(S){return x.H.useState(S)},yt.useSyncExternalStore=function(S,L,K){return x.H.useSyncExternalStore(S,L,K)},yt.useTransition=function(){return x.H.useTransition()},yt.version="19.1.1",yt}var z1;function ud(){return z1||(z1=1,Ff.exports=zv()),Ff.exports}var Dt=ud();const $i=qv(Dt);var xf={exports:{}},fa={},wf={exports:{}},Of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1;function jv(){return j1||(j1=1,(function(u){function t(O,j){var tt=O.length;O.push(j);t:for(;0<tt;){var ut=tt-1>>>1,S=O[ut];if(0<o(S,j))O[ut]=j,O[tt]=S,tt=ut;else break t}}function s(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var j=O[0],tt=O.pop();if(tt!==j){O[0]=tt;t:for(var ut=0,S=O.length,L=S>>>1;ut<L;){var K=2*(ut+1)-1,et=O[K],at=K+1,ot=O[at];if(0>o(et,tt))at<S&&0>o(ot,et)?(O[ut]=ot,O[at]=tt,ut=at):(O[ut]=et,O[K]=tt,ut=K);else if(at<S&&0>o(ot,tt))O[ut]=ot,O[at]=tt,ut=at;else break t}}return j}function o(O,j){var tt=O.sortIndex-j.sortIndex;return tt!==0?tt:O.id-j.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;u.unstable_now=function(){return c.now()}}else{var f=Date,d=f.now();u.unstable_now=function(){return f.now()-d}}var m=[],p=[],g=1,D=null,A=3,E=!1,_=!1,C=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function Y(O){for(var j=s(p);j!==null;){if(j.callback===null)r(p);else if(j.startTime<=O)r(p),j.sortIndex=j.expirationTime,t(m,j);else break;j=s(p)}}function x(O){if(C=!1,Y(O),!_)if(s(m)!==null)_=!0,M||(M=!0,P());else{var j=s(p);j!==null&&J(x,j.startTime-O)}}var M=!1,I=-1,B=5,X=-1;function G(){return b?!0:!(u.unstable_now()-X<B)}function Q(){if(b=!1,M){var O=u.unstable_now();X=O;var j=!0;try{t:{_=!1,C&&(C=!1,R(I),I=-1),E=!0;var tt=A;try{e:{for(Y(O),D=s(m);D!==null&&!(D.expirationTime>O&&G());){var ut=D.callback;if(typeof ut=="function"){D.callback=null,A=D.priorityLevel;var S=ut(D.expirationTime<=O);if(O=u.unstable_now(),typeof S=="function"){D.callback=S,Y(O),j=!0;break e}D===s(m)&&r(m),Y(O)}else r(m);D=s(m)}if(D!==null)j=!0;else{var L=s(p);L!==null&&J(x,L.startTime-O),j=!1}}break t}finally{D=null,A=tt,E=!1}j=void 0}}finally{j?P():M=!1}}}var P;if(typeof z=="function")P=function(){z(Q)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,st=nt.port2;nt.port1.onmessage=Q,P=function(){st.postMessage(null)}}else P=function(){T(Q,0)};function J(O,j){I=T(function(){O(u.unstable_now())},j)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(O){O.callback=null},u.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<O?Math.floor(1e3/O):5},u.unstable_getCurrentPriorityLevel=function(){return A},u.unstable_next=function(O){switch(A){case 1:case 2:case 3:var j=3;break;default:j=A}var tt=A;A=j;try{return O()}finally{A=tt}},u.unstable_requestPaint=function(){b=!0},u.unstable_runWithPriority=function(O,j){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var tt=A;A=O;try{return j()}finally{A=tt}},u.unstable_scheduleCallback=function(O,j,tt){var ut=u.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?ut+tt:ut):tt=ut,O){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=tt+S,O={id:g++,callback:j,priorityLevel:O,startTime:tt,expirationTime:S,sortIndex:-1},tt>ut?(O.sortIndex=tt,t(p,O),s(m)===null&&O===s(p)&&(C?(R(I),I=-1):C=!0,J(x,tt-ut))):(O.sortIndex=S,t(m,O),_||E||(_=!0,M||(M=!0,P()))),O},u.unstable_shouldYield=G,u.unstable_wrapCallback=function(O){var j=A;return function(){var tt=A;A=j;try{return O.apply(this,arguments)}finally{A=tt}}}})(Of)),Of}var G1;function Gv(){return G1||(G1=1,wf.exports=jv()),wf.exports}var Bf={exports:{}},ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1;function Pv(){if(P1)return ke;P1=1;var u=ud();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,p,g){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:D==null?null:""+D,children:m,containerInfo:p,implementation:g}}var f=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ke.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(m,p,null,g)},ke.flushSync=function(m){var p=f.T,g=r.p;try{if(f.T=null,r.p=2,m)return m()}finally{f.T=p,r.p=g,r.d.f()}},ke.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},ke.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},ke.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,D=d(g,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:D,integrity:A,fetchPriority:E}):g==="script"&&r.d.X(m,{crossOrigin:D,integrity:A,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ke.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=d(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},ke.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,D=d(g,p.crossOrigin);r.d.L(m,g,{crossOrigin:D,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ke.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=d(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},ke.requestFormReset=function(m){r.d.r(m)},ke.unstable_batchedUpdates=function(m,p){return m(p)},ke.useFormState=function(m,p,g){return f.H.useFormState(m,p,g)},ke.useFormStatus=function(){return f.H.useHostTransitionStatus()},ke.version="19.1.1",ke}var H1;function Hv(){if(H1)return Bf.exports;H1=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(t){console.error(t)}}return u(),Bf.exports=Pv(),Bf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y1;function Yv(){if(Y1)return fa;Y1=1;var u=Gv(),t=ud(),s=Hv();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function d(e){if(c(e)!==e)throw Error(r(188))}function m(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var i=e,a=n;;){var l=i.return;if(l===null)break;var h=l.alternate;if(h===null){if(a=l.return,a!==null){i=a;continue}break}if(l.child===h.child){for(h=l.child;h;){if(h===i)return d(l),e;if(h===a)return d(l),n;h=h.sibling}throw Error(r(188))}if(i.return!==a.return)i=l,a=h;else{for(var y=!1,v=l.child;v;){if(v===i){y=!0,i=l,a=h;break}if(v===a){y=!0,a=l,i=h;break}v=v.sibling}if(!y){for(v=h.child;v;){if(v===i){y=!0,i=h,a=l;break}if(v===a){y=!0,a=h,i=l;break}v=v.sibling}if(!y)throw Error(r(189))}}if(i.alternate!==a)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:n}function p(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=p(e),n!==null)return n;e=e.sibling}return null}var g=Object.assign,D=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),z=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var nt=Symbol.for("react.client.reference");function st(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===nt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case b:return"Profiler";case C:return"StrictMode";case x:return"Suspense";case M:return"SuspenseList";case X:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case z:return(e.displayName||"Context")+".Provider";case R:return(e._context.displayName||"Context")+".Consumer";case Y:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:st(e.type)||"Memo";case B:n=e._payload,e=e._init;try{return st(e(n))}catch{}}return null}var J=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt={pending:!1,data:null,method:null,action:null},ut=[],S=-1;function L(e){return{current:e}}function K(e){0>S||(e.current=ut[S],ut[S]=null,S--)}function et(e,n){S++,ut[S]=e.current,e.current=n}var at=L(null),ot=L(null),lt=L(null),It=L(null);function it(e,n){switch(et(lt,n),et(ot,e),et(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?f1(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=f1(n),e=d1(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(at),et(at,e)}function Re(){K(at),K(ot),K(lt)}function kn(e){e.memoizedState!==null&&et(It,e);var n=at.current,i=d1(n,e.type);n!==i&&(et(ot,e),et(at,i))}function Ln(e){ot.current===e&&(K(at),K(ot)),It.current===e&&(K(It),ra._currentValue=tt)}var $n=Object.prototype.hasOwnProperty,fr=u.unstable_scheduleCallback,dr=u.unstable_cancelCallback,rt=u.unstable_shouldYield,mt=u.unstable_requestPaint,Bt=u.unstable_now,Zt=u.unstable_getCurrentPriorityLevel,Tt=u.unstable_ImmediatePriority,Qt=u.unstable_UserBlockingPriority,be=u.unstable_NormalPriority,Jn=u.unstable_LowPriority,qs=u.unstable_IdlePriority,pr=u.log,dc=u.unstable_setDisableYieldValue,Eu=null,ln=null;function Vs(e){if(typeof pr=="function"&&dc(e),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(Eu,e)}catch{}}var cn=Math.clz32?Math.clz32:by,Ey=Math.log,Cy=Math.LN2;function by(e){return e>>>=0,e===0?32:31-(Ey(e)/Cy|0)|0}var Ya=256,Xa=4194304;function Cu(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Za(e,n,i){var a=e.pendingLanes;if(a===0)return 0;var l=0,h=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var v=a&134217727;return v!==0?(a=v&~h,a!==0?l=Cu(a):(y&=v,y!==0?l=Cu(y):i||(i=v&~e,i!==0&&(l=Cu(i))))):(v=a&~h,v!==0?l=Cu(v):y!==0?l=Cu(y):i||(i=a&~e,i!==0&&(l=Cu(i)))),l===0?0:n!==0&&n!==l&&(n&h)===0&&(h=l&-l,i=n&-n,h>=i||h===32&&(i&4194048)!==0)?n:l}function mr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Sy(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qd(){var e=Ya;return Ya<<=1,(Ya&4194048)===0&&(Ya=256),e}function Wd(){var e=Xa;return Xa<<=1,(Xa&62914560)===0&&(Xa=4194304),e}function pc(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function gr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ty(e,n,i,a,l,h){var y=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var v=e.entanglements,F=e.expirationTimes,q=e.hiddenUpdates;for(i=y&~i;0<i;){var H=31-cn(i),W=1<<H;v[H]=0,F[H]=-1;var V=q[H];if(V!==null)for(q[H]=null,H=0;H<V.length;H++){var U=V[H];U!==null&&(U.lane&=-536870913)}i&=~W}a!==0&&Kd(e,a,0),h!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=h&~(y&~n))}function Kd(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var a=31-cn(n);e.entangledLanes|=n,e.entanglements[a]=e.entanglements[a]|1073741824|i&4194090}function $d(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var a=31-cn(i),l=1<<a;l&n|e[a]&n&&(e[a]|=n),i&=~l}}function mc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function gc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Jd(){var e=j.p;return e!==0?e:(e=window.event,e===void 0?32:N1(e.type))}function Fy(e,n){var i=j.p;try{return j.p=e,n()}finally{j.p=i}}var Us=Math.random().toString(36).slice(2),Me="__reactFiber$"+Us,We="__reactProps$"+Us,ai="__reactContainer$"+Us,Dc="__reactEvents$"+Us,xy="__reactListeners$"+Us,wy="__reactHandles$"+Us,tp="__reactResources$"+Us,Dr="__reactMarker$"+Us;function yc(e){delete e[Me],delete e[We],delete e[Dc],delete e[xy],delete e[wy]}function oi(e){var n=e[Me];if(n)return n;for(var i=e.parentNode;i;){if(n=i[ai]||i[Me]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=D1(e);e!==null;){if(i=e[Me])return i;e=D1(e)}return n}e=i,i=e.parentNode}return null}function li(e){if(e=e[Me]||e[ai]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function yr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ci(e){var n=e[tp];return n||(n=e[tp]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ye(e){e[Dr]=!0}var ep=new Set,np={};function bu(e,n){hi(e,n),hi(e+"Capture",n)}function hi(e,n){for(np[e]=n,e=0;e<n.length;e++)ep.add(n[e])}var Oy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sp={},up={};function By(e){return $n.call(up,e)?!0:$n.call(sp,e)?!1:Oy.test(e)?up[e]=!0:(sp[e]=!0,!1)}function Qa(e,n,i){if(By(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var a=n.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function Wa(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function hs(e,n,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+a)}}var Ac,ip;function fi(e){if(Ac===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Ac=n&&n[1]||"",ip=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ac+e+ip}var vc=!1;function _c(e,n){if(!e||vc)return"";vc=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(U){var V=U}Reflect.construct(e,[],W)}else{try{W.call()}catch(U){V=U}e.call(W.prototype)}}else{try{throw Error()}catch(U){V=U}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(U){if(U&&V&&typeof U.stack=="string")return[U.stack,V.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=a.DetermineComponentFrameRoot(),y=h[0],v=h[1];if(y&&v){var F=y.split(`
`),q=v.split(`
`);for(l=a=0;a<F.length&&!F[a].includes("DetermineComponentFrameRoot");)a++;for(;l<q.length&&!q[l].includes("DetermineComponentFrameRoot");)l++;if(a===F.length||l===q.length)for(a=F.length-1,l=q.length-1;1<=a&&0<=l&&F[a]!==q[l];)l--;for(;1<=a&&0<=l;a--,l--)if(F[a]!==q[l]){if(a!==1||l!==1)do if(a--,l--,0>l||F[a]!==q[l]){var H=`
`+F[a].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=a&&0<=l);break}}}finally{vc=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?fi(i):""}function Ny(e){switch(e.tag){case 26:case 27:case 5:return fi(e.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return _c(e.type,!1);case 11:return _c(e.type.render,!1);case 1:return _c(e.type,!0);case 31:return fi("Activity");default:return""}}function rp(e){try{var n="";do n+=Ny(e),e=e.return;while(e);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Cn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ap(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ry(e){var n=ap(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var l=i.get,h=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return l.call(this)},set:function(y){a=""+y,h.call(this,y)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ka(e){e._valueTracker||(e._valueTracker=Ry(e))}function op(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),a="";return e&&(a=ap(e)?e.checked?"true":"false":e.value),e=a,e!==i?(n.setValue(e),!0):!1}function $a(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var My=/[\n"\\]/g;function bn(e){return e.replace(My,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ec(e,n,i,a,l,h,y,v){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Cn(n)):e.value!==""+Cn(n)&&(e.value=""+Cn(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?Cc(e,y,Cn(n)):i!=null?Cc(e,y,Cn(i)):a!=null&&e.removeAttribute("value"),l==null&&h!=null&&(e.defaultChecked=!!h),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Cn(v):e.removeAttribute("name")}function lp(e,n,i,a,l,h,y,v){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;i=i!=null?""+Cn(i):"",n=n!=null?""+Cn(n):i,v||n===e.value||(e.value=n),e.defaultValue=n}a=a??l,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=v?e.checked:!!a,e.defaultChecked=!!a,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function Cc(e,n,i){n==="number"&&$a(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function di(e,n,i,a){if(e=e.options,n){n={};for(var l=0;l<i.length;l++)n["$"+i[l]]=!0;for(i=0;i<e.length;i++)l=n.hasOwnProperty("$"+e[i].value),e[i].selected!==l&&(e[i].selected=l),l&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Cn(i),n=null,l=0;l<e.length;l++){if(e[l].value===i){e[l].selected=!0,a&&(e[l].defaultSelected=!0);return}n!==null||e[l].disabled||(n=e[l])}n!==null&&(n.selected=!0)}}function cp(e,n,i){if(n!=null&&(n=""+Cn(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Cn(i):""}function hp(e,n,i,a){if(n==null){if(a!=null){if(i!=null)throw Error(r(92));if(J(a)){if(1<a.length)throw Error(r(93));a=a[0]}i=a}i==null&&(i=""),n=i}i=Cn(n),e.defaultValue=i,a=e.textContent,a===i&&a!==""&&a!==null&&(e.value=a)}function pi(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Iy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fp(e,n,i){var a=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":a?e.setProperty(n,i):typeof i!="number"||i===0||Iy.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function dp(e,n,i){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||n!=null&&n.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var l in n)a=n[l],n.hasOwnProperty(l)&&i[l]!==a&&fp(e,l,a)}else for(var h in n)n.hasOwnProperty(h)&&fp(e,h,n[h])}function bc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ky=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ly=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ja(e){return Ly.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Sc=null;function Tc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mi=null,gi=null;function pp(e){var n=li(e);if(n&&(e=n.stateNode)){var i=e[We]||null;t:switch(e=n.stateNode,n.type){case"input":if(Ec(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+bn(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var a=i[n];if(a!==e&&a.form===e.form){var l=a[We]||null;if(!l)throw Error(r(90));Ec(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(n=0;n<i.length;n++)a=i[n],a.form===e.form&&op(a)}break t;case"textarea":cp(e,i.value,i.defaultValue);break t;case"select":n=i.value,n!=null&&di(e,!!i.multiple,n,!1)}}}var Fc=!1;function mp(e,n,i){if(Fc)return e(n,i);Fc=!0;try{var a=e(n);return a}finally{if(Fc=!1,(mi!==null||gi!==null)&&(Vo(),mi&&(n=mi,e=gi,gi=mi=null,pp(n),e)))for(n=0;n<e.length;n++)pp(e[n])}}function Ar(e,n){var i=e.stateNode;if(i===null)return null;var a=i[We]||null;if(a===null)return null;i=a[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break t;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,n,typeof i));return i}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xc=!1;if(fs)try{var vr={};Object.defineProperty(vr,"passive",{get:function(){xc=!0}}),window.addEventListener("test",vr,vr),window.removeEventListener("test",vr,vr)}catch{xc=!1}var zs=null,wc=null,to=null;function gp(){if(to)return to;var e,n=wc,i=n.length,a,l="value"in zs?zs.value:zs.textContent,h=l.length;for(e=0;e<i&&n[e]===l[e];e++);var y=i-e;for(a=1;a<=y&&n[i-a]===l[h-a];a++);return to=l.slice(e,1<a?1-a:void 0)}function eo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function no(){return!0}function Dp(){return!1}function Ke(e){function n(i,a,l,h,y){this._reactName=i,this._targetInst=l,this.type=a,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(i=e[v],this[v]=i?i(h):h[v]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?no:Dp,this.isPropagationStopped=Dp,this}return g(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=no)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=no)},persist:function(){},isPersistent:no}),n}var Su={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},so=Ke(Su),_r=g({},Su,{view:0,detail:0}),qy=Ke(_r),Oc,Bc,Er,uo=g({},_r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Er&&(Er&&e.type==="mousemove"?(Oc=e.screenX-Er.screenX,Bc=e.screenY-Er.screenY):Bc=Oc=0,Er=e),Oc)},movementY:function(e){return"movementY"in e?e.movementY:Bc}}),yp=Ke(uo),Vy=g({},uo,{dataTransfer:0}),Uy=Ke(Vy),zy=g({},_r,{relatedTarget:0}),Nc=Ke(zy),jy=g({},Su,{animationName:0,elapsedTime:0,pseudoElement:0}),Gy=Ke(jy),Py=g({},Su,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hy=Ke(Py),Yy=g({},Su,{data:0}),Ap=Ke(Yy),Xy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Qy[e])?!!n[e]:!1}function Rc(){return Wy}var Ky=g({},_r,{key:function(e){if(e.key){var n=Xy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=eo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rc,charCode:function(e){return e.type==="keypress"?eo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?eo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$y=Ke(Ky),Jy=g({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vp=Ke(Jy),tA=g({},_r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rc}),eA=Ke(tA),nA=g({},Su,{propertyName:0,elapsedTime:0,pseudoElement:0}),sA=Ke(nA),uA=g({},uo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iA=Ke(uA),rA=g({},Su,{newState:0,oldState:0}),aA=Ke(rA),oA=[9,13,27,32],Mc=fs&&"CompositionEvent"in window,Cr=null;fs&&"documentMode"in document&&(Cr=document.documentMode);var lA=fs&&"TextEvent"in window&&!Cr,_p=fs&&(!Mc||Cr&&8<Cr&&11>=Cr),Ep=" ",Cp=!1;function bp(e,n){switch(e){case"keyup":return oA.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Di=!1;function cA(e,n){switch(e){case"compositionend":return Sp(n);case"keypress":return n.which!==32?null:(Cp=!0,Ep);case"textInput":return e=n.data,e===Ep&&Cp?null:e;default:return null}}function hA(e,n){if(Di)return e==="compositionend"||!Mc&&bp(e,n)?(e=gp(),to=wc=zs=null,Di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _p&&n.locale!=="ko"?null:n.data;default:return null}}var fA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!fA[e.type]:n==="textarea"}function Fp(e,n,i,a){mi?gi?gi.push(a):gi=[a]:mi=a,n=Ho(n,"onChange"),0<n.length&&(i=new so("onChange","change",null,i,a),e.push({event:i,listeners:n}))}var br=null,Sr=null;function dA(e){a1(e,0)}function io(e){var n=yr(e);if(op(n))return e}function xp(e,n){if(e==="change")return n}var wp=!1;if(fs){var Ic;if(fs){var kc="oninput"in document;if(!kc){var Op=document.createElement("div");Op.setAttribute("oninput","return;"),kc=typeof Op.oninput=="function"}Ic=kc}else Ic=!1;wp=Ic&&(!document.documentMode||9<document.documentMode)}function Bp(){br&&(br.detachEvent("onpropertychange",Np),Sr=br=null)}function Np(e){if(e.propertyName==="value"&&io(Sr)){var n=[];Fp(n,Sr,e,Tc(e)),mp(dA,n)}}function pA(e,n,i){e==="focusin"?(Bp(),br=n,Sr=i,br.attachEvent("onpropertychange",Np)):e==="focusout"&&Bp()}function mA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return io(Sr)}function gA(e,n){if(e==="click")return io(n)}function DA(e,n){if(e==="input"||e==="change")return io(n)}function yA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var hn=typeof Object.is=="function"?Object.is:yA;function Tr(e,n){if(hn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),a=Object.keys(n);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var l=i[a];if(!$n.call(n,l)||!hn(e[l],n[l]))return!1}return!0}function Rp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mp(e,n){var i=Rp(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=n&&a>=n)return{node:i,offset:n-e};e=a}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Rp(i)}}function Ip(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ip(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function kp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=$a(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=$a(e.document)}return n}function Lc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var AA=fs&&"documentMode"in document&&11>=document.documentMode,yi=null,qc=null,Fr=null,Vc=!1;function Lp(e,n,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Vc||yi==null||yi!==$a(a)||(a=yi,"selectionStart"in a&&Lc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Fr&&Tr(Fr,a)||(Fr=a,a=Ho(qc,"onSelect"),0<a.length&&(n=new so("onSelect","select",null,n,i),e.push({event:n,listeners:a}),n.target=yi)))}function Tu(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Ai={animationend:Tu("Animation","AnimationEnd"),animationiteration:Tu("Animation","AnimationIteration"),animationstart:Tu("Animation","AnimationStart"),transitionrun:Tu("Transition","TransitionRun"),transitionstart:Tu("Transition","TransitionStart"),transitioncancel:Tu("Transition","TransitionCancel"),transitionend:Tu("Transition","TransitionEnd")},Uc={},qp={};fs&&(qp=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function Fu(e){if(Uc[e])return Uc[e];if(!Ai[e])return e;var n=Ai[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in qp)return Uc[e]=n[i];return e}var Vp=Fu("animationend"),Up=Fu("animationiteration"),zp=Fu("animationstart"),vA=Fu("transitionrun"),_A=Fu("transitionstart"),EA=Fu("transitioncancel"),jp=Fu("transitionend"),Gp=new Map,zc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zc.push("scrollEnd");function qn(e,n){Gp.set(e,n),bu(n,[e])}var Pp=new WeakMap;function Sn(e,n){if(typeof e=="object"&&e!==null){var i=Pp.get(e);return i!==void 0?i:(n={value:e,source:n,stack:rp(n)},Pp.set(e,n),n)}return{value:e,source:n,stack:rp(n)}}var Tn=[],vi=0,jc=0;function ro(){for(var e=vi,n=jc=vi=0;n<e;){var i=Tn[n];Tn[n++]=null;var a=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var h=Tn[n];if(Tn[n++]=null,a!==null&&l!==null){var y=a.pending;y===null?l.next=l:(l.next=y.next,y.next=l),a.pending=l}h!==0&&Hp(i,l,h)}}function ao(e,n,i,a){Tn[vi++]=e,Tn[vi++]=n,Tn[vi++]=i,Tn[vi++]=a,jc|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Gc(e,n,i,a){return ao(e,n,i,a),oo(e)}function _i(e,n){return ao(e,null,null,n),oo(e)}function Hp(e,n,i){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i);for(var l=!1,h=e.return;h!==null;)h.childLanes|=i,a=h.alternate,a!==null&&(a.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(l=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,l&&n!==null&&(l=31-cn(i),e=h.hiddenUpdates,a=e[l],a===null?e[l]=[n]:a.push(n),n.lane=i|536870912),h):null}function oo(e){if(50<$r)throw $r=0,Qh=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ei={};function CA(e,n,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,n,i,a){return new CA(e,n,i,a)}function Pc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ds(e,n){var i=e.alternate;return i===null?(i=fn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Yp(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function lo(e,n,i,a,l,h){var y=0;if(a=e,typeof e=="function")Pc(e)&&(y=1);else if(typeof e=="string")y=Sv(e,i,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case X:return e=fn(31,i,n,l),e.elementType=X,e.lanes=h,e;case _:return xu(i.children,l,h,n);case C:y=8,l|=24;break;case b:return e=fn(12,i,n,l|2),e.elementType=b,e.lanes=h,e;case x:return e=fn(13,i,n,l),e.elementType=x,e.lanes=h,e;case M:return e=fn(19,i,n,l),e.elementType=M,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:case z:y=10;break t;case R:y=9;break t;case Y:y=11;break t;case I:y=14;break t;case B:y=16,a=null;break t}y=29,i=Error(r(130,e===null?"null":typeof e,"")),a=null}return n=fn(y,i,n,l),n.elementType=e,n.type=a,n.lanes=h,n}function xu(e,n,i,a){return e=fn(7,e,a,n),e.lanes=i,e}function Hc(e,n,i){return e=fn(6,e,null,n),e.lanes=i,e}function Yc(e,n,i){return n=fn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ci=[],bi=0,co=null,ho=0,Fn=[],xn=0,wu=null,ps=1,ms="";function Ou(e,n){Ci[bi++]=ho,Ci[bi++]=co,co=e,ho=n}function Xp(e,n,i){Fn[xn++]=ps,Fn[xn++]=ms,Fn[xn++]=wu,wu=e;var a=ps;e=ms;var l=32-cn(a)-1;a&=~(1<<l),i+=1;var h=32-cn(n)+l;if(30<h){var y=l-l%5;h=(a&(1<<y)-1).toString(32),a>>=y,l-=y,ps=1<<32-cn(n)+l|i<<l|a,ms=h+e}else ps=1<<h|i<<l|a,ms=e}function Xc(e){e.return!==null&&(Ou(e,1),Xp(e,1,0))}function Zc(e){for(;e===co;)co=Ci[--bi],Ci[bi]=null,ho=Ci[--bi],Ci[bi]=null;for(;e===wu;)wu=Fn[--xn],Fn[xn]=null,ms=Fn[--xn],Fn[xn]=null,ps=Fn[--xn],Fn[xn]=null}var Ue=null,ne=null,Ot=!1,Bu=null,ts=!1,Qc=Error(r(519));function Nu(e){var n=Error(r(418,""));throw Or(Sn(n,e)),Qc}function Zp(e){var n=e.stateNode,i=e.type,a=e.memoizedProps;switch(n[Me]=e,n[We]=a,i){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(i=0;i<ta.length;i++)Ct(ta[i],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),lp(n,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Ka(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),hp(n,a.value,a.defaultValue,a.children),Ka(n)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||a.suppressHydrationWarning===!0||h1(n.textContent,i)?(a.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),a.onScroll!=null&&Ct("scroll",n),a.onScrollEnd!=null&&Ct("scrollend",n),a.onClick!=null&&(n.onclick=Yo),n=!0):n=!1,n||Nu(e)}function Qp(e){for(Ue=e.return;Ue;)switch(Ue.tag){case 5:case 13:ts=!1;return;case 27:case 3:ts=!0;return;default:Ue=Ue.return}}function xr(e){if(e!==Ue)return!1;if(!Ot)return Qp(e),Ot=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||ff(e.type,e.memoizedProps)),i=!i),i&&ne&&Nu(e),Qp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(n===0){ne=Un(e.nextSibling);break t}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;e=e.nextSibling}ne=null}}else n===27?(n=ne,su(e.type)?(e=gf,gf=null,ne=e):ne=n):ne=Ue?Un(e.stateNode.nextSibling):null;return!0}function wr(){ne=Ue=null,Ot=!1}function Wp(){var e=Bu;return e!==null&&(tn===null?tn=e:tn.push.apply(tn,e),Bu=null),e}function Or(e){Bu===null?Bu=[e]:Bu.push(e)}var Wc=L(null),Ru=null,gs=null;function js(e,n,i){et(Wc,n._currentValue),n._currentValue=i}function Ds(e){e._currentValue=Wc.current,K(Wc)}function Kc(e,n,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===i)break;e=e.return}}function $c(e,n,i,a){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var h=l.dependencies;if(h!==null){var y=l.child;h=h.firstContext;t:for(;h!==null;){var v=h;h=l;for(var F=0;F<n.length;F++)if(v.context===n[F]){h.lanes|=i,v=h.alternate,v!==null&&(v.lanes|=i),Kc(h.return,i,e),a||(y=null);break t}h=v.next}}else if(l.tag===18){if(y=l.return,y===null)throw Error(r(341));y.lanes|=i,h=y.alternate,h!==null&&(h.lanes|=i),Kc(y,i,e),y=null}else y=l.child;if(y!==null)y.return=l;else for(y=l;y!==null;){if(y===e){y=null;break}if(l=y.sibling,l!==null){l.return=y.return,y=l;break}y=y.return}l=y}}function Br(e,n,i,a){e=null;for(var l=n,h=!1;l!==null;){if(!h){if((l.flags&524288)!==0)h=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var y=l.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var v=l.type;hn(l.pendingProps.value,y.value)||(e!==null?e.push(v):e=[v])}}else if(l===It.current){if(y=l.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(ra):e=[ra])}l=l.return}e!==null&&$c(n,e,i,a),n.flags|=262144}function fo(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mu(e){Ru=e,gs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ie(e){return Kp(Ru,e)}function po(e,n){return Ru===null&&Mu(e),Kp(e,n)}function Kp(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},gs===null){if(e===null)throw Error(r(308));gs=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else gs=gs.next=n;return i}var bA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,a){e.push(a)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},SA=u.unstable_scheduleCallback,TA=u.unstable_NormalPriority,pe={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jc(){return{controller:new bA,data:new Map,refCount:0}}function Nr(e){e.refCount--,e.refCount===0&&SA(TA,function(){e.controller.abort()})}var Rr=null,th=0,Si=0,Ti=null;function FA(e,n){if(Rr===null){var i=Rr=[];th=0,Si=nf(),Ti={status:"pending",value:void 0,then:function(a){i.push(a)}}}return th++,n.then($p,$p),n}function $p(){if(--th===0&&Rr!==null){Ti!==null&&(Ti.status="fulfilled");var e=Rr;Rr=null,Si=0,Ti=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function xA(e,n){var i=[],a={status:"pending",value:null,reason:null,then:function(l){i.push(l)}};return e.then(function(){a.status="fulfilled",a.value=n;for(var l=0;l<i.length;l++)(0,i[l])(n)},function(l){for(a.status="rejected",a.reason=l,l=0;l<i.length;l++)(0,i[l])(void 0)}),a}var Jp=O.S;O.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&FA(e,n),Jp!==null&&Jp(e,n)};var Iu=L(null);function eh(){var e=Iu.current;return e!==null?e:Yt.pooledCache}function mo(e,n){n===null?et(Iu,Iu.current):et(Iu,n.pool)}function t0(){var e=eh();return e===null?null:{parent:pe._currentValue,pool:e}}var Mr=Error(r(460)),e0=Error(r(474)),go=Error(r(542)),nh={then:function(){}};function n0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Do(){}function s0(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(Do,Do),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,i0(e),e;default:if(typeof n.status=="string")n.then(Do,Do);else{if(e=Yt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(a){if(n.status==="pending"){var l=n;l.status="fulfilled",l.value=a}},function(a){if(n.status==="pending"){var l=n;l.status="rejected",l.reason=a}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,i0(e),e}throw Ir=n,Mr}}var Ir=null;function u0(){if(Ir===null)throw Error(r(459));var e=Ir;return Ir=null,e}function i0(e){if(e===Mr||e===go)throw Error(r(483))}var Gs=!1;function sh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ps(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hs(e,n,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(kt&2)!==0){var l=a.pending;return l===null?n.next=n:(n.next=l.next,l.next=n),a.pending=n,n=oo(e),Hp(e,null,i),n}return ao(e,a,n,i),oo(e)}function kr(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,$d(e,i)}}function ih(e,n){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var l=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var y={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?l=h=y:h=h.next=y,i=i.next}while(i!==null);h===null?l=h=n:h=h.next=n}else l=h=n;i={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:h,shared:a.shared,callbacks:a.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var rh=!1;function Lr(){if(rh){var e=Ti;if(e!==null)throw e}}function qr(e,n,i,a){rh=!1;var l=e.updateQueue;Gs=!1;var h=l.firstBaseUpdate,y=l.lastBaseUpdate,v=l.shared.pending;if(v!==null){l.shared.pending=null;var F=v,q=F.next;F.next=null,y===null?h=q:y.next=q,y=F;var H=e.alternate;H!==null&&(H=H.updateQueue,v=H.lastBaseUpdate,v!==y&&(v===null?H.firstBaseUpdate=q:v.next=q,H.lastBaseUpdate=F))}if(h!==null){var W=l.baseState;y=0,H=q=F=null,v=h;do{var V=v.lane&-536870913,U=V!==v.lane;if(U?(Ft&V)===V:(a&V)===V){V!==0&&V===Si&&(rh=!0),H!==null&&(H=H.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var gt=e,dt=v;V=n;var Ut=i;switch(dt.tag){case 1:if(gt=dt.payload,typeof gt=="function"){W=gt.call(Ut,W,V);break t}W=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=dt.payload,V=typeof gt=="function"?gt.call(Ut,W,V):gt,V==null)break t;W=g({},W,V);break t;case 2:Gs=!0}}V=v.callback,V!==null&&(e.flags|=64,U&&(e.flags|=8192),U=l.callbacks,U===null?l.callbacks=[V]:U.push(V))}else U={lane:V,tag:v.tag,payload:v.payload,callback:v.callback,next:null},H===null?(q=H=U,F=W):H=H.next=U,y|=V;if(v=v.next,v===null){if(v=l.shared.pending,v===null)break;U=v,v=U.next,U.next=null,l.lastBaseUpdate=U,l.shared.pending=null}}while(!0);H===null&&(F=W),l.baseState=F,l.firstBaseUpdate=q,l.lastBaseUpdate=H,h===null&&(l.shared.lanes=0),Js|=y,e.lanes=y,e.memoizedState=W}}function r0(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function a0(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)r0(i[e],n)}var Fi=L(null),yo=L(0);function o0(e,n){e=bs,et(yo,e),et(Fi,n),bs=e|n.baseLanes}function ah(){et(yo,bs),et(Fi,Fi.current)}function oh(){bs=yo.current,K(Fi),K(yo)}var Ys=0,vt=null,qt=null,fe=null,Ao=!1,xi=!1,ku=!1,vo=0,Vr=0,wi=null,wA=0;function re(){throw Error(r(321))}function lh(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!hn(e[i],n[i]))return!1;return!0}function ch(e,n,i,a,l,h){return Ys=h,vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,O.H=e===null||e.memoizedState===null?H0:Y0,ku=!1,h=i(a,l),ku=!1,xi&&(h=c0(n,i,a,l)),l0(e),h}function l0(e){O.H=To;var n=qt!==null&&qt.next!==null;if(Ys=0,fe=qt=vt=null,Ao=!1,Vr=0,wi=null,n)throw Error(r(300));e===null||Ae||(e=e.dependencies,e!==null&&fo(e)&&(Ae=!0))}function c0(e,n,i,a){vt=e;var l=0;do{if(xi&&(wi=null),Vr=0,xi=!1,25<=l)throw Error(r(301));if(l+=1,fe=qt=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}O.H=kA,h=n(i,a)}while(xi);return h}function OA(){var e=O.H,n=e.useState()[0];return n=typeof n.then=="function"?Ur(n):n,e=e.useState()[0],(qt!==null?qt.memoizedState:null)!==e&&(vt.flags|=1024),n}function hh(){var e=vo!==0;return vo=0,e}function fh(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function dh(e){if(Ao){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ao=!1}Ys=0,fe=qt=vt=null,xi=!1,Vr=vo=0,wi=null}function $e(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?vt.memoizedState=fe=e:fe=fe.next=e,fe}function de(){if(qt===null){var e=vt.alternate;e=e!==null?e.memoizedState:null}else e=qt.next;var n=fe===null?vt.memoizedState:fe.next;if(n!==null)fe=n,qt=e;else{if(e===null)throw vt.alternate===null?Error(r(467)):Error(r(310));qt=e,e={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},fe===null?vt.memoizedState=fe=e:fe=fe.next=e}return fe}function ph(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ur(e){var n=Vr;return Vr+=1,wi===null&&(wi=[]),e=s0(wi,e,n),n=vt,(fe===null?n.memoizedState:fe.next)===null&&(n=n.alternate,O.H=n===null||n.memoizedState===null?H0:Y0),e}function _o(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ur(e);if(e.$$typeof===z)return Ie(e)}throw Error(r(438,String(e)))}function mh(e){var n=null,i=vt.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var a=vt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(n={data:a.data.map(function(l){return l.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=ph(),vt.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),a=0;a<e;a++)i[a]=G;return n.index++,i}function ys(e,n){return typeof n=="function"?n(e):n}function Eo(e){var n=de();return gh(n,qt,e)}function gh(e,n,i){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var l=e.baseQueue,h=a.pending;if(h!==null){if(l!==null){var y=l.next;l.next=h.next,h.next=y}n.baseQueue=l=h,a.pending=null}if(h=e.baseState,l===null)e.memoizedState=h;else{n=l.next;var v=y=null,F=null,q=n,H=!1;do{var W=q.lane&-536870913;if(W!==q.lane?(Ft&W)===W:(Ys&W)===W){var V=q.revertLane;if(V===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),W===Si&&(H=!0);else if((Ys&V)===V){q=q.next,V===Si&&(H=!0);continue}else W={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},F===null?(v=F=W,y=h):F=F.next=W,vt.lanes|=V,Js|=V;W=q.action,ku&&i(h,W),h=q.hasEagerState?q.eagerState:i(h,W)}else V={lane:W,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},F===null?(v=F=V,y=h):F=F.next=V,vt.lanes|=W,Js|=W;q=q.next}while(q!==null&&q!==n);if(F===null?y=h:F.next=v,!hn(h,e.memoizedState)&&(Ae=!0,H&&(i=Ti,i!==null)))throw i;e.memoizedState=h,e.baseState=y,e.baseQueue=F,a.lastRenderedState=h}return l===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Dh(e){var n=de(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var a=i.dispatch,l=i.pending,h=n.memoizedState;if(l!==null){i.pending=null;var y=l=l.next;do h=e(h,y.action),y=y.next;while(y!==l);hn(h,n.memoizedState)||(Ae=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),i.lastRenderedState=h}return[h,a]}function h0(e,n,i){var a=vt,l=de(),h=Ot;if(h){if(i===void 0)throw Error(r(407));i=i()}else i=n();var y=!hn((qt||l).memoizedState,i);y&&(l.memoizedState=i,Ae=!0),l=l.queue;var v=p0.bind(null,a,l,e);if(zr(2048,8,v,[e]),l.getSnapshot!==n||y||fe!==null&&fe.memoizedState.tag&1){if(a.flags|=2048,Oi(9,Co(),d0.bind(null,a,l,i,n),null),Yt===null)throw Error(r(349));h||(Ys&124)!==0||f0(a,n,i)}return i}function f0(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=vt.updateQueue,n===null?(n=ph(),vt.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function d0(e,n,i,a){n.value=i,n.getSnapshot=a,m0(n)&&g0(e)}function p0(e,n,i){return i(function(){m0(n)&&g0(e)})}function m0(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!hn(e,i)}catch{return!0}}function g0(e){var n=_i(e,2);n!==null&&Dn(n,e,2)}function yh(e){var n=$e();if(typeof e=="function"){var i=e;if(e=i(),ku){Vs(!0);try{i()}finally{Vs(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:e},n}function D0(e,n,i,a){return e.baseState=i,gh(e,qt,typeof a=="function"?a:ys)}function BA(e,n,i,a,l){if(So(e))throw Error(r(485));if(e=n.action,e!==null){var h={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};O.T!==null?i(!0):h.isTransition=!1,a(h),i=n.pending,i===null?(h.next=n.pending=h,y0(n,h)):(h.next=i.next,n.pending=i.next=h)}}function y0(e,n){var i=n.action,a=n.payload,l=e.state;if(n.isTransition){var h=O.T,y={};O.T=y;try{var v=i(l,a),F=O.S;F!==null&&F(y,v),A0(e,n,v)}catch(q){Ah(e,n,q)}finally{O.T=h}}else try{h=i(l,a),A0(e,n,h)}catch(q){Ah(e,n,q)}}function A0(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){v0(e,n,a)},function(a){return Ah(e,n,a)}):v0(e,n,i)}function v0(e,n,i){n.status="fulfilled",n.value=i,_0(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,y0(e,i)))}function Ah(e,n,i){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do n.status="rejected",n.reason=i,_0(n),n=n.next;while(n!==a)}e.action=null}function _0(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function E0(e,n){return n}function C0(e,n){if(Ot){var i=Yt.formState;if(i!==null){t:{var a=vt;if(Ot){if(ne){e:{for(var l=ne,h=ts;l.nodeType!==8;){if(!h){l=null;break e}if(l=Un(l.nextSibling),l===null){l=null;break e}}h=l.data,l=h==="F!"||h==="F"?l:null}if(l){ne=Un(l.nextSibling),a=l.data==="F!";break t}}Nu(a)}a=!1}a&&(n=i[0])}}return i=$e(),i.memoizedState=i.baseState=n,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:E0,lastRenderedState:n},i.queue=a,i=j0.bind(null,vt,a),a.dispatch=i,a=yh(!1),h=bh.bind(null,vt,!1,a.queue),a=$e(),l={state:n,dispatch:null,action:e,pending:null},a.queue=l,i=BA.bind(null,vt,l,h,i),l.dispatch=i,a.memoizedState=e,[n,i,!1]}function b0(e){var n=de();return S0(n,qt,e)}function S0(e,n,i){if(n=gh(e,n,E0)[0],e=Eo(ys)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var a=Ur(n)}catch(y){throw y===Mr?go:y}else a=n;n=de();var l=n.queue,h=l.dispatch;return i!==n.memoizedState&&(vt.flags|=2048,Oi(9,Co(),NA.bind(null,l,i),null)),[a,h,e]}function NA(e,n){e.action=n}function T0(e){var n=de(),i=qt;if(i!==null)return S0(n,i,e);de(),n=n.memoizedState,i=de();var a=i.queue.dispatch;return i.memoizedState=e,[n,a,!1]}function Oi(e,n,i,a){return e={tag:e,create:i,deps:a,inst:n,next:null},n=vt.updateQueue,n===null&&(n=ph(),vt.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,n.lastEffect=e),e}function Co(){return{destroy:void 0,resource:void 0}}function F0(){return de().memoizedState}function bo(e,n,i,a){var l=$e();a=a===void 0?null:a,vt.flags|=e,l.memoizedState=Oi(1|n,Co(),i,a)}function zr(e,n,i,a){var l=de();a=a===void 0?null:a;var h=l.memoizedState.inst;qt!==null&&a!==null&&lh(a,qt.memoizedState.deps)?l.memoizedState=Oi(n,h,i,a):(vt.flags|=e,l.memoizedState=Oi(1|n,h,i,a))}function x0(e,n){bo(8390656,8,e,n)}function w0(e,n){zr(2048,8,e,n)}function O0(e,n){return zr(4,2,e,n)}function B0(e,n){return zr(4,4,e,n)}function N0(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function R0(e,n,i){i=i!=null?i.concat([e]):null,zr(4,4,N0.bind(null,n,e),i)}function vh(){}function M0(e,n){var i=de();n=n===void 0?null:n;var a=i.memoizedState;return n!==null&&lh(n,a[1])?a[0]:(i.memoizedState=[e,n],e)}function I0(e,n){var i=de();n=n===void 0?null:n;var a=i.memoizedState;if(n!==null&&lh(n,a[1]))return a[0];if(a=e(),ku){Vs(!0);try{e()}finally{Vs(!1)}}return i.memoizedState=[a,n],a}function _h(e,n,i){return i===void 0||(Ys&1073741824)!==0?e.memoizedState=n:(e.memoizedState=i,e=qm(),vt.lanes|=e,Js|=e,i)}function k0(e,n,i,a){return hn(i,n)?i:Fi.current!==null?(e=_h(e,i,a),hn(e,n)||(Ae=!0),e):(Ys&42)===0?(Ae=!0,e.memoizedState=i):(e=qm(),vt.lanes|=e,Js|=e,n)}function L0(e,n,i,a,l){var h=j.p;j.p=h!==0&&8>h?h:8;var y=O.T,v={};O.T=v,bh(e,!1,n,i);try{var F=l(),q=O.S;if(q!==null&&q(v,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var H=xA(F,a);jr(e,n,H,gn(e))}else jr(e,n,a,gn(e))}catch(W){jr(e,n,{then:function(){},status:"rejected",reason:W},gn())}finally{j.p=h,O.T=y}}function RA(){}function Eh(e,n,i,a){if(e.tag!==5)throw Error(r(476));var l=q0(e).queue;L0(e,l,n,tt,i===null?RA:function(){return V0(e),i(a)})}function q0(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:tt,baseState:tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:tt},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function V0(e){var n=q0(e).next.queue;jr(e,n,{},gn())}function Ch(){return Ie(ra)}function U0(){return de().memoizedState}function z0(){return de().memoizedState}function MA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=gn();e=Ps(i);var a=Hs(n,e,i);a!==null&&(Dn(a,n,i),kr(a,n,i)),n={cache:Jc()},e.payload=n;return}n=n.return}}function IA(e,n,i){var a=gn();i={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},So(e)?G0(n,i):(i=Gc(e,n,i,a),i!==null&&(Dn(i,e,a),P0(i,n,a)))}function j0(e,n,i){var a=gn();jr(e,n,i,a)}function jr(e,n,i,a){var l={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(So(e))G0(n,l);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var y=n.lastRenderedState,v=h(y,i);if(l.hasEagerState=!0,l.eagerState=v,hn(v,y))return ao(e,n,l,0),Yt===null&&ro(),!1}catch{}finally{}if(i=Gc(e,n,l,a),i!==null)return Dn(i,e,a),P0(i,n,a),!0}return!1}function bh(e,n,i,a){if(a={lane:2,revertLane:nf(),action:a,hasEagerState:!1,eagerState:null,next:null},So(e)){if(n)throw Error(r(479))}else n=Gc(e,i,a,2),n!==null&&Dn(n,e,2)}function So(e){var n=e.alternate;return e===vt||n!==null&&n===vt}function G0(e,n){xi=Ao=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function P0(e,n,i){if((i&4194048)!==0){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,$d(e,i)}}var To={readContext:Ie,use:_o,useCallback:re,useContext:re,useEffect:re,useImperativeHandle:re,useLayoutEffect:re,useInsertionEffect:re,useMemo:re,useReducer:re,useRef:re,useState:re,useDebugValue:re,useDeferredValue:re,useTransition:re,useSyncExternalStore:re,useId:re,useHostTransitionStatus:re,useFormState:re,useActionState:re,useOptimistic:re,useMemoCache:re,useCacheRefresh:re},H0={readContext:Ie,use:_o,useCallback:function(e,n){return $e().memoizedState=[e,n===void 0?null:n],e},useContext:Ie,useEffect:x0,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,bo(4194308,4,N0.bind(null,n,e),i)},useLayoutEffect:function(e,n){return bo(4194308,4,e,n)},useInsertionEffect:function(e,n){bo(4,2,e,n)},useMemo:function(e,n){var i=$e();n=n===void 0?null:n;var a=e();if(ku){Vs(!0);try{e()}finally{Vs(!1)}}return i.memoizedState=[a,n],a},useReducer:function(e,n,i){var a=$e();if(i!==void 0){var l=i(n);if(ku){Vs(!0);try{i(n)}finally{Vs(!1)}}}else l=n;return a.memoizedState=a.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},a.queue=e,e=e.dispatch=IA.bind(null,vt,e),[a.memoizedState,e]},useRef:function(e){var n=$e();return e={current:e},n.memoizedState=e},useState:function(e){e=yh(e);var n=e.queue,i=j0.bind(null,vt,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:vh,useDeferredValue:function(e,n){var i=$e();return _h(i,e,n)},useTransition:function(){var e=yh(!1);return e=L0.bind(null,vt,e.queue,!0,!1),$e().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var a=vt,l=$e();if(Ot){if(i===void 0)throw Error(r(407));i=i()}else{if(i=n(),Yt===null)throw Error(r(349));(Ft&124)!==0||f0(a,n,i)}l.memoizedState=i;var h={value:i,getSnapshot:n};return l.queue=h,x0(p0.bind(null,a,h,e),[e]),a.flags|=2048,Oi(9,Co(),d0.bind(null,a,h,i,n),null),i},useId:function(){var e=$e(),n=Yt.identifierPrefix;if(Ot){var i=ms,a=ps;i=(a&~(1<<32-cn(a)-1)).toString(32)+i,n="«"+n+"R"+i,i=vo++,0<i&&(n+="H"+i.toString(32)),n+="»"}else i=wA++,n="«"+n+"r"+i.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Ch,useFormState:C0,useActionState:C0,useOptimistic:function(e){var n=$e();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=bh.bind(null,vt,!0,i),i.dispatch=n,[e,n]},useMemoCache:mh,useCacheRefresh:function(){return $e().memoizedState=MA.bind(null,vt)}},Y0={readContext:Ie,use:_o,useCallback:M0,useContext:Ie,useEffect:w0,useImperativeHandle:R0,useInsertionEffect:O0,useLayoutEffect:B0,useMemo:I0,useReducer:Eo,useRef:F0,useState:function(){return Eo(ys)},useDebugValue:vh,useDeferredValue:function(e,n){var i=de();return k0(i,qt.memoizedState,e,n)},useTransition:function(){var e=Eo(ys)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Ur(e),n]},useSyncExternalStore:h0,useId:U0,useHostTransitionStatus:Ch,useFormState:b0,useActionState:b0,useOptimistic:function(e,n){var i=de();return D0(i,qt,e,n)},useMemoCache:mh,useCacheRefresh:z0},kA={readContext:Ie,use:_o,useCallback:M0,useContext:Ie,useEffect:w0,useImperativeHandle:R0,useInsertionEffect:O0,useLayoutEffect:B0,useMemo:I0,useReducer:Dh,useRef:F0,useState:function(){return Dh(ys)},useDebugValue:vh,useDeferredValue:function(e,n){var i=de();return qt===null?_h(i,e,n):k0(i,qt.memoizedState,e,n)},useTransition:function(){var e=Dh(ys)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Ur(e),n]},useSyncExternalStore:h0,useId:U0,useHostTransitionStatus:Ch,useFormState:T0,useActionState:T0,useOptimistic:function(e,n){var i=de();return qt!==null?D0(i,qt,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:mh,useCacheRefresh:z0},Bi=null,Gr=0;function Fo(e){var n=Gr;return Gr+=1,Bi===null&&(Bi=[]),s0(Bi,e,n)}function Pr(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function xo(e,n){throw n.$$typeof===D?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function X0(e){var n=e._init;return n(e._payload)}function Z0(e){function n(N,w){if(e){var k=N.deletions;k===null?(N.deletions=[w],N.flags|=16):k.push(w)}}function i(N,w){if(!e)return null;for(;w!==null;)n(N,w),w=w.sibling;return null}function a(N){for(var w=new Map;N!==null;)N.key!==null?w.set(N.key,N):w.set(N.index,N),N=N.sibling;return w}function l(N,w){return N=ds(N,w),N.index=0,N.sibling=null,N}function h(N,w,k){return N.index=k,e?(k=N.alternate,k!==null?(k=k.index,k<w?(N.flags|=67108866,w):k):(N.flags|=67108866,w)):(N.flags|=1048576,w)}function y(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function v(N,w,k,Z){return w===null||w.tag!==6?(w=Hc(k,N.mode,Z),w.return=N,w):(w=l(w,k),w.return=N,w)}function F(N,w,k,Z){var ct=k.type;return ct===_?H(N,w,k.props.children,Z,k.key):w!==null&&(w.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===B&&X0(ct)===w.type)?(w=l(w,k.props),Pr(w,k),w.return=N,w):(w=lo(k.type,k.key,k.props,null,N.mode,Z),Pr(w,k),w.return=N,w)}function q(N,w,k,Z){return w===null||w.tag!==4||w.stateNode.containerInfo!==k.containerInfo||w.stateNode.implementation!==k.implementation?(w=Yc(k,N.mode,Z),w.return=N,w):(w=l(w,k.children||[]),w.return=N,w)}function H(N,w,k,Z,ct){return w===null||w.tag!==7?(w=xu(k,N.mode,Z,ct),w.return=N,w):(w=l(w,k),w.return=N,w)}function W(N,w,k){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Hc(""+w,N.mode,k),w.return=N,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case A:return k=lo(w.type,w.key,w.props,null,N.mode,k),Pr(k,w),k.return=N,k;case E:return w=Yc(w,N.mode,k),w.return=N,w;case B:var Z=w._init;return w=Z(w._payload),W(N,w,k)}if(J(w)||P(w))return w=xu(w,N.mode,k,null),w.return=N,w;if(typeof w.then=="function")return W(N,Fo(w),k);if(w.$$typeof===z)return W(N,po(N,w),k);xo(N,w)}return null}function V(N,w,k,Z){var ct=w!==null?w.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ct!==null?null:v(N,w,""+k,Z);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case A:return k.key===ct?F(N,w,k,Z):null;case E:return k.key===ct?q(N,w,k,Z):null;case B:return ct=k._init,k=ct(k._payload),V(N,w,k,Z)}if(J(k)||P(k))return ct!==null?null:H(N,w,k,Z,null);if(typeof k.then=="function")return V(N,w,Fo(k),Z);if(k.$$typeof===z)return V(N,w,po(N,k),Z);xo(N,k)}return null}function U(N,w,k,Z,ct){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return N=N.get(k)||null,v(w,N,""+Z,ct);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return N=N.get(Z.key===null?k:Z.key)||null,F(w,N,Z,ct);case E:return N=N.get(Z.key===null?k:Z.key)||null,q(w,N,Z,ct);case B:var _t=Z._init;return Z=_t(Z._payload),U(N,w,k,Z,ct)}if(J(Z)||P(Z))return N=N.get(k)||null,H(w,N,Z,ct,null);if(typeof Z.then=="function")return U(N,w,k,Fo(Z),ct);if(Z.$$typeof===z)return U(N,w,k,po(w,Z),ct);xo(w,Z)}return null}function gt(N,w,k,Z){for(var ct=null,_t=null,ht=w,pt=w=0,_e=null;ht!==null&&pt<k.length;pt++){ht.index>pt?(_e=ht,ht=null):_e=ht.sibling;var xt=V(N,ht,k[pt],Z);if(xt===null){ht===null&&(ht=_e);break}e&&ht&&xt.alternate===null&&n(N,ht),w=h(xt,w,pt),_t===null?ct=xt:_t.sibling=xt,_t=xt,ht=_e}if(pt===k.length)return i(N,ht),Ot&&Ou(N,pt),ct;if(ht===null){for(;pt<k.length;pt++)ht=W(N,k[pt],Z),ht!==null&&(w=h(ht,w,pt),_t===null?ct=ht:_t.sibling=ht,_t=ht);return Ot&&Ou(N,pt),ct}for(ht=a(ht);pt<k.length;pt++)_e=U(ht,N,pt,k[pt],Z),_e!==null&&(e&&_e.alternate!==null&&ht.delete(_e.key===null?pt:_e.key),w=h(_e,w,pt),_t===null?ct=_e:_t.sibling=_e,_t=_e);return e&&ht.forEach(function(ou){return n(N,ou)}),Ot&&Ou(N,pt),ct}function dt(N,w,k,Z){if(k==null)throw Error(r(151));for(var ct=null,_t=null,ht=w,pt=w=0,_e=null,xt=k.next();ht!==null&&!xt.done;pt++,xt=k.next()){ht.index>pt?(_e=ht,ht=null):_e=ht.sibling;var ou=V(N,ht,xt.value,Z);if(ou===null){ht===null&&(ht=_e);break}e&&ht&&ou.alternate===null&&n(N,ht),w=h(ou,w,pt),_t===null?ct=ou:_t.sibling=ou,_t=ou,ht=_e}if(xt.done)return i(N,ht),Ot&&Ou(N,pt),ct;if(ht===null){for(;!xt.done;pt++,xt=k.next())xt=W(N,xt.value,Z),xt!==null&&(w=h(xt,w,pt),_t===null?ct=xt:_t.sibling=xt,_t=xt);return Ot&&Ou(N,pt),ct}for(ht=a(ht);!xt.done;pt++,xt=k.next())xt=U(ht,N,pt,xt.value,Z),xt!==null&&(e&&xt.alternate!==null&&ht.delete(xt.key===null?pt:xt.key),w=h(xt,w,pt),_t===null?ct=xt:_t.sibling=xt,_t=xt);return e&&ht.forEach(function(Lv){return n(N,Lv)}),Ot&&Ou(N,pt),ct}function Ut(N,w,k,Z){if(typeof k=="object"&&k!==null&&k.type===_&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case A:t:{for(var ct=k.key;w!==null;){if(w.key===ct){if(ct=k.type,ct===_){if(w.tag===7){i(N,w.sibling),Z=l(w,k.props.children),Z.return=N,N=Z;break t}}else if(w.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===B&&X0(ct)===w.type){i(N,w.sibling),Z=l(w,k.props),Pr(Z,k),Z.return=N,N=Z;break t}i(N,w);break}else n(N,w);w=w.sibling}k.type===_?(Z=xu(k.props.children,N.mode,Z,k.key),Z.return=N,N=Z):(Z=lo(k.type,k.key,k.props,null,N.mode,Z),Pr(Z,k),Z.return=N,N=Z)}return y(N);case E:t:{for(ct=k.key;w!==null;){if(w.key===ct)if(w.tag===4&&w.stateNode.containerInfo===k.containerInfo&&w.stateNode.implementation===k.implementation){i(N,w.sibling),Z=l(w,k.children||[]),Z.return=N,N=Z;break t}else{i(N,w);break}else n(N,w);w=w.sibling}Z=Yc(k,N.mode,Z),Z.return=N,N=Z}return y(N);case B:return ct=k._init,k=ct(k._payload),Ut(N,w,k,Z)}if(J(k))return gt(N,w,k,Z);if(P(k)){if(ct=P(k),typeof ct!="function")throw Error(r(150));return k=ct.call(k),dt(N,w,k,Z)}if(typeof k.then=="function")return Ut(N,w,Fo(k),Z);if(k.$$typeof===z)return Ut(N,w,po(N,k),Z);xo(N,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,w!==null&&w.tag===6?(i(N,w.sibling),Z=l(w,k),Z.return=N,N=Z):(i(N,w),Z=Hc(k,N.mode,Z),Z.return=N,N=Z),y(N)):i(N,w)}return function(N,w,k,Z){try{Gr=0;var ct=Ut(N,w,k,Z);return Bi=null,ct}catch(ht){if(ht===Mr||ht===go)throw ht;var _t=fn(29,ht,null,N.mode);return _t.lanes=Z,_t.return=N,_t}finally{}}}var Ni=Z0(!0),Q0=Z0(!1),wn=L(null),es=null;function Xs(e){var n=e.alternate;et(me,me.current&1),et(wn,e),es===null&&(n===null||Fi.current!==null||n.memoizedState!==null)&&(es=e)}function W0(e){if(e.tag===22){if(et(me,me.current),et(wn,e),es===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(es=e)}}else Zs()}function Zs(){et(me,me.current),et(wn,wn.current)}function As(e){K(wn),es===e&&(es=null),K(me)}var me=L(0);function wo(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||mf(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Sh(e,n,i,a){n=e.memoizedState,i=i(a,n),i=i==null?n:g({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Th={enqueueSetState:function(e,n,i){e=e._reactInternals;var a=gn(),l=Ps(a);l.payload=n,i!=null&&(l.callback=i),n=Hs(e,l,a),n!==null&&(Dn(n,e,a),kr(n,e,a))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var a=gn(),l=Ps(a);l.tag=1,l.payload=n,i!=null&&(l.callback=i),n=Hs(e,l,a),n!==null&&(Dn(n,e,a),kr(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=gn(),a=Ps(i);a.tag=2,n!=null&&(a.callback=n),n=Hs(e,a,i),n!==null&&(Dn(n,e,i),kr(n,e,i))}};function K0(e,n,i,a,l,h,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,y):n.prototype&&n.prototype.isPureReactComponent?!Tr(i,a)||!Tr(l,h):!0}function $0(e,n,i,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,a),n.state!==e&&Th.enqueueReplaceState(n,n.state,null)}function Lu(e,n){var i=n;if("ref"in n){i={};for(var a in n)a!=="ref"&&(i[a]=n[a])}if(e=e.defaultProps){i===n&&(i=g({},i));for(var l in e)i[l]===void 0&&(i[l]=e[l])}return i}var Oo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function J0(e){Oo(e)}function tm(e){console.error(e)}function em(e){Oo(e)}function Bo(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(a){setTimeout(function(){throw a})}}function nm(e,n,i){try{var a=e.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Fh(e,n,i){return i=Ps(i),i.tag=3,i.payload={element:null},i.callback=function(){Bo(e,n)},i}function sm(e){return e=Ps(e),e.tag=3,e}function um(e,n,i,a){var l=i.type.getDerivedStateFromError;if(typeof l=="function"){var h=a.value;e.payload=function(){return l(h)},e.callback=function(){nm(n,i,a)}}var y=i.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){nm(n,i,a),typeof l!="function"&&(tu===null?tu=new Set([this]):tu.add(this));var v=a.stack;this.componentDidCatch(a.value,{componentStack:v!==null?v:""})})}function LA(e,n,i,a,l){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(n=i.alternate,n!==null&&Br(n,i,l,!0),i=wn.current,i!==null){switch(i.tag){case 13:return es===null?Kh():i.alternate===null&&se===0&&(se=3),i.flags&=-257,i.flags|=65536,i.lanes=l,a===nh?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([a]):n.add(a),Jh(e,a,l)),!1;case 22:return i.flags|=65536,a===nh?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([a]):i.add(a)),Jh(e,a,l)),!1}throw Error(r(435,i.tag))}return Jh(e,a,l),Kh(),!1}if(Ot)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=l,a!==Qc&&(e=Error(r(422),{cause:a}),Or(Sn(e,i)))):(a!==Qc&&(n=Error(r(423),{cause:a}),Or(Sn(n,i))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,a=Sn(a,i),l=Fh(e.stateNode,a,l),ih(e,l),se!==4&&(se=2)),!1;var h=Error(r(520),{cause:a});if(h=Sn(h,i),Kr===null?Kr=[h]:Kr.push(h),se!==4&&(se=2),n===null)return!0;a=Sn(a,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=l&-l,i.lanes|=e,e=Fh(i.stateNode,a,e),ih(i,e),!1;case 1:if(n=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(tu===null||!tu.has(h))))return i.flags|=65536,l&=-l,i.lanes|=l,l=sm(l),um(l,e,i,a),ih(i,l),!1}i=i.return}while(i!==null);return!1}var im=Error(r(461)),Ae=!1;function Se(e,n,i,a){n.child=e===null?Q0(n,null,i,a):Ni(n,e.child,i,a)}function rm(e,n,i,a,l){i=i.render;var h=n.ref;if("ref"in a){var y={};for(var v in a)v!=="ref"&&(y[v]=a[v])}else y=a;return Mu(n),a=ch(e,n,i,y,h,l),v=hh(),e!==null&&!Ae?(fh(e,n,l),vs(e,n,l)):(Ot&&v&&Xc(n),n.flags|=1,Se(e,n,a,l),n.child)}function am(e,n,i,a,l){if(e===null){var h=i.type;return typeof h=="function"&&!Pc(h)&&h.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=h,om(e,n,h,a,l)):(e=lo(i.type,null,a,n,n.mode,l),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!Ih(e,l)){var y=h.memoizedProps;if(i=i.compare,i=i!==null?i:Tr,i(y,a)&&e.ref===n.ref)return vs(e,n,l)}return n.flags|=1,e=ds(h,a),e.ref=n.ref,e.return=n,n.child=e}function om(e,n,i,a,l){if(e!==null){var h=e.memoizedProps;if(Tr(h,a)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=a=h,Ih(e,l))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,vs(e,n,l)}return xh(e,n,i,a,l)}function lm(e,n,i){var a=n.pendingProps,l=a.children,h=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((n.flags&128)!==0){if(a=h!==null?h.baseLanes|i:i,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;n.childLanes=h&~a}else n.childLanes=0,n.child=null;return cm(e,n,a,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&mo(n,h!==null?h.cachePool:null),h!==null?o0(n,h):ah(),W0(n);else return n.lanes=n.childLanes=536870912,cm(e,n,h!==null?h.baseLanes|i:i,i)}else h!==null?(mo(n,h.cachePool),o0(n,h),Zs(),n.memoizedState=null):(e!==null&&mo(n,null),ah(),Zs());return Se(e,n,l,i),n.child}function cm(e,n,i,a){var l=eh();return l=l===null?null:{parent:pe._currentValue,pool:l},n.memoizedState={baseLanes:i,cachePool:l},e!==null&&mo(n,null),ah(),W0(n),e!==null&&Br(e,n,a,!0),null}function No(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function xh(e,n,i,a,l){return Mu(n),i=ch(e,n,i,a,void 0,l),a=hh(),e!==null&&!Ae?(fh(e,n,l),vs(e,n,l)):(Ot&&a&&Xc(n),n.flags|=1,Se(e,n,i,l),n.child)}function hm(e,n,i,a,l,h){return Mu(n),n.updateQueue=null,i=c0(n,a,i,l),l0(e),a=hh(),e!==null&&!Ae?(fh(e,n,h),vs(e,n,h)):(Ot&&a&&Xc(n),n.flags|=1,Se(e,n,i,h),n.child)}function fm(e,n,i,a,l){if(Mu(n),n.stateNode===null){var h=Ei,y=i.contextType;typeof y=="object"&&y!==null&&(h=Ie(y)),h=new i(a,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Th,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=a,h.state=n.memoizedState,h.refs={},sh(n),y=i.contextType,h.context=typeof y=="object"&&y!==null?Ie(y):Ei,h.state=n.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(Sh(n,i,y,a),h.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&Th.enqueueReplaceState(h,h.state,null),qr(n,a,h,l),Lr(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),a=!0}else if(e===null){h=n.stateNode;var v=n.memoizedProps,F=Lu(i,v);h.props=F;var q=h.context,H=i.contextType;y=Ei,typeof H=="object"&&H!==null&&(y=Ie(H));var W=i.getDerivedStateFromProps;H=typeof W=="function"||typeof h.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,H||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v||q!==y)&&$0(n,h,a,y),Gs=!1;var V=n.memoizedState;h.state=V,qr(n,a,h,l),Lr(),q=n.memoizedState,v||V!==q||Gs?(typeof W=="function"&&(Sh(n,i,W,a),q=n.memoizedState),(F=Gs||K0(n,i,F,a,V,q,y))?(H||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=q),h.props=a,h.state=q,h.context=y,a=F):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{h=n.stateNode,uh(e,n),y=n.memoizedProps,H=Lu(i,y),h.props=H,W=n.pendingProps,V=h.context,q=i.contextType,F=Ei,typeof q=="object"&&q!==null&&(F=Ie(q)),v=i.getDerivedStateFromProps,(q=typeof v=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==W||V!==F)&&$0(n,h,a,F),Gs=!1,V=n.memoizedState,h.state=V,qr(n,a,h,l),Lr();var U=n.memoizedState;y!==W||V!==U||Gs||e!==null&&e.dependencies!==null&&fo(e.dependencies)?(typeof v=="function"&&(Sh(n,i,v,a),U=n.memoizedState),(H=Gs||K0(n,i,H,a,V,U,F)||e!==null&&e.dependencies!==null&&fo(e.dependencies))?(q||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(a,U,F),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(a,U,F)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&V===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&V===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=U),h.props=a,h.state=U,h.context=F,a=H):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&V===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&V===e.memoizedState||(n.flags|=1024),a=!1)}return h=a,No(e,n),a=(n.flags&128)!==0,h||a?(h=n.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&a?(n.child=Ni(n,e.child,null,l),n.child=Ni(n,null,i,l)):Se(e,n,i,l),n.memoizedState=h.state,e=n.child):e=vs(e,n,l),e}function dm(e,n,i,a){return wr(),n.flags|=256,Se(e,n,i,a),n.child}var wh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oh(e){return{baseLanes:e,cachePool:t0()}}function Bh(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=On),e}function pm(e,n,i){var a=n.pendingProps,l=!1,h=(n.flags&128)!==0,y;if((y=h)||(y=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),y&&(l=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ot){if(l?Xs(n):Zs(),Ot){var v=ne,F;if(F=v){t:{for(F=v,v=ts;F.nodeType!==8;){if(!v){v=null;break t}if(F=Un(F.nextSibling),F===null){v=null;break t}}v=F}v!==null?(n.memoizedState={dehydrated:v,treeContext:wu!==null?{id:ps,overflow:ms}:null,retryLane:536870912,hydrationErrors:null},F=fn(18,null,null,0),F.stateNode=v,F.return=n,n.child=F,Ue=n,ne=null,F=!0):F=!1}F||Nu(n)}if(v=n.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return mf(v)?n.lanes=32:n.lanes=536870912,null;As(n)}return v=a.children,a=a.fallback,l?(Zs(),l=n.mode,v=Ro({mode:"hidden",children:v},l),a=xu(a,l,i,null),v.return=n,a.return=n,v.sibling=a,n.child=v,l=n.child,l.memoizedState=Oh(i),l.childLanes=Bh(e,y,i),n.memoizedState=wh,a):(Xs(n),Nh(n,v))}if(F=e.memoizedState,F!==null&&(v=F.dehydrated,v!==null)){if(h)n.flags&256?(Xs(n),n.flags&=-257,n=Rh(e,n,i)):n.memoizedState!==null?(Zs(),n.child=e.child,n.flags|=128,n=null):(Zs(),l=a.fallback,v=n.mode,a=Ro({mode:"visible",children:a.children},v),l=xu(l,v,i,null),l.flags|=2,a.return=n,l.return=n,a.sibling=l,n.child=a,Ni(n,e.child,null,i),a=n.child,a.memoizedState=Oh(i),a.childLanes=Bh(e,y,i),n.memoizedState=wh,n=l);else if(Xs(n),mf(v)){if(y=v.nextSibling&&v.nextSibling.dataset,y)var q=y.dgst;y=q,a=Error(r(419)),a.stack="",a.digest=y,Or({value:a,source:null,stack:null}),n=Rh(e,n,i)}else if(Ae||Br(e,n,i,!1),y=(i&e.childLanes)!==0,Ae||y){if(y=Yt,y!==null&&(a=i&-i,a=(a&42)!==0?1:mc(a),a=(a&(y.suspendedLanes|i))!==0?0:a,a!==0&&a!==F.retryLane))throw F.retryLane=a,_i(e,a),Dn(y,e,a),im;v.data==="$?"||Kh(),n=Rh(e,n,i)}else v.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=F.treeContext,ne=Un(v.nextSibling),Ue=n,Ot=!0,Bu=null,ts=!1,e!==null&&(Fn[xn++]=ps,Fn[xn++]=ms,Fn[xn++]=wu,ps=e.id,ms=e.overflow,wu=n),n=Nh(n,a.children),n.flags|=4096);return n}return l?(Zs(),l=a.fallback,v=n.mode,F=e.child,q=F.sibling,a=ds(F,{mode:"hidden",children:a.children}),a.subtreeFlags=F.subtreeFlags&65011712,q!==null?l=ds(q,l):(l=xu(l,v,i,null),l.flags|=2),l.return=n,a.return=n,a.sibling=l,n.child=a,a=l,l=n.child,v=e.child.memoizedState,v===null?v=Oh(i):(F=v.cachePool,F!==null?(q=pe._currentValue,F=F.parent!==q?{parent:q,pool:q}:F):F=t0(),v={baseLanes:v.baseLanes|i,cachePool:F}),l.memoizedState=v,l.childLanes=Bh(e,y,i),n.memoizedState=wh,a):(Xs(n),i=e.child,e=i.sibling,i=ds(i,{mode:"visible",children:a.children}),i.return=n,i.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=i,n.memoizedState=null,i)}function Nh(e,n){return n=Ro({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ro(e,n){return e=fn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Rh(e,n,i){return Ni(n,e.child,null,i),e=Nh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function mm(e,n,i){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),Kc(e.return,n,i)}function Mh(e,n,i,a,l){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:l}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=i,h.tailMode=l)}function gm(e,n,i){var a=n.pendingProps,l=a.revealOrder,h=a.tail;if(Se(e,n,a.children,i),a=me.current,(a&2)!==0)a=a&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mm(e,i,n);else if(e.tag===19)mm(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(et(me,a),l){case"forwards":for(i=n.child,l=null;i!==null;)e=i.alternate,e!==null&&wo(e)===null&&(l=i),i=i.sibling;i=l,i===null?(l=n.child,n.child=null):(l=i.sibling,i.sibling=null),Mh(n,!1,l,i,h);break;case"backwards":for(i=null,l=n.child,n.child=null;l!==null;){if(e=l.alternate,e!==null&&wo(e)===null){n.child=l;break}e=l.sibling,l.sibling=i,i=l,l=e}Mh(n,!0,i,null,h);break;case"together":Mh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function vs(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Js|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Br(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,i=ds(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=ds(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Ih(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&fo(e)))}function qA(e,n,i){switch(n.tag){case 3:it(n,n.stateNode.containerInfo),js(n,pe,e.memoizedState.cache),wr();break;case 27:case 5:kn(n);break;case 4:it(n,n.stateNode.containerInfo);break;case 10:js(n,n.type,n.memoizedProps.value);break;case 13:var a=n.memoizedState;if(a!==null)return a.dehydrated!==null?(Xs(n),n.flags|=128,null):(i&n.child.childLanes)!==0?pm(e,n,i):(Xs(n),e=vs(e,n,i),e!==null?e.sibling:null);Xs(n);break;case 19:var l=(e.flags&128)!==0;if(a=(i&n.childLanes)!==0,a||(Br(e,n,i,!1),a=(i&n.childLanes)!==0),l){if(a)return gm(e,n,i);n.flags|=128}if(l=n.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),et(me,me.current),a)break;return null;case 22:case 23:return n.lanes=0,lm(e,n,i);case 24:js(n,pe,e.memoizedState.cache)}return vs(e,n,i)}function Dm(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Ih(e,i)&&(n.flags&128)===0)return Ae=!1,qA(e,n,i);Ae=(e.flags&131072)!==0}else Ae=!1,Ot&&(n.flags&1048576)!==0&&Xp(n,ho,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var a=n.elementType,l=a._init;if(a=l(a._payload),n.type=a,typeof a=="function")Pc(a)?(e=Lu(a,e),n.tag=1,n=fm(null,n,a,e,i)):(n.tag=0,n=xh(null,n,a,e,i));else{if(a!=null){if(l=a.$$typeof,l===Y){n.tag=11,n=rm(null,n,a,e,i);break t}else if(l===I){n.tag=14,n=am(null,n,a,e,i);break t}}throw n=st(a)||a,Error(r(306,n,""))}}return n;case 0:return xh(e,n,n.type,n.pendingProps,i);case 1:return a=n.type,l=Lu(a,n.pendingProps),fm(e,n,a,l,i);case 3:t:{if(it(n,n.stateNode.containerInfo),e===null)throw Error(r(387));a=n.pendingProps;var h=n.memoizedState;l=h.element,uh(e,n),qr(n,a,null,i);var y=n.memoizedState;if(a=y.cache,js(n,pe,a),a!==h.cache&&$c(n,[pe],i,!0),Lr(),a=y.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=dm(e,n,a,i);break t}else if(a!==l){l=Sn(Error(r(424)),n),Or(l),n=dm(e,n,a,i);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ne=Un(e.firstChild),Ue=n,Ot=!0,Bu=null,ts=!0,i=Q0(n,null,a,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(wr(),a===l){n=vs(e,n,i);break t}Se(e,n,a,i)}n=n.child}return n;case 26:return No(e,n),e===null?(i=_1(n.type,null,n.pendingProps,null))?n.memoizedState=i:Ot||(i=n.type,e=n.pendingProps,a=Xo(lt.current).createElement(i),a[Me]=n,a[We]=e,Fe(a,i,e),ye(a),n.stateNode=a):n.memoizedState=_1(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return kn(n),e===null&&Ot&&(a=n.stateNode=y1(n.type,n.pendingProps,lt.current),Ue=n,ts=!0,l=ne,su(n.type)?(gf=l,ne=Un(a.firstChild)):ne=l),Se(e,n,n.pendingProps.children,i),No(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ot&&((l=a=ne)&&(a=fv(a,n.type,n.pendingProps,ts),a!==null?(n.stateNode=a,Ue=n,ne=Un(a.firstChild),ts=!1,l=!0):l=!1),l||Nu(n)),kn(n),l=n.type,h=n.pendingProps,y=e!==null?e.memoizedProps:null,a=h.children,ff(l,h)?a=null:y!==null&&ff(l,y)&&(n.flags|=32),n.memoizedState!==null&&(l=ch(e,n,OA,null,null,i),ra._currentValue=l),No(e,n),Se(e,n,a,i),n.child;case 6:return e===null&&Ot&&((e=i=ne)&&(i=dv(i,n.pendingProps,ts),i!==null?(n.stateNode=i,Ue=n,ne=null,e=!0):e=!1),e||Nu(n)),null;case 13:return pm(e,n,i);case 4:return it(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=Ni(n,null,a,i):Se(e,n,a,i),n.child;case 11:return rm(e,n,n.type,n.pendingProps,i);case 7:return Se(e,n,n.pendingProps,i),n.child;case 8:return Se(e,n,n.pendingProps.children,i),n.child;case 12:return Se(e,n,n.pendingProps.children,i),n.child;case 10:return a=n.pendingProps,js(n,n.type,a.value),Se(e,n,a.children,i),n.child;case 9:return l=n.type._context,a=n.pendingProps.children,Mu(n),l=Ie(l),a=a(l),n.flags|=1,Se(e,n,a,i),n.child;case 14:return am(e,n,n.type,n.pendingProps,i);case 15:return om(e,n,n.type,n.pendingProps,i);case 19:return gm(e,n,i);case 31:return a=n.pendingProps,i=n.mode,a={mode:a.mode,children:a.children},e===null?(i=Ro(a,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=ds(e.child,a),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return lm(e,n,i);case 24:return Mu(n),a=Ie(pe),e===null?(l=eh(),l===null&&(l=Yt,h=Jc(),l.pooledCache=h,h.refCount++,h!==null&&(l.pooledCacheLanes|=i),l=h),n.memoizedState={parent:a,cache:l},sh(n),js(n,pe,l)):((e.lanes&i)!==0&&(uh(e,n),qr(n,null,null,i),Lr()),l=e.memoizedState,h=n.memoizedState,l.parent!==a?(l={parent:a,cache:a},n.memoizedState=l,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=l),js(n,pe,a)):(a=h.cache,js(n,pe,a),a!==l.cache&&$c(n,[pe],i,!0))),Se(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function _s(e){e.flags|=4}function ym(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!T1(n)){if(n=wn.current,n!==null&&((Ft&4194048)===Ft?es!==null:(Ft&62914560)!==Ft&&(Ft&536870912)===0||n!==es))throw Ir=nh,e0;e.flags|=8192}}function Mo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Wd():536870912,e.lanes|=n,ki|=n)}function Hr(e,n){if(!Ot)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function te(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(n)for(var l=e.child;l!==null;)i|=l.lanes|l.childLanes,a|=l.subtreeFlags&65011712,a|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)i|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=a,e.childLanes=i,n}function VA(e,n,i){var a=n.pendingProps;switch(Zc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return i=n.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ds(pe),Re(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(xr(n)?_s(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wp())),te(n),null;case 26:return i=n.memoizedState,e===null?(_s(n),i!==null?(te(n),ym(n,i)):(te(n),n.flags&=-16777217)):i?i!==e.memoizedState?(_s(n),te(n),ym(n,i)):(te(n),n.flags&=-16777217):(e.memoizedProps!==a&&_s(n),te(n),n.flags&=-16777217),null;case 27:Ln(n),i=lt.current;var l=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==a&&_s(n);else{if(!a){if(n.stateNode===null)throw Error(r(166));return te(n),null}e=at.current,xr(n)?Zp(n):(e=y1(l,a,i),n.stateNode=e,_s(n))}return te(n),null;case 5:if(Ln(n),i=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&_s(n);else{if(!a){if(n.stateNode===null)throw Error(r(166));return te(n),null}if(e=at.current,xr(n))Zp(n);else{switch(l=Xo(lt.current),e){case 1:e=l.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=l.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=l.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=l.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?l.createElement("select",{is:a.is}):l.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?l.createElement(i,{is:a.is}):l.createElement(i)}}e[Me]=n,e[We]=a;t:for(l=n.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break t;for(;l.sibling===null;){if(l.return===null||l.return===n)break t;l=l.return}l.sibling.return=l.return,l=l.sibling}n.stateNode=e;t:switch(Fe(e,i,a),i){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&_s(n)}}return te(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==a&&_s(n);else{if(typeof a!="string"&&n.stateNode===null)throw Error(r(166));if(e=lt.current,xr(n)){if(e=n.stateNode,i=n.memoizedProps,a=null,l=Ue,l!==null)switch(l.tag){case 27:case 5:a=l.memoizedProps}e[Me]=n,e=!!(e.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||h1(e.nodeValue,i)),e||Nu(n)}else e=Xo(e).createTextNode(a),e[Me]=n,n.stateNode=e}return te(n),null;case 13:if(a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=xr(n),a!==null&&a.dehydrated!==null){if(e===null){if(!l)throw Error(r(318));if(l=n.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));l[Me]=n}else wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),l=!1}else l=Wp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return n.flags&256?(As(n),n):(As(n),null)}if(As(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=a!==null,e=e!==null&&e.memoizedState!==null,i){a=n.child,l=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(l=a.alternate.memoizedState.cachePool.pool);var h=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==l&&(a.flags|=2048)}return i!==e&&i&&(n.child.flags|=8192),Mo(n,n.updateQueue),te(n),null;case 4:return Re(),e===null&&af(n.stateNode.containerInfo),te(n),null;case 10:return Ds(n.type),te(n),null;case 19:if(K(me),l=n.memoizedState,l===null)return te(n),null;if(a=(n.flags&128)!==0,h=l.rendering,h===null)if(a)Hr(l,!1);else{if(se!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=wo(e),h!==null){for(n.flags|=128,Hr(l,!1),e=h.updateQueue,n.updateQueue=e,Mo(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)Yp(i,e),i=i.sibling;return et(me,me.current&1|2),n.child}e=e.sibling}l.tail!==null&&Bt()>Lo&&(n.flags|=128,a=!0,Hr(l,!1),n.lanes=4194304)}else{if(!a)if(e=wo(h),e!==null){if(n.flags|=128,a=!0,e=e.updateQueue,n.updateQueue=e,Mo(n,e),Hr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Ot)return te(n),null}else 2*Bt()-l.renderingStartTime>Lo&&i!==536870912&&(n.flags|=128,a=!0,Hr(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(e=l.last,e!==null?e.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=Bt(),n.sibling=null,e=me.current,et(me,a?e&1|2:e&1),n):(te(n),null);case 22:case 23:return As(n),oh(),a=n.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(n.flags|=8192):a&&(n.flags|=8192),a?(i&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),i=n.updateQueue,i!==null&&Mo(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==i&&(n.flags|=2048),e!==null&&K(Iu),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Ds(pe),te(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function UA(e,n){switch(Zc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ds(pe),Re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ln(n),null;case 13:if(As(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));wr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(me),null;case 4:return Re(),null;case 10:return Ds(n.type),null;case 22:case 23:return As(n),oh(),e!==null&&K(Iu),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ds(pe),null;case 25:return null;default:return null}}function Am(e,n){switch(Zc(n),n.tag){case 3:Ds(pe),Re();break;case 26:case 27:case 5:Ln(n);break;case 4:Re();break;case 13:As(n);break;case 19:K(me);break;case 10:Ds(n.type);break;case 22:case 23:As(n),oh(),e!==null&&K(Iu);break;case 24:Ds(pe)}}function Yr(e,n){try{var i=n.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var l=a.next;i=l;do{if((i.tag&e)===e){a=void 0;var h=i.create,y=i.inst;a=h(),y.destroy=a}i=i.next}while(i!==l)}}catch(v){Pt(n,n.return,v)}}function Qs(e,n,i){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){var y=a.inst,v=y.destroy;if(v!==void 0){y.destroy=void 0,l=n;var F=i,q=v;try{q()}catch(H){Pt(l,F,H)}}}a=a.next}while(a!==h)}}catch(H){Pt(n,n.return,H)}}function vm(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{a0(n,i)}catch(a){Pt(e,e.return,a)}}}function _m(e,n,i){i.props=Lu(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(a){Pt(e,n,a)}}function Xr(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof i=="function"?e.refCleanup=i(a):i.current=a}}catch(l){Pt(e,n,l)}}function ns(e,n){var i=e.ref,a=e.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(l){Pt(e,n,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(l){Pt(e,n,l)}else i.current=null}function Em(e){var n=e.type,i=e.memoizedProps,a=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break t;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(l){Pt(e,e.return,l)}}function kh(e,n,i){try{var a=e.stateNode;av(a,e.type,i,n),a[We]=n}catch(l){Pt(e,e.return,l)}}function Cm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&su(e.type)||e.tag===4}function Lh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Cm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&su(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qh(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Yo));else if(a!==4&&(a===27&&su(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(qh(e,n,i),e=e.sibling;e!==null;)qh(e,n,i),e=e.sibling}function Io(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(a!==4&&(a===27&&su(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Io(e,n,i),e=e.sibling;e!==null;)Io(e,n,i),e=e.sibling}function bm(e){var n=e.stateNode,i=e.memoizedProps;try{for(var a=e.type,l=n.attributes;l.length;)n.removeAttributeNode(l[0]);Fe(n,a,i),n[Me]=e,n[We]=i}catch(h){Pt(e,e.return,h)}}var Es=!1,ae=!1,Vh=!1,Sm=typeof WeakSet=="function"?WeakSet:Set,ve=null;function zA(e,n){if(e=e.containerInfo,cf=Jo,e=kp(e),Lc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else t:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var l=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break t}var y=0,v=-1,F=-1,q=0,H=0,W=e,V=null;e:for(;;){for(var U;W!==i||l!==0&&W.nodeType!==3||(v=y+l),W!==h||a!==0&&W.nodeType!==3||(F=y+a),W.nodeType===3&&(y+=W.nodeValue.length),(U=W.firstChild)!==null;)V=W,W=U;for(;;){if(W===e)break e;if(V===i&&++q===l&&(v=y),V===h&&++H===a&&(F=y),(U=W.nextSibling)!==null)break;W=V,V=W.parentNode}W=U}i=v===-1||F===-1?null:{start:v,end:F}}else i=null}i=i||{start:0,end:0}}else i=null;for(hf={focusedElem:e,selectionRange:i},Jo=!1,ve=n;ve!==null;)if(n=ve,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,ve=e;else for(;ve!==null;){switch(n=ve,h=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=n,l=h.memoizedProps,h=h.memoizedState,a=i.stateNode;try{var gt=Lu(i.type,l,i.elementType===i.type);e=a.getSnapshotBeforeUpdate(gt,h),a.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Pt(i,i.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)pf(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,ve=e;break}ve=n.return}}function Tm(e,n,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:Ws(e,i),a&4&&Yr(5,i);break;case 1:if(Ws(e,i),a&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(y){Pt(i,i.return,y)}else{var l=Lu(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(l,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Pt(i,i.return,y)}}a&64&&vm(i),a&512&&Xr(i,i.return);break;case 3:if(Ws(e,i),a&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{a0(e,n)}catch(y){Pt(i,i.return,y)}}break;case 27:n===null&&a&4&&bm(i);case 26:case 5:Ws(e,i),n===null&&a&4&&Em(i),a&512&&Xr(i,i.return);break;case 12:Ws(e,i);break;case 13:Ws(e,i),a&4&&wm(e,i),a&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=WA.bind(null,i),pv(e,i))));break;case 22:if(a=i.memoizedState!==null||Es,!a){n=n!==null&&n.memoizedState!==null||ae,l=Es;var h=ae;Es=a,(ae=n)&&!h?Ks(e,i,(i.subtreeFlags&8772)!==0):Ws(e,i),Es=l,ae=h}break;case 30:break;default:Ws(e,i)}}function Fm(e){var n=e.alternate;n!==null&&(e.alternate=null,Fm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&yc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Kt=null,Je=!1;function Cs(e,n,i){for(i=i.child;i!==null;)xm(e,n,i),i=i.sibling}function xm(e,n,i){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Eu,i)}catch{}switch(i.tag){case 26:ae||ns(i,n),Cs(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ae||ns(i,n);var a=Kt,l=Je;su(i.type)&&(Kt=i.stateNode,Je=!1),Cs(e,n,i),na(i.stateNode),Kt=a,Je=l;break;case 5:ae||ns(i,n);case 6:if(a=Kt,l=Je,Kt=null,Cs(e,n,i),Kt=a,Je=l,Kt!==null)if(Je)try{(Kt.nodeType===9?Kt.body:Kt.nodeName==="HTML"?Kt.ownerDocument.body:Kt).removeChild(i.stateNode)}catch(h){Pt(i,n,h)}else try{Kt.removeChild(i.stateNode)}catch(h){Pt(i,n,h)}break;case 18:Kt!==null&&(Je?(e=Kt,g1(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ca(e)):g1(Kt,i.stateNode));break;case 4:a=Kt,l=Je,Kt=i.stateNode.containerInfo,Je=!0,Cs(e,n,i),Kt=a,Je=l;break;case 0:case 11:case 14:case 15:ae||Qs(2,i,n),ae||Qs(4,i,n),Cs(e,n,i);break;case 1:ae||(ns(i,n),a=i.stateNode,typeof a.componentWillUnmount=="function"&&_m(i,n,a)),Cs(e,n,i);break;case 21:Cs(e,n,i);break;case 22:ae=(a=ae)||i.memoizedState!==null,Cs(e,n,i),ae=a;break;default:Cs(e,n,i)}}function wm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ca(e)}catch(i){Pt(n,n.return,i)}}function jA(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Sm),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Sm),n;default:throw Error(r(435,e.tag))}}function Uh(e,n){var i=jA(e);n.forEach(function(a){var l=KA.bind(null,e,a);i.has(a)||(i.add(a),a.then(l,l))})}function dn(e,n){var i=n.deletions;if(i!==null)for(var a=0;a<i.length;a++){var l=i[a],h=e,y=n,v=y;t:for(;v!==null;){switch(v.tag){case 27:if(su(v.type)){Kt=v.stateNode,Je=!1;break t}break;case 5:Kt=v.stateNode,Je=!1;break t;case 3:case 4:Kt=v.stateNode.containerInfo,Je=!0;break t}v=v.return}if(Kt===null)throw Error(r(160));xm(h,y,l),Kt=null,Je=!1,h=l.alternate,h!==null&&(h.return=null),l.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Om(n,e),n=n.sibling}var Vn=null;function Om(e,n){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(n,e),pn(e),a&4&&(Qs(3,e,e.return),Yr(3,e),Qs(5,e,e.return));break;case 1:dn(n,e),pn(e),a&512&&(ae||i===null||ns(i,i.return)),a&64&&Es&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var l=Vn;if(dn(n,e),pn(e),a&512&&(ae||i===null||ns(i,i.return)),a&4){var h=i!==null?i.memoizedState:null;if(a=e.memoizedState,i===null)if(a===null)if(e.stateNode===null){t:{a=e.type,i=e.memoizedProps,l=l.ownerDocument||l;e:switch(a){case"title":h=l.getElementsByTagName("title")[0],(!h||h[Dr]||h[Me]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=l.createElement(a),l.head.insertBefore(h,l.querySelector("head > title"))),Fe(h,a,i),h[Me]=e,ye(h),a=h;break t;case"link":var y=b1("link","href",l).get(a+(i.href||""));if(y){for(var v=0;v<y.length;v++)if(h=y[v],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){y.splice(v,1);break e}}h=l.createElement(a),Fe(h,a,i),l.head.appendChild(h);break;case"meta":if(y=b1("meta","content",l).get(a+(i.content||""))){for(v=0;v<y.length;v++)if(h=y[v],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){y.splice(v,1);break e}}h=l.createElement(a),Fe(h,a,i),l.head.appendChild(h);break;default:throw Error(r(468,a))}h[Me]=e,ye(h),a=h}e.stateNode=a}else S1(l,e.type,e.stateNode);else e.stateNode=C1(l,a,e.memoizedProps);else h!==a?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,a===null?S1(l,e.type,e.stateNode):C1(l,a,e.memoizedProps)):a===null&&e.stateNode!==null&&kh(e,e.memoizedProps,i.memoizedProps)}break;case 27:dn(n,e),pn(e),a&512&&(ae||i===null||ns(i,i.return)),i!==null&&a&4&&kh(e,e.memoizedProps,i.memoizedProps);break;case 5:if(dn(n,e),pn(e),a&512&&(ae||i===null||ns(i,i.return)),e.flags&32){l=e.stateNode;try{pi(l,"")}catch(U){Pt(e,e.return,U)}}a&4&&e.stateNode!=null&&(l=e.memoizedProps,kh(e,l,i!==null?i.memoizedProps:l)),a&1024&&(Vh=!0);break;case 6:if(dn(n,e),pn(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,i=e.stateNode;try{i.nodeValue=a}catch(U){Pt(e,e.return,U)}}break;case 3:if(Wo=null,l=Vn,Vn=Zo(n.containerInfo),dn(n,e),Vn=l,pn(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{ca(n.containerInfo)}catch(U){Pt(e,e.return,U)}Vh&&(Vh=!1,Bm(e));break;case 4:a=Vn,Vn=Zo(e.stateNode.containerInfo),dn(n,e),pn(e),Vn=a;break;case 12:dn(n,e),pn(e);break;case 13:dn(n,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Yh=Bt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Uh(e,a)));break;case 22:l=e.memoizedState!==null;var F=i!==null&&i.memoizedState!==null,q=Es,H=ae;if(Es=q||l,ae=H||F,dn(n,e),ae=H,Es=q,pn(e),a&8192)t:for(n=e.stateNode,n._visibility=l?n._visibility&-2:n._visibility|1,l&&(i===null||F||Es||ae||qu(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){F=i=n;try{if(h=F.stateNode,l)y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{v=F.stateNode;var W=F.memoizedProps.style,V=W!=null&&W.hasOwnProperty("display")?W.display:null;v.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(U){Pt(F,F.return,U)}}}else if(n.tag===6){if(i===null){F=n;try{F.stateNode.nodeValue=l?"":F.memoizedProps}catch(U){Pt(F,F.return,U)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}a&4&&(a=e.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,Uh(e,i))));break;case 19:dn(n,e),pn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Uh(e,a)));break;case 30:break;case 21:break;default:dn(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{for(var i,a=e.return;a!==null;){if(Cm(a)){i=a;break}a=a.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var l=i.stateNode,h=Lh(e);Io(e,h,l);break;case 5:var y=i.stateNode;i.flags&32&&(pi(y,""),i.flags&=-33);var v=Lh(e);Io(e,v,y);break;case 3:case 4:var F=i.stateNode.containerInfo,q=Lh(e);qh(e,q,F);break;default:throw Error(r(161))}}catch(H){Pt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Bm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Bm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ws(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Tm(e,n.alternate,n),n=n.sibling}function qu(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Qs(4,n,n.return),qu(n);break;case 1:ns(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&_m(n,n.return,i),qu(n);break;case 27:na(n.stateNode);case 26:case 5:ns(n,n.return),qu(n);break;case 22:n.memoizedState===null&&qu(n);break;case 30:qu(n);break;default:qu(n)}e=e.sibling}}function Ks(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var a=n.alternate,l=e,h=n,y=h.flags;switch(h.tag){case 0:case 11:case 15:Ks(l,h,i),Yr(4,h);break;case 1:if(Ks(l,h,i),a=h,l=a.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(q){Pt(a,a.return,q)}if(a=h,l=a.updateQueue,l!==null){var v=a.stateNode;try{var F=l.shared.hiddenCallbacks;if(F!==null)for(l.shared.hiddenCallbacks=null,l=0;l<F.length;l++)r0(F[l],v)}catch(q){Pt(a,a.return,q)}}i&&y&64&&vm(h),Xr(h,h.return);break;case 27:bm(h);case 26:case 5:Ks(l,h,i),i&&a===null&&y&4&&Em(h),Xr(h,h.return);break;case 12:Ks(l,h,i);break;case 13:Ks(l,h,i),i&&y&4&&wm(l,h);break;case 22:h.memoizedState===null&&Ks(l,h,i),Xr(h,h.return);break;case 30:break;default:Ks(l,h,i)}n=n.sibling}}function zh(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Nr(i))}function jh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Nr(e))}function ss(e,n,i,a){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Nm(e,n,i,a),n=n.sibling}function Nm(e,n,i,a){var l=n.flags;switch(n.tag){case 0:case 11:case 15:ss(e,n,i,a),l&2048&&Yr(9,n);break;case 1:ss(e,n,i,a);break;case 3:ss(e,n,i,a),l&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Nr(e)));break;case 12:if(l&2048){ss(e,n,i,a),e=n.stateNode;try{var h=n.memoizedProps,y=h.id,v=h.onPostCommit;typeof v=="function"&&v(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(F){Pt(n,n.return,F)}}else ss(e,n,i,a);break;case 13:ss(e,n,i,a);break;case 23:break;case 22:h=n.stateNode,y=n.alternate,n.memoizedState!==null?h._visibility&2?ss(e,n,i,a):Zr(e,n):h._visibility&2?ss(e,n,i,a):(h._visibility|=2,Ri(e,n,i,a,(n.subtreeFlags&10256)!==0)),l&2048&&zh(y,n);break;case 24:ss(e,n,i,a),l&2048&&jh(n.alternate,n);break;default:ss(e,n,i,a)}}function Ri(e,n,i,a,l){for(l=l&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=e,y=n,v=i,F=a,q=y.flags;switch(y.tag){case 0:case 11:case 15:Ri(h,y,v,F,l),Yr(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?Ri(h,y,v,F,l):Zr(h,y):(H._visibility|=2,Ri(h,y,v,F,l)),l&&q&2048&&zh(y.alternate,y);break;case 24:Ri(h,y,v,F,l),l&&q&2048&&jh(y.alternate,y);break;default:Ri(h,y,v,F,l)}n=n.sibling}}function Zr(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,a=n,l=a.flags;switch(a.tag){case 22:Zr(i,a),l&2048&&zh(a.alternate,a);break;case 24:Zr(i,a),l&2048&&jh(a.alternate,a);break;default:Zr(i,a)}n=n.sibling}}var Qr=8192;function Mi(e){if(e.subtreeFlags&Qr)for(e=e.child;e!==null;)Rm(e),e=e.sibling}function Rm(e){switch(e.tag){case 26:Mi(e),e.flags&Qr&&e.memoizedState!==null&&Fv(Vn,e.memoizedState,e.memoizedProps);break;case 5:Mi(e);break;case 3:case 4:var n=Vn;Vn=Zo(e.stateNode.containerInfo),Mi(e),Vn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Qr,Qr=16777216,Mi(e),Qr=n):Mi(e));break;default:Mi(e)}}function Mm(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var a=n[i];ve=a,km(a,e)}Mm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Im(e),e=e.sibling}function Im(e){switch(e.tag){case 0:case 11:case 15:Wr(e),e.flags&2048&&Qs(9,e,e.return);break;case 3:Wr(e);break;case 12:Wr(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ko(e)):Wr(e);break;default:Wr(e)}}function ko(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var a=n[i];ve=a,km(a,e)}Mm(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Qs(8,n,n.return),ko(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,ko(n));break;default:ko(n)}e=e.sibling}}function km(e,n){for(;ve!==null;){var i=ve;switch(i.tag){case 0:case 11:case 15:Qs(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Nr(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,ve=a;else t:for(i=e;ve!==null;){a=ve;var l=a.sibling,h=a.return;if(Fm(a),a===i){ve=null;break t}if(l!==null){l.return=h,ve=l;break t}ve=h}}}var GA={getCacheForType:function(e){var n=Ie(pe),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i}},PA=typeof WeakMap=="function"?WeakMap:Map,kt=0,Yt=null,Et=null,Ft=0,Lt=0,mn=null,$s=!1,Ii=!1,Gh=!1,bs=0,se=0,Js=0,Vu=0,Ph=0,On=0,ki=0,Kr=null,tn=null,Hh=!1,Yh=0,Lo=1/0,qo=null,tu=null,Te=0,eu=null,Li=null,qi=0,Xh=0,Zh=null,Lm=null,$r=0,Qh=null;function gn(){if((kt&2)!==0&&Ft!==0)return Ft&-Ft;if(O.T!==null){var e=Si;return e!==0?e:nf()}return Jd()}function qm(){On===0&&(On=(Ft&536870912)===0||Ot?Qd():536870912);var e=wn.current;return e!==null&&(e.flags|=32),On}function Dn(e,n,i){(e===Yt&&(Lt===2||Lt===9)||e.cancelPendingCommit!==null)&&(Vi(e,0),nu(e,Ft,On,!1)),gr(e,i),((kt&2)===0||e!==Yt)&&(e===Yt&&((kt&2)===0&&(Vu|=i),se===4&&nu(e,Ft,On,!1)),us(e))}function Vm(e,n,i){if((kt&6)!==0)throw Error(r(327));var a=!i&&(n&124)===0&&(n&e.expiredLanes)===0||mr(e,n),l=a?XA(e,n):$h(e,n,!0),h=a;do{if(l===0){Ii&&!a&&nu(e,n,0,!1);break}else{if(i=e.current.alternate,h&&!HA(i)){l=$h(e,n,!1),h=!1;continue}if(l===2){if(h=n,e.errorRecoveryDisabledLanes&h)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var v=e;l=Kr;var F=v.current.memoizedState.isDehydrated;if(F&&(Vi(v,y).flags|=256),y=$h(v,y,!1),y!==2){if(Gh&&!F){v.errorRecoveryDisabledLanes|=h,Vu|=h,l=4;break t}h=tn,tn=l,h!==null&&(tn===null?tn=h:tn.push.apply(tn,h))}l=y}if(h=!1,l!==2)continue}}if(l===1){Vi(e,0),nu(e,n,0,!0);break}t:{switch(a=e,h=l,h){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:nu(a,n,On,!$s);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(l=Yh+300-Bt(),10<l)){if(nu(a,n,On,!$s),Za(a,0,!0)!==0)break t;a.timeoutHandle=p1(Um.bind(null,a,i,tn,qo,Hh,n,On,Vu,ki,$s,h,2,-0,0),l);break t}Um(a,i,tn,qo,Hh,n,On,Vu,ki,$s,h,0,-0,0)}}break}while(!0);us(e)}function Um(e,n,i,a,l,h,y,v,F,q,H,W,V,U){if(e.timeoutHandle=-1,W=n.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(ia={stylesheets:null,count:0,unsuspend:Tv},Rm(n),W=xv(),W!==null)){e.cancelPendingCommit=W(Xm.bind(null,e,n,h,i,a,l,y,v,F,H,1,V,U)),nu(e,h,y,!q);return}Xm(e,n,h,i,a,l,y,v,F)}function HA(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var l=i[a],h=l.getSnapshot;l=l.value;try{if(!hn(h(),l))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function nu(e,n,i,a){n&=~Ph,n&=~Vu,e.suspendedLanes|=n,e.pingedLanes&=~n,a&&(e.warmLanes|=n),a=e.expirationTimes;for(var l=n;0<l;){var h=31-cn(l),y=1<<h;a[h]=-1,l&=~y}i!==0&&Kd(e,i,n)}function Vo(){return(kt&6)===0?(Jr(0),!1):!0}function Wh(){if(Et!==null){if(Lt===0)var e=Et.return;else e=Et,gs=Ru=null,dh(e),Bi=null,Gr=0,e=Et;for(;e!==null;)Am(e.alternate,e),e=e.return;Et=null}}function Vi(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,lv(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Wh(),Yt=e,Et=i=ds(e.current,null),Ft=n,Lt=0,mn=null,$s=!1,Ii=mr(e,n),Gh=!1,ki=On=Ph=Vu=Js=se=0,tn=Kr=null,Hh=!1,(n&8)!==0&&(n|=n&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=n;0<a;){var l=31-cn(a),h=1<<l;n|=e[l],a&=~h}return bs=n,ro(),i}function zm(e,n){vt=null,O.H=To,n===Mr||n===go?(n=u0(),Lt=3):n===e0?(n=u0(),Lt=4):Lt=n===im?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,mn=n,Et===null&&(se=1,Bo(e,Sn(n,e.current)))}function jm(){var e=O.H;return O.H=To,e===null?To:e}function Gm(){var e=O.A;return O.A=GA,e}function Kh(){se=4,$s||(Ft&4194048)!==Ft&&wn.current!==null||(Ii=!0),(Js&134217727)===0&&(Vu&134217727)===0||Yt===null||nu(Yt,Ft,On,!1)}function $h(e,n,i){var a=kt;kt|=2;var l=jm(),h=Gm();(Yt!==e||Ft!==n)&&(qo=null,Vi(e,n)),n=!1;var y=se;t:do try{if(Lt!==0&&Et!==null){var v=Et,F=mn;switch(Lt){case 8:Wh(),y=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var q=Lt;if(Lt=0,mn=null,Ui(e,v,F,q),i&&Ii){y=0;break t}break;default:q=Lt,Lt=0,mn=null,Ui(e,v,F,q)}}YA(),y=se;break}catch(H){zm(e,H)}while(!0);return n&&e.shellSuspendCounter++,gs=Ru=null,kt=a,O.H=l,O.A=h,Et===null&&(Yt=null,Ft=0,ro()),y}function YA(){for(;Et!==null;)Pm(Et)}function XA(e,n){var i=kt;kt|=2;var a=jm(),l=Gm();Yt!==e||Ft!==n?(qo=null,Lo=Bt()+500,Vi(e,n)):Ii=mr(e,n);t:do try{if(Lt!==0&&Et!==null){n=Et;var h=mn;e:switch(Lt){case 1:Lt=0,mn=null,Ui(e,n,h,1);break;case 2:case 9:if(n0(h)){Lt=0,mn=null,Hm(n);break}n=function(){Lt!==2&&Lt!==9||Yt!==e||(Lt=7),us(e)},h.then(n,n);break t;case 3:Lt=7;break t;case 4:Lt=5;break t;case 7:n0(h)?(Lt=0,mn=null,Hm(n)):(Lt=0,mn=null,Ui(e,n,h,7));break;case 5:var y=null;switch(Et.tag){case 26:y=Et.memoizedState;case 5:case 27:var v=Et;if(!y||T1(y)){Lt=0,mn=null;var F=v.sibling;if(F!==null)Et=F;else{var q=v.return;q!==null?(Et=q,Uo(q)):Et=null}break e}}Lt=0,mn=null,Ui(e,n,h,5);break;case 6:Lt=0,mn=null,Ui(e,n,h,6);break;case 8:Wh(),se=6;break t;default:throw Error(r(462))}}ZA();break}catch(H){zm(e,H)}while(!0);return gs=Ru=null,O.H=a,O.A=l,kt=i,Et!==null?0:(Yt=null,Ft=0,ro(),se)}function ZA(){for(;Et!==null&&!rt();)Pm(Et)}function Pm(e){var n=Dm(e.alternate,e,bs);e.memoizedProps=e.pendingProps,n===null?Uo(e):Et=n}function Hm(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=hm(i,n,n.pendingProps,n.type,void 0,Ft);break;case 11:n=hm(i,n,n.pendingProps,n.type.render,n.ref,Ft);break;case 5:dh(n);default:Am(i,n),n=Et=Yp(n,bs),n=Dm(i,n,bs)}e.memoizedProps=e.pendingProps,n===null?Uo(e):Et=n}function Ui(e,n,i,a){gs=Ru=null,dh(n),Bi=null,Gr=0;var l=n.return;try{if(LA(e,l,n,i,Ft)){se=1,Bo(e,Sn(i,e.current)),Et=null;return}}catch(h){if(l!==null)throw Et=l,h;se=1,Bo(e,Sn(i,e.current)),Et=null;return}n.flags&32768?(Ot||a===1?e=!0:Ii||(Ft&536870912)!==0?e=!1:($s=e=!0,(a===2||a===9||a===3||a===6)&&(a=wn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Ym(n,e)):Uo(n)}function Uo(e){var n=e;do{if((n.flags&32768)!==0){Ym(n,$s);return}e=n.return;var i=VA(n.alternate,n,bs);if(i!==null){Et=i;return}if(n=n.sibling,n!==null){Et=n;return}Et=n=e}while(n!==null);se===0&&(se=5)}function Ym(e,n){do{var i=UA(e.alternate,e);if(i!==null){i.flags&=32767,Et=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Et=e;return}Et=e=i}while(e!==null);se=6,Et=null}function Xm(e,n,i,a,l,h,y,v,F){e.cancelPendingCommit=null;do zo();while(Te!==0);if((kt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(h=n.lanes|n.childLanes,h|=jc,Ty(e,i,h,y,v,F),e===Yt&&(Et=Yt=null,Ft=0),Li=n,eu=e,qi=i,Xh=h,Zh=l,Lm=a,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,$A(be,function(){return $m(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||a){a=O.T,O.T=null,l=j.p,j.p=2,y=kt,kt|=4;try{zA(e,n,i)}finally{kt=y,j.p=l,O.T=a}}Te=1,Zm(),Qm(),Wm()}}function Zm(){if(Te===1){Te=0;var e=eu,n=Li,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=O.T,O.T=null;var a=j.p;j.p=2;var l=kt;kt|=4;try{Om(n,e);var h=hf,y=kp(e.containerInfo),v=h.focusedElem,F=h.selectionRange;if(y!==v&&v&&v.ownerDocument&&Ip(v.ownerDocument.documentElement,v)){if(F!==null&&Lc(v)){var q=F.start,H=F.end;if(H===void 0&&(H=q),"selectionStart"in v)v.selectionStart=q,v.selectionEnd=Math.min(H,v.value.length);else{var W=v.ownerDocument||document,V=W&&W.defaultView||window;if(V.getSelection){var U=V.getSelection(),gt=v.textContent.length,dt=Math.min(F.start,gt),Ut=F.end===void 0?dt:Math.min(F.end,gt);!U.extend&&dt>Ut&&(y=Ut,Ut=dt,dt=y);var N=Mp(v,dt),w=Mp(v,Ut);if(N&&w&&(U.rangeCount!==1||U.anchorNode!==N.node||U.anchorOffset!==N.offset||U.focusNode!==w.node||U.focusOffset!==w.offset)){var k=W.createRange();k.setStart(N.node,N.offset),U.removeAllRanges(),dt>Ut?(U.addRange(k),U.extend(w.node,w.offset)):(k.setEnd(w.node,w.offset),U.addRange(k))}}}}for(W=[],U=v;U=U.parentNode;)U.nodeType===1&&W.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<W.length;v++){var Z=W[v];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Jo=!!cf,hf=cf=null}finally{kt=l,j.p=a,O.T=i}}e.current=n,Te=2}}function Qm(){if(Te===2){Te=0;var e=eu,n=Li,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=O.T,O.T=null;var a=j.p;j.p=2;var l=kt;kt|=4;try{Tm(e,n.alternate,n)}finally{kt=l,j.p=a,O.T=i}}Te=3}}function Wm(){if(Te===4||Te===3){Te=0,mt();var e=eu,n=Li,i=qi,a=Lm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Te=5:(Te=0,Li=eu=null,Km(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(tu=null),gc(i),n=n.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Eu,n,void 0,(n.current.flags&128)===128)}catch{}if(a!==null){n=O.T,l=j.p,j.p=2,O.T=null;try{for(var h=e.onRecoverableError,y=0;y<a.length;y++){var v=a[y];h(v.value,{componentStack:v.stack})}}finally{O.T=n,j.p=l}}(qi&3)!==0&&zo(),us(e),l=e.pendingLanes,(i&4194090)!==0&&(l&42)!==0?e===Qh?$r++:($r=0,Qh=e):$r=0,Jr(0)}}function Km(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Nr(n)))}function zo(e){return Zm(),Qm(),Wm(),$m()}function $m(){if(Te!==5)return!1;var e=eu,n=Xh;Xh=0;var i=gc(qi),a=O.T,l=j.p;try{j.p=32>i?32:i,O.T=null,i=Zh,Zh=null;var h=eu,y=qi;if(Te=0,Li=eu=null,qi=0,(kt&6)!==0)throw Error(r(331));var v=kt;if(kt|=4,Im(h.current),Nm(h,h.current,y,i),kt=v,Jr(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Eu,h)}catch{}return!0}finally{j.p=l,O.T=a,Km(e,n)}}function Jm(e,n,i){n=Sn(i,n),n=Fh(e.stateNode,n,2),e=Hs(e,n,2),e!==null&&(gr(e,2),us(e))}function Pt(e,n,i){if(e.tag===3)Jm(e,e,i);else for(;n!==null;){if(n.tag===3){Jm(n,e,i);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(tu===null||!tu.has(a))){e=Sn(i,e),i=sm(2),a=Hs(n,i,2),a!==null&&(um(i,a,n,e),gr(a,2),us(a));break}}n=n.return}}function Jh(e,n,i){var a=e.pingCache;if(a===null){a=e.pingCache=new PA;var l=new Set;a.set(n,l)}else l=a.get(n),l===void 0&&(l=new Set,a.set(n,l));l.has(i)||(Gh=!0,l.add(i),e=QA.bind(null,e,n,i),n.then(e,e))}function QA(e,n,i){var a=e.pingCache;a!==null&&a.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Yt===e&&(Ft&i)===i&&(se===4||se===3&&(Ft&62914560)===Ft&&300>Bt()-Yh?(kt&2)===0&&Vi(e,0):Ph|=i,ki===Ft&&(ki=0)),us(e)}function t1(e,n){n===0&&(n=Wd()),e=_i(e,n),e!==null&&(gr(e,n),us(e))}function WA(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),t1(e,i)}function KA(e,n){var i=0;switch(e.tag){case 13:var a=e.stateNode,l=e.memoizedState;l!==null&&(i=l.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(n),t1(e,i)}function $A(e,n){return fr(e,n)}var jo=null,zi=null,tf=!1,Go=!1,ef=!1,Uu=0;function us(e){e!==zi&&e.next===null&&(zi===null?jo=zi=e:zi=zi.next=e),Go=!0,tf||(tf=!0,tv())}function Jr(e,n){if(!ef&&Go){ef=!0;do for(var i=!1,a=jo;a!==null;){if(e!==0){var l=a.pendingLanes;if(l===0)var h=0;else{var y=a.suspendedLanes,v=a.pingedLanes;h=(1<<31-cn(42|e)+1)-1,h&=l&~(y&~v),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,u1(a,h))}else h=Ft,h=Za(a,a===Yt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(h&3)===0||mr(a,h)||(i=!0,u1(a,h));a=a.next}while(i);ef=!1}}function JA(){e1()}function e1(){Go=tf=!1;var e=0;Uu!==0&&(ov()&&(e=Uu),Uu=0);for(var n=Bt(),i=null,a=jo;a!==null;){var l=a.next,h=n1(a,n);h===0?(a.next=null,i===null?jo=l:i.next=l,l===null&&(zi=i)):(i=a,(e!==0||(h&3)!==0)&&(Go=!0)),a=l}Jr(e)}function n1(e,n){for(var i=e.suspendedLanes,a=e.pingedLanes,l=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var y=31-cn(h),v=1<<y,F=l[y];F===-1?((v&i)===0||(v&a)!==0)&&(l[y]=Sy(v,n)):F<=n&&(e.expiredLanes|=v),h&=~v}if(n=Yt,i=Ft,i=Za(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,i===0||e===n&&(Lt===2||Lt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&dr(a),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||mr(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(a!==null&&dr(a),gc(i)){case 2:case 8:i=Qt;break;case 32:i=be;break;case 268435456:i=qs;break;default:i=be}return a=s1.bind(null,e),i=fr(i,a),e.callbackPriority=n,e.callbackNode=i,n}return a!==null&&a!==null&&dr(a),e.callbackPriority=2,e.callbackNode=null,2}function s1(e,n){if(Te!==0&&Te!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(zo()&&e.callbackNode!==i)return null;var a=Ft;return a=Za(e,e===Yt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Vm(e,a,n),n1(e,Bt()),e.callbackNode!=null&&e.callbackNode===i?s1.bind(null,e):null)}function u1(e,n){if(zo())return null;Vm(e,n,!0)}function tv(){cv(function(){(kt&6)!==0?fr(Tt,JA):e1()})}function nf(){return Uu===0&&(Uu=Qd()),Uu}function i1(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ja(""+e)}function r1(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function ev(e,n,i,a,l){if(n==="submit"&&i&&i.stateNode===l){var h=i1((l[We]||null).action),y=a.submitter;y&&(n=(n=y[We]||null)?i1(n.formAction):y.getAttribute("formAction"),n!==null&&(h=n,y=null));var v=new so("action","action",null,a,l);e.push({event:v,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Uu!==0){var F=y?r1(l,y):new FormData(l);Eh(i,{pending:!0,data:F,method:l.method,action:h},null,F)}}else typeof h=="function"&&(v.preventDefault(),F=y?r1(l,y):new FormData(l),Eh(i,{pending:!0,data:F,method:l.method,action:h},h,F))},currentTarget:l}]})}}for(var sf=0;sf<zc.length;sf++){var uf=zc[sf],nv=uf.toLowerCase(),sv=uf[0].toUpperCase()+uf.slice(1);qn(nv,"on"+sv)}qn(Vp,"onAnimationEnd"),qn(Up,"onAnimationIteration"),qn(zp,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(vA,"onTransitionRun"),qn(_A,"onTransitionStart"),qn(EA,"onTransitionCancel"),qn(jp,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),bu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bu("onBeforeInput",["compositionend","keypress","textInput","paste"]),bu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ta));function a1(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],l=a.event;a=a.listeners;t:{var h=void 0;if(n)for(var y=a.length-1;0<=y;y--){var v=a[y],F=v.instance,q=v.currentTarget;if(v=v.listener,F!==h&&l.isPropagationStopped())break t;h=v,l.currentTarget=q;try{h(l)}catch(H){Oo(H)}l.currentTarget=null,h=F}else for(y=0;y<a.length;y++){if(v=a[y],F=v.instance,q=v.currentTarget,v=v.listener,F!==h&&l.isPropagationStopped())break t;h=v,l.currentTarget=q;try{h(l)}catch(H){Oo(H)}l.currentTarget=null,h=F}}}}function Ct(e,n){var i=n[Dc];i===void 0&&(i=n[Dc]=new Set);var a=e+"__bubble";i.has(a)||(o1(n,e,2,!1),i.add(a))}function rf(e,n,i){var a=0;n&&(a|=4),o1(i,e,a,n)}var Po="_reactListening"+Math.random().toString(36).slice(2);function af(e){if(!e[Po]){e[Po]=!0,ep.forEach(function(i){i!=="selectionchange"&&(uv.has(i)||rf(i,!1,e),rf(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Po]||(n[Po]=!0,rf("selectionchange",!1,n))}}function o1(e,n,i,a){switch(N1(n)){case 2:var l=Bv;break;case 8:l=Nv;break;default:l=_f}i=l.bind(null,n,i,e),l=void 0,!xc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(l=!0),a?l!==void 0?e.addEventListener(n,i,{capture:!0,passive:l}):e.addEventListener(n,i,!0):l!==void 0?e.addEventListener(n,i,{passive:l}):e.addEventListener(n,i,!1)}function of(e,n,i,a,l){var h=a;if((n&1)===0&&(n&2)===0&&a!==null)t:for(;;){if(a===null)return;var y=a.tag;if(y===3||y===4){var v=a.stateNode.containerInfo;if(v===l)break;if(y===4)for(y=a.return;y!==null;){var F=y.tag;if((F===3||F===4)&&y.stateNode.containerInfo===l)return;y=y.return}for(;v!==null;){if(y=oi(v),y===null)return;if(F=y.tag,F===5||F===6||F===26||F===27){a=h=y;continue t}v=v.parentNode}}a=a.return}mp(function(){var q=h,H=Tc(i),W=[];t:{var V=Gp.get(e);if(V!==void 0){var U=so,gt=e;switch(e){case"keypress":if(eo(i)===0)break t;case"keydown":case"keyup":U=$y;break;case"focusin":gt="focus",U=Nc;break;case"focusout":gt="blur",U=Nc;break;case"beforeblur":case"afterblur":U=Nc;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=yp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Uy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=eA;break;case Vp:case Up:case zp:U=Gy;break;case jp:U=sA;break;case"scroll":case"scrollend":U=qy;break;case"wheel":U=iA;break;case"copy":case"cut":case"paste":U=Hy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=vp;break;case"toggle":case"beforetoggle":U=aA}var dt=(n&4)!==0,Ut=!dt&&(e==="scroll"||e==="scrollend"),N=dt?V!==null?V+"Capture":null:V;dt=[];for(var w=q,k;w!==null;){var Z=w;if(k=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||k===null||N===null||(Z=Ar(w,N),Z!=null&&dt.push(ea(w,Z,k))),Ut)break;w=w.return}0<dt.length&&(V=new U(V,gt,null,i,H),W.push({event:V,listeners:dt}))}}if((n&7)===0){t:{if(V=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",V&&i!==Sc&&(gt=i.relatedTarget||i.fromElement)&&(oi(gt)||gt[ai]))break t;if((U||V)&&(V=H.window===H?H:(V=H.ownerDocument)?V.defaultView||V.parentWindow:window,U?(gt=i.relatedTarget||i.toElement,U=q,gt=gt?oi(gt):null,gt!==null&&(Ut=c(gt),dt=gt.tag,gt!==Ut||dt!==5&&dt!==27&&dt!==6)&&(gt=null)):(U=null,gt=q),U!==gt)){if(dt=yp,Z="onMouseLeave",N="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(dt=vp,Z="onPointerLeave",N="onPointerEnter",w="pointer"),Ut=U==null?V:yr(U),k=gt==null?V:yr(gt),V=new dt(Z,w+"leave",U,i,H),V.target=Ut,V.relatedTarget=k,Z=null,oi(H)===q&&(dt=new dt(N,w+"enter",gt,i,H),dt.target=k,dt.relatedTarget=Ut,Z=dt),Ut=Z,U&&gt)e:{for(dt=U,N=gt,w=0,k=dt;k;k=ji(k))w++;for(k=0,Z=N;Z;Z=ji(Z))k++;for(;0<w-k;)dt=ji(dt),w--;for(;0<k-w;)N=ji(N),k--;for(;w--;){if(dt===N||N!==null&&dt===N.alternate)break e;dt=ji(dt),N=ji(N)}dt=null}else dt=null;U!==null&&l1(W,V,U,dt,!1),gt!==null&&Ut!==null&&l1(W,Ut,gt,dt,!0)}}t:{if(V=q?yr(q):window,U=V.nodeName&&V.nodeName.toLowerCase(),U==="select"||U==="input"&&V.type==="file")var ct=xp;else if(Tp(V))if(wp)ct=DA;else{ct=mA;var _t=pA}else U=V.nodeName,!U||U.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?q&&bc(q.elementType)&&(ct=xp):ct=gA;if(ct&&(ct=ct(e,q))){Fp(W,ct,i,H);break t}_t&&_t(e,V,q),e==="focusout"&&q&&V.type==="number"&&q.memoizedProps.value!=null&&Cc(V,"number",V.value)}switch(_t=q?yr(q):window,e){case"focusin":(Tp(_t)||_t.contentEditable==="true")&&(yi=_t,qc=q,Fr=null);break;case"focusout":Fr=qc=yi=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,Lp(W,i,H);break;case"selectionchange":if(AA)break;case"keydown":case"keyup":Lp(W,i,H)}var ht;if(Mc)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Di?bp(e,i)&&(pt="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(pt="onCompositionStart");pt&&(_p&&i.locale!=="ko"&&(Di||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Di&&(ht=gp()):(zs=H,wc="value"in zs?zs.value:zs.textContent,Di=!0)),_t=Ho(q,pt),0<_t.length&&(pt=new Ap(pt,e,null,i,H),W.push({event:pt,listeners:_t}),ht?pt.data=ht:(ht=Sp(i),ht!==null&&(pt.data=ht)))),(ht=lA?cA(e,i):hA(e,i))&&(pt=Ho(q,"onBeforeInput"),0<pt.length&&(_t=new Ap("onBeforeInput","beforeinput",null,i,H),W.push({event:_t,listeners:pt}),_t.data=ht)),ev(W,e,q,i,H)}a1(W,n)})}function ea(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Ho(e,n){for(var i=n+"Capture",a=[];e!==null;){var l=e,h=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||h===null||(l=Ar(e,i),l!=null&&a.unshift(ea(e,l,h)),l=Ar(e,n),l!=null&&a.push(ea(e,l,h))),e.tag===3)return a;e=e.return}return[]}function ji(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function l1(e,n,i,a,l){for(var h=n._reactName,y=[];i!==null&&i!==a;){var v=i,F=v.alternate,q=v.stateNode;if(v=v.tag,F!==null&&F===a)break;v!==5&&v!==26&&v!==27||q===null||(F=q,l?(q=Ar(i,h),q!=null&&y.unshift(ea(i,q,F))):l||(q=Ar(i,h),q!=null&&y.push(ea(i,q,F)))),i=i.return}y.length!==0&&e.push({event:n,listeners:y})}var iv=/\r\n?/g,rv=/\u0000|\uFFFD/g;function c1(e){return(typeof e=="string"?e:""+e).replace(iv,`
`).replace(rv,"")}function h1(e,n){return n=c1(n),c1(e)===n}function Yo(){}function Vt(e,n,i,a,l,h){switch(i){case"children":typeof a=="string"?n==="body"||n==="textarea"&&a===""||pi(e,a):(typeof a=="number"||typeof a=="bigint")&&n!=="body"&&pi(e,""+a);break;case"className":Wa(e,"class",a);break;case"tabIndex":Wa(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Wa(e,i,a);break;case"style":dp(e,a,h);break;case"data":if(n!=="object"){Wa(e,"data",a);break}case"src":case"href":if(a===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=Ja(""+a),e.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(n!=="input"&&Vt(e,n,"name",l.name,l,null),Vt(e,n,"formEncType",l.formEncType,l,null),Vt(e,n,"formMethod",l.formMethod,l,null),Vt(e,n,"formTarget",l.formTarget,l,null)):(Vt(e,n,"encType",l.encType,l,null),Vt(e,n,"method",l.method,l,null),Vt(e,n,"target",l.target,l,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=Ja(""+a),e.setAttribute(i,a);break;case"onClick":a!=null&&(e.onclick=Yo);break;case"onScroll":a!=null&&Ct("scroll",e);break;case"onScrollEnd":a!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(l.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}i=Ja(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""+a):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":a===!0?e.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,a):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(i,a):e.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(i):e.setAttribute(i,a);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),Qa(e,"popover",a);break;case"xlinkActuate":hs(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":hs(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":hs(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":hs(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":hs(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":hs(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":hs(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":hs(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":hs(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Qa(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=ky.get(i)||i,Qa(e,i,a))}}function lf(e,n,i,a,l,h){switch(i){case"style":dp(e,a,h);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(l.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof a=="string"?pi(e,a):(typeof a=="number"||typeof a=="bigint")&&pi(e,""+a);break;case"onScroll":a!=null&&Ct("scroll",e);break;case"onScrollEnd":a!=null&&Ct("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Yo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!np.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(l=i.endsWith("Capture"),n=i.slice(2,l?i.length-7:void 0),h=e[We]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(n,h,l),typeof a=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,a,l);break t}i in e?e[i]=a:a===!0?e.setAttribute(i,""):Qa(e,i,a)}}}function Fe(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var a=!1,l=!1,h;for(h in i)if(i.hasOwnProperty(h)){var y=i[h];if(y!=null)switch(h){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Vt(e,n,h,y,i,null)}}l&&Vt(e,n,"srcSet",i.srcSet,i,null),a&&Vt(e,n,"src",i.src,i,null);return;case"input":Ct("invalid",e);var v=h=y=l=null,F=null,q=null;for(a in i)if(i.hasOwnProperty(a)){var H=i[a];if(H!=null)switch(a){case"name":l=H;break;case"type":y=H;break;case"checked":F=H;break;case"defaultChecked":q=H;break;case"value":h=H;break;case"defaultValue":v=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Vt(e,n,a,H,i,null)}}lp(e,h,v,F,q,y,l,!1),Ka(e);return;case"select":Ct("invalid",e),a=y=h=null;for(l in i)if(i.hasOwnProperty(l)&&(v=i[l],v!=null))switch(l){case"value":h=v;break;case"defaultValue":y=v;break;case"multiple":a=v;default:Vt(e,n,l,v,i,null)}n=h,i=y,e.multiple=!!a,n!=null?di(e,!!a,n,!1):i!=null&&di(e,!!a,i,!0);return;case"textarea":Ct("invalid",e),h=l=a=null;for(y in i)if(i.hasOwnProperty(y)&&(v=i[y],v!=null))switch(y){case"value":a=v;break;case"defaultValue":l=v;break;case"children":h=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Vt(e,n,y,v,i,null)}hp(e,a,l,h),Ka(e);return;case"option":for(F in i)if(i.hasOwnProperty(F)&&(a=i[F],a!=null))switch(F){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Vt(e,n,F,a,i,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(a=0;a<ta.length;a++)Ct(ta[a],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in i)if(i.hasOwnProperty(q)&&(a=i[q],a!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Vt(e,n,q,a,i,null)}return;default:if(bc(n)){for(H in i)i.hasOwnProperty(H)&&(a=i[H],a!==void 0&&lf(e,n,H,a,i,void 0));return}}for(v in i)i.hasOwnProperty(v)&&(a=i[v],a!=null&&Vt(e,n,v,a,i,null))}function av(e,n,i,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,h=null,y=null,v=null,F=null,q=null,H=null;for(U in i){var W=i[U];if(i.hasOwnProperty(U)&&W!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":F=W;default:a.hasOwnProperty(U)||Vt(e,n,U,null,a,W)}}for(var V in a){var U=a[V];if(W=i[V],a.hasOwnProperty(V)&&(U!=null||W!=null))switch(V){case"type":h=U;break;case"name":l=U;break;case"checked":q=U;break;case"defaultChecked":H=U;break;case"value":y=U;break;case"defaultValue":v=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,n));break;default:U!==W&&Vt(e,n,V,U,a,W)}}Ec(e,y,v,F,q,H,h,l);return;case"select":U=y=v=V=null;for(h in i)if(F=i[h],i.hasOwnProperty(h)&&F!=null)switch(h){case"value":break;case"multiple":U=F;default:a.hasOwnProperty(h)||Vt(e,n,h,null,a,F)}for(l in a)if(h=a[l],F=i[l],a.hasOwnProperty(l)&&(h!=null||F!=null))switch(l){case"value":V=h;break;case"defaultValue":v=h;break;case"multiple":y=h;default:h!==F&&Vt(e,n,l,h,a,F)}n=v,i=y,a=U,V!=null?di(e,!!i,V,!1):!!a!=!!i&&(n!=null?di(e,!!i,n,!0):di(e,!!i,i?[]:"",!1));return;case"textarea":U=V=null;for(v in i)if(l=i[v],i.hasOwnProperty(v)&&l!=null&&!a.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Vt(e,n,v,null,a,l)}for(y in a)if(l=a[y],h=i[y],a.hasOwnProperty(y)&&(l!=null||h!=null))switch(y){case"value":V=l;break;case"defaultValue":U=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(r(91));break;default:l!==h&&Vt(e,n,y,l,a,h)}cp(e,V,U);return;case"option":for(var gt in i)if(V=i[gt],i.hasOwnProperty(gt)&&V!=null&&!a.hasOwnProperty(gt))switch(gt){case"selected":e.selected=!1;break;default:Vt(e,n,gt,null,a,V)}for(F in a)if(V=a[F],U=i[F],a.hasOwnProperty(F)&&V!==U&&(V!=null||U!=null))switch(F){case"selected":e.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:Vt(e,n,F,V,a,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in i)V=i[dt],i.hasOwnProperty(dt)&&V!=null&&!a.hasOwnProperty(dt)&&Vt(e,n,dt,null,a,V);for(q in a)if(V=a[q],U=i[q],a.hasOwnProperty(q)&&V!==U&&(V!=null||U!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,n));break;default:Vt(e,n,q,V,a,U)}return;default:if(bc(n)){for(var Ut in i)V=i[Ut],i.hasOwnProperty(Ut)&&V!==void 0&&!a.hasOwnProperty(Ut)&&lf(e,n,Ut,void 0,a,V);for(H in a)V=a[H],U=i[H],!a.hasOwnProperty(H)||V===U||V===void 0&&U===void 0||lf(e,n,H,V,a,U);return}}for(var N in i)V=i[N],i.hasOwnProperty(N)&&V!=null&&!a.hasOwnProperty(N)&&Vt(e,n,N,null,a,V);for(W in a)V=a[W],U=i[W],!a.hasOwnProperty(W)||V===U||V==null&&U==null||Vt(e,n,W,V,a,U)}var cf=null,hf=null;function Xo(e){return e.nodeType===9?e:e.ownerDocument}function f1(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d1(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ff(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var df=null;function ov(){var e=window.event;return e&&e.type==="popstate"?e===df?!1:(df=e,!0):(df=null,!1)}var p1=typeof setTimeout=="function"?setTimeout:void 0,lv=typeof clearTimeout=="function"?clearTimeout:void 0,m1=typeof Promise=="function"?Promise:void 0,cv=typeof queueMicrotask=="function"?queueMicrotask:typeof m1<"u"?function(e){return m1.resolve(null).then(e).catch(hv)}:p1;function hv(e){setTimeout(function(){throw e})}function su(e){return e==="head"}function g1(e,n){var i=n,a=0,l=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(0<a&&8>a){i=a;var y=e.ownerDocument;if(i&1&&na(y.documentElement),i&2&&na(y.body),i&4)for(i=y.head,na(i),y=i.firstChild;y;){var v=y.nextSibling,F=y.nodeName;y[Dr]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&y.rel.toLowerCase()==="stylesheet"||i.removeChild(y),y=v}}if(l===0){e.removeChild(h),ca(n);return}l--}else i==="$"||i==="$?"||i==="$!"?l++:a=i.charCodeAt(0)-48;else a=0;i=h}while(i);ca(n)}function pf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":pf(i),yc(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function fv(e,n,i,a){for(;e.nodeType===1;){var l=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Dr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function dv(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Un(e.nextSibling),e===null))return null;return e}function mf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function pv(e,n){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")n();else{var a=function(){n(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Un(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var gf=null;function D1(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}function y1(e,n,i){switch(n=Xo(i),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function na(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);yc(e)}var Bn=new Map,A1=new Set;function Zo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ss=j.d;j.d={f:mv,r:gv,D:Dv,C:yv,L:Av,m:vv,X:Ev,S:_v,M:Cv};function mv(){var e=Ss.f(),n=Vo();return e||n}function gv(e){var n=li(e);n!==null&&n.tag===5&&n.type==="form"?V0(n):Ss.r(e)}var Gi=typeof document>"u"?null:document;function v1(e,n,i){var a=Gi;if(a&&typeof n=="string"&&n){var l=bn(n);l='link[rel="'+e+'"][href="'+l+'"]',typeof i=="string"&&(l+='[crossorigin="'+i+'"]'),A1.has(l)||(A1.add(l),e={rel:e,crossOrigin:i,href:n},a.querySelector(l)===null&&(n=a.createElement("link"),Fe(n,"link",e),ye(n),a.head.appendChild(n)))}}function Dv(e){Ss.D(e),v1("dns-prefetch",e,null)}function yv(e,n){Ss.C(e,n),v1("preconnect",e,n)}function Av(e,n,i){Ss.L(e,n,i);var a=Gi;if(a&&e&&n){var l='link[rel="preload"][as="'+bn(n)+'"]';n==="image"&&i&&i.imageSrcSet?(l+='[imagesrcset="'+bn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(l+='[imagesizes="'+bn(i.imageSizes)+'"]')):l+='[href="'+bn(e)+'"]';var h=l;switch(n){case"style":h=Pi(e);break;case"script":h=Hi(e)}Bn.has(h)||(e=g({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Bn.set(h,e),a.querySelector(l)!==null||n==="style"&&a.querySelector(sa(h))||n==="script"&&a.querySelector(ua(h))||(n=a.createElement("link"),Fe(n,"link",e),ye(n),a.head.appendChild(n)))}}function vv(e,n){Ss.m(e,n);var i=Gi;if(i&&e){var a=n&&typeof n.as=="string"?n.as:"script",l='link[rel="modulepreload"][as="'+bn(a)+'"][href="'+bn(e)+'"]',h=l;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Hi(e)}if(!Bn.has(h)&&(e=g({rel:"modulepreload",href:e},n),Bn.set(h,e),i.querySelector(l)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(ua(h)))return}a=i.createElement("link"),Fe(a,"link",e),ye(a),i.head.appendChild(a)}}}function _v(e,n,i){Ss.S(e,n,i);var a=Gi;if(a&&e){var l=ci(a).hoistableStyles,h=Pi(e);n=n||"default";var y=l.get(h);if(!y){var v={loading:0,preload:null};if(y=a.querySelector(sa(h)))v.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Bn.get(h))&&Df(e,i);var F=y=a.createElement("link");ye(F),Fe(F,"link",e),F._p=new Promise(function(q,H){F.onload=q,F.onerror=H}),F.addEventListener("load",function(){v.loading|=1}),F.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Qo(y,n,a)}y={type:"stylesheet",instance:y,count:1,state:v},l.set(h,y)}}}function Ev(e,n){Ss.X(e,n);var i=Gi;if(i&&e){var a=ci(i).hoistableScripts,l=Hi(e),h=a.get(l);h||(h=i.querySelector(ua(l)),h||(e=g({src:e,async:!0},n),(n=Bn.get(l))&&yf(e,n),h=i.createElement("script"),ye(h),Fe(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},a.set(l,h))}}function Cv(e,n){Ss.M(e,n);var i=Gi;if(i&&e){var a=ci(i).hoistableScripts,l=Hi(e),h=a.get(l);h||(h=i.querySelector(ua(l)),h||(e=g({src:e,async:!0,type:"module"},n),(n=Bn.get(l))&&yf(e,n),h=i.createElement("script"),ye(h),Fe(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},a.set(l,h))}}function _1(e,n,i,a){var l=(l=lt.current)?Zo(l):null;if(!l)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=Pi(i.href),i=ci(l).hoistableStyles,a=i.get(n),a||(a={type:"style",instance:null,count:0,state:null},i.set(n,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Pi(i.href);var h=ci(l).hoistableStyles,y=h.get(e);if(y||(l=l.ownerDocument||l,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,y),(h=l.querySelector(sa(e)))&&!h._p&&(y.instance=h,y.state.loading=5),Bn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Bn.set(e,i),h||bv(l,e,i,y.state))),n&&a===null)throw Error(r(528,""));return y}if(n&&a!==null)throw Error(r(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Hi(i),i=ci(l).hoistableScripts,a=i.get(n),a||(a={type:"script",instance:null,count:0,state:null},i.set(n,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Pi(e){return'href="'+bn(e)+'"'}function sa(e){return'link[rel="stylesheet"]['+e+"]"}function E1(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function bv(e,n,i,a){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?a.loading=1:(n=e.createElement("link"),a.preload=n,n.addEventListener("load",function(){return a.loading|=1}),n.addEventListener("error",function(){return a.loading|=2}),Fe(n,"link",i),ye(n),e.head.appendChild(n))}function Hi(e){return'[src="'+bn(e)+'"]'}function ua(e){return"script[async]"+e}function C1(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var a=e.querySelector('style[data-href~="'+bn(i.href)+'"]');if(a)return n.instance=a,ye(a),a;var l=g({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),ye(a),Fe(a,"style",l),Qo(a,i.precedence,e),n.instance=a;case"stylesheet":l=Pi(i.href);var h=e.querySelector(sa(l));if(h)return n.state.loading|=4,n.instance=h,ye(h),h;a=E1(i),(l=Bn.get(l))&&Df(a,l),h=(e.ownerDocument||e).createElement("link"),ye(h);var y=h;return y._p=new Promise(function(v,F){y.onload=v,y.onerror=F}),Fe(h,"link",a),n.state.loading|=4,Qo(h,i.precedence,e),n.instance=h;case"script":return h=Hi(i.src),(l=e.querySelector(ua(h)))?(n.instance=l,ye(l),l):(a=i,(l=Bn.get(h))&&(a=g({},i),yf(a,l)),e=e.ownerDocument||e,l=e.createElement("script"),ye(l),Fe(l,"link",a),e.head.appendChild(l),n.instance=l);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(a=n.instance,n.state.loading|=4,Qo(a,i.precedence,e));return n.instance}function Qo(e,n,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=a.length?a[a.length-1]:null,h=l,y=0;y<a.length;y++){var v=a[y];if(v.dataset.precedence===n)h=v;else if(h!==l)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Df(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function yf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Wo=null;function b1(e,n,i){if(Wo===null){var a=new Map,l=Wo=new Map;l.set(i,a)}else l=Wo,a=l.get(i),a||(a=new Map,l.set(i,a));if(a.has(e))return a;for(a.set(e,null),i=i.getElementsByTagName(e),l=0;l<i.length;l++){var h=i[l];if(!(h[Dr]||h[Me]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(n)||"";y=e+y;var v=a.get(y);v?v.push(h):a.set(y,[h])}}return a}function S1(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function Sv(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function T1(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ia=null;function Tv(){}function Fv(e,n,i){if(ia===null)throw Error(r(475));var a=ia;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var l=Pi(i.href),h=e.querySelector(sa(l));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Ko.bind(a),e.then(a,a)),n.state.loading|=4,n.instance=h,ye(h);return}h=e.ownerDocument||e,i=E1(i),(l=Bn.get(l))&&Df(i,l),h=h.createElement("link"),ye(h);var y=h;y._p=new Promise(function(v,F){y.onload=v,y.onerror=F}),Fe(h,"link",i),n.instance=h}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(a.count++,n=Ko.bind(a),e.addEventListener("load",n),e.addEventListener("error",n))}}function xv(){if(ia===null)throw Error(r(475));var e=ia;return e.stylesheets&&e.count===0&&Af(e,e.stylesheets),0<e.count?function(n){var i=setTimeout(function(){if(e.stylesheets&&Af(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Ko(){if(this.count--,this.count===0){if(this.stylesheets)Af(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $o=null;function Af(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$o=new Map,n.forEach(wv,e),$o=null,Ko.call(e))}function wv(e,n){if(!(n.state.loading&4)){var i=$o.get(e);if(i)var a=i.get(null);else{i=new Map,$o.set(e,i);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<l.length;h++){var y=l[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(i.set(y.dataset.precedence,y),a=y)}a&&i.set(null,a)}l=n.instance,y=l.getAttribute("data-precedence"),h=i.get(y)||a,h===a&&i.set(null,l),i.set(y,l),this.count++,a=Ko.bind(this),l.addEventListener("load",a),l.addEventListener("error",a),h?h.parentNode.insertBefore(l,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),n.state.loading|=4}}var ra={$$typeof:z,Provider:null,Consumer:null,_currentValue:tt,_currentValue2:tt,_threadCount:0};function Ov(e,n,i,a,l,h,y,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pc(0),this.hiddenUpdates=pc(null),this.identifierPrefix=a,this.onUncaughtError=l,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function F1(e,n,i,a,l,h,y,v,F,q,H,W){return e=new Ov(e,n,i,y,v,F,q,W),n=1,h===!0&&(n|=24),h=fn(3,null,null,n),e.current=h,h.stateNode=e,n=Jc(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:a,isDehydrated:i,cache:n},sh(h),e}function x1(e){return e?(e=Ei,e):Ei}function w1(e,n,i,a,l,h){l=x1(l),a.context===null?a.context=l:a.pendingContext=l,a=Ps(n),a.payload={element:i},h=h===void 0?null:h,h!==null&&(a.callback=h),i=Hs(e,a,n),i!==null&&(Dn(i,e,n),kr(i,e,n))}function O1(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function vf(e,n){O1(e,n),(e=e.alternate)&&O1(e,n)}function B1(e){if(e.tag===13){var n=_i(e,67108864);n!==null&&Dn(n,e,67108864),vf(e,67108864)}}var Jo=!0;function Bv(e,n,i,a){var l=O.T;O.T=null;var h=j.p;try{j.p=2,_f(e,n,i,a)}finally{j.p=h,O.T=l}}function Nv(e,n,i,a){var l=O.T;O.T=null;var h=j.p;try{j.p=8,_f(e,n,i,a)}finally{j.p=h,O.T=l}}function _f(e,n,i,a){if(Jo){var l=Ef(a);if(l===null)of(e,n,a,tl,i),R1(e,a);else if(Mv(l,e,n,i,a))a.stopPropagation();else if(R1(e,a),n&4&&-1<Rv.indexOf(e)){for(;l!==null;){var h=li(l);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=Cu(h.pendingLanes);if(y!==0){var v=h;for(v.pendingLanes|=2,v.entangledLanes|=2;y;){var F=1<<31-cn(y);v.entanglements[1]|=F,y&=~F}us(h),(kt&6)===0&&(Lo=Bt()+500,Jr(0))}}break;case 13:v=_i(h,2),v!==null&&Dn(v,h,2),Vo(),vf(h,2)}if(h=Ef(a),h===null&&of(e,n,a,tl,i),h===l)break;l=h}l!==null&&a.stopPropagation()}else of(e,n,a,null,i)}}function Ef(e){return e=Tc(e),Cf(e)}var tl=null;function Cf(e){if(tl=null,e=oi(e),e!==null){var n=c(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=f(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return tl=e,null}function N1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zt()){case Tt:return 2;case Qt:return 8;case be:case Jn:return 32;case qs:return 268435456;default:return 32}default:return 32}}var bf=!1,uu=null,iu=null,ru=null,aa=new Map,oa=new Map,au=[],Rv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R1(e,n){switch(e){case"focusin":case"focusout":uu=null;break;case"dragenter":case"dragleave":iu=null;break;case"mouseover":case"mouseout":ru=null;break;case"pointerover":case"pointerout":aa.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":oa.delete(n.pointerId)}}function la(e,n,i,a,l,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:i,eventSystemFlags:a,nativeEvent:h,targetContainers:[l]},n!==null&&(n=li(n),n!==null&&B1(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,l!==null&&n.indexOf(l)===-1&&n.push(l),e)}function Mv(e,n,i,a,l){switch(n){case"focusin":return uu=la(uu,e,n,i,a,l),!0;case"dragenter":return iu=la(iu,e,n,i,a,l),!0;case"mouseover":return ru=la(ru,e,n,i,a,l),!0;case"pointerover":var h=l.pointerId;return aa.set(h,la(aa.get(h)||null,e,n,i,a,l)),!0;case"gotpointercapture":return h=l.pointerId,oa.set(h,la(oa.get(h)||null,e,n,i,a,l)),!0}return!1}function M1(e){var n=oi(e.target);if(n!==null){var i=c(n);if(i!==null){if(n=i.tag,n===13){if(n=f(i),n!==null){e.blockedOn=n,Fy(e.priority,function(){if(i.tag===13){var a=gn();a=mc(a);var l=_i(i,a);l!==null&&Dn(l,i,a),vf(i,a)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function el(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Ef(e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);Sc=a,i.target.dispatchEvent(a),Sc=null}else return n=li(i),n!==null&&B1(n),e.blockedOn=i,!1;n.shift()}return!0}function I1(e,n,i){el(e)&&i.delete(n)}function Iv(){bf=!1,uu!==null&&el(uu)&&(uu=null),iu!==null&&el(iu)&&(iu=null),ru!==null&&el(ru)&&(ru=null),aa.forEach(I1),oa.forEach(I1)}function nl(e,n){e.blockedOn===n&&(e.blockedOn=null,bf||(bf=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,Iv)))}var sl=null;function k1(e){sl!==e&&(sl=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){sl===e&&(sl=null);for(var n=0;n<e.length;n+=3){var i=e[n],a=e[n+1],l=e[n+2];if(typeof a!="function"){if(Cf(a||i)===null)continue;break}var h=li(i);h!==null&&(e.splice(n,3),n-=3,Eh(h,{pending:!0,data:l,method:i.method,action:a},a,l))}}))}function ca(e){function n(F){return nl(F,e)}uu!==null&&nl(uu,e),iu!==null&&nl(iu,e),ru!==null&&nl(ru,e),aa.forEach(n),oa.forEach(n);for(var i=0;i<au.length;i++){var a=au[i];a.blockedOn===e&&(a.blockedOn=null)}for(;0<au.length&&(i=au[0],i.blockedOn===null);)M1(i),i.blockedOn===null&&au.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var l=i[a],h=i[a+1],y=l[We]||null;if(typeof h=="function")y||k1(i);else if(y){var v=null;if(h&&h.hasAttribute("formAction")){if(l=h,y=h[We]||null)v=y.formAction;else if(Cf(l)!==null)continue}else v=y.action;typeof v=="function"?i[a+1]=v:(i.splice(a,3),a-=3),k1(i)}}}function Sf(e){this._internalRoot=e}ul.prototype.render=Sf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var i=n.current,a=gn();w1(i,a,e,n,null,null)},ul.prototype.unmount=Sf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;w1(e.current,2,null,e,null,null),Vo(),n[ai]=null}};function ul(e){this._internalRoot=e}ul.prototype.unstable_scheduleHydration=function(e){if(e){var n=Jd();e={blockedOn:null,target:e,priority:n};for(var i=0;i<au.length&&n!==0&&n<au[i].priority;i++);au.splice(i,0,e),i===0&&M1(e)}};var L1=t.version;if(L1!=="19.1.1")throw Error(r(527,L1,"19.1.1"));j.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=m(n),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var kv={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{Eu=il.inject(kv),ln=il}catch{}}return fa.createRoot=function(e,n){if(!o(e))throw Error(r(299));var i=!1,a="",l=J0,h=tm,y=em,v=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(l=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(v=n.unstable_transitionCallbacks)),n=F1(e,1,!1,null,null,i,a,l,h,y,v,null),e[ai]=n.current,af(e),new Sf(n)},fa.hydrateRoot=function(e,n,i){if(!o(e))throw Error(r(299));var a=!1,l="",h=J0,y=tm,v=em,F=null,q=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(F=i.unstable_transitionCallbacks),i.formState!==void 0&&(q=i.formState)),n=F1(e,1,!0,n,i??null,a,l,h,y,v,F,q),n.context=x1(null),i=n.current,a=gn(),a=mc(a),l=Ps(a),l.callback=null,Hs(i,l,a),i=a,n.current.lanes=i,gr(n,i),us(n),e[ai]=n.current,af(e),new ul(n)},fa.version="19.1.1",fa}var X1;function Xv(){if(X1)return xf.exports;X1=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(t){console.error(t)}}return u(),xf.exports=Yv(),xf.exports}var Zv=Xv();function Qv(u,t,s){return t in u?Object.defineProperty(u,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):u[t]=s,u}function Z1(u,t){var s=Object.keys(u);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(u);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(u,o).enumerable})),s.push.apply(s,r)}return s}function Q1(u){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Z1(Object(s),!0).forEach(function(r){Qv(u,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(s)):Z1(Object(s)).forEach(function(r){Object.defineProperty(u,r,Object.getOwnPropertyDescriptor(s,r))})}return u}function Wv(u,t){if(u==null)return{};var s={},r=Object.keys(u),o,c;for(c=0;c<r.length;c++)o=r[c],!(t.indexOf(o)>=0)&&(s[o]=u[o]);return s}function Kv(u,t){if(u==null)return{};var s=Wv(u,t),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(u);for(o=0;o<c.length;o++)r=c[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(u,r)&&(s[r]=u[r])}return s}function $v(u,t){return Jv(u)||t_(u,t)||e_(u,t)||n_()}function Jv(u){if(Array.isArray(u))return u}function t_(u,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(u)))){var s=[],r=!0,o=!1,c=void 0;try{for(var f=u[Symbol.iterator](),d;!(r=(d=f.next()).done)&&(s.push(d.value),!(t&&s.length===t));r=!0);}catch(m){o=!0,c=m}finally{try{!r&&f.return!=null&&f.return()}finally{if(o)throw c}}return s}}function e_(u,t){if(u){if(typeof u=="string")return W1(u,t);var s=Object.prototype.toString.call(u).slice(8,-1);if(s==="Object"&&u.constructor&&(s=u.constructor.name),s==="Map"||s==="Set")return Array.from(u);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return W1(u,t)}}function W1(u,t){(t==null||t>u.length)&&(t=u.length);for(var s=0,r=new Array(t);s<t;s++)r[s]=u[s];return r}function n_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s_(u,t,s){return t in u?Object.defineProperty(u,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):u[t]=s,u}function K1(u,t){var s=Object.keys(u);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(u);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(u,o).enumerable})),s.push.apply(s,r)}return s}function $1(u){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(s),!0).forEach(function(r){s_(u,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(s)):K1(Object(s)).forEach(function(r){Object.defineProperty(u,r,Object.getOwnPropertyDescriptor(s,r))})}return u}function u_(){for(var u=arguments.length,t=new Array(u),s=0;s<u;s++)t[s]=arguments[s];return function(r){return t.reduceRight(function(o,c){return c(o)},r)}}function da(u){return function t(){for(var s=this,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return o.length>=u.length?u.apply(this,o):function(){for(var f=arguments.length,d=new Array(f),m=0;m<f;m++)d[m]=arguments[m];return t.apply(s,[].concat(o,d))}}}function ml(u){return{}.toString.call(u).includes("Object")}function i_(u){return!Object.keys(u).length}function Aa(u){return typeof u=="function"}function r_(u,t){return Object.prototype.hasOwnProperty.call(u,t)}function a_(u,t){return ml(t)||fu("changeType"),Object.keys(t).some(function(s){return!r_(u,s)})&&fu("changeField"),t}function o_(u){Aa(u)||fu("selectorType")}function l_(u){Aa(u)||ml(u)||fu("handlerType"),ml(u)&&Object.values(u).some(function(t){return!Aa(t)})&&fu("handlersType")}function c_(u){u||fu("initialIsRequired"),ml(u)||fu("initialType"),i_(u)&&fu("initialContent")}function h_(u,t){throw new Error(u[t]||u.default)}var f_={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},fu=da(h_)(f_),rl={changes:a_,selector:o_,handler:l_,initial:c_};function d_(u){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};rl.initial(u),rl.handler(t);var s={current:u},r=da(g_)(s,t),o=da(m_)(s),c=da(rl.changes)(u),f=da(p_)(s);function d(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(g){return g};return rl.selector(p),p(s.current)}function m(p){u_(r,o,c,f)(p)}return[d,m]}function p_(u,t){return Aa(t)?t(u.current):t}function m_(u,t){return u.current=$1($1({},u.current),t),t}function g_(u,t,s){return Aa(t)?t(u.current):Object.keys(s).forEach(function(r){var o;return(o=t[r])===null||o===void 0?void 0:o.call(t,u.current[r])}),s}var D_={create:d_},y_={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function A_(u){return function t(){for(var s=this,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return o.length>=u.length?u.apply(this,o):function(){for(var f=arguments.length,d=new Array(f),m=0;m<f;m++)d[m]=arguments[m];return t.apply(s,[].concat(o,d))}}}function v_(u){return{}.toString.call(u).includes("Object")}function __(u){return u||J1("configIsRequired"),v_(u)||J1("configType"),u.urls?(E_(),{paths:{vs:u.urls.monacoBase}}):u}function E_(){console.warn(Lg.deprecation)}function C_(u,t){throw new Error(u[t]||u.default)}var Lg={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},J1=A_(C_)(Lg),b_={config:__},S_=function(){for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return function(o){return s.reduceRight(function(c,f){return f(c)},o)}};function qg(u,t){return Object.keys(t).forEach(function(s){t[s]instanceof Object&&u[s]&&Object.assign(t[s],qg(u[s],t[s]))}),Q1(Q1({},u),t)}var T_={type:"cancelation",msg:"operation is manually canceled"};function Nf(u){var t=!1,s=new Promise(function(r,o){u.then(function(c){return t?o(T_):r(c)}),u.catch(o)});return s.cancel=function(){return t=!0},s}var F_=D_.create({config:y_,isInitialized:!1,resolve:null,reject:null,monaco:null}),Vg=$v(F_,2),Ra=Vg[0],Ql=Vg[1];function x_(u){var t=b_.config(u),s=t.monaco,r=Kv(t,["monaco"]);Ql(function(o){return{config:qg(o.config,r),monaco:s}})}function w_(){var u=Ra(function(t){var s=t.monaco,r=t.isInitialized,o=t.resolve;return{monaco:s,isInitialized:r,resolve:o}});if(!u.isInitialized){if(Ql({isInitialized:!0}),u.monaco)return u.resolve(u.monaco),Nf(Rf);if(window.monaco&&window.monaco.editor)return Ug(window.monaco),u.resolve(window.monaco),Nf(Rf);S_(O_,N_)(R_)}return Nf(Rf)}function O_(u){return document.body.appendChild(u)}function B_(u){var t=document.createElement("script");return u&&(t.src=u),t}function N_(u){var t=Ra(function(r){var o=r.config,c=r.reject;return{config:o,reject:c}}),s=B_("".concat(t.config.paths.vs,"/loader.js"));return s.onload=function(){return u()},s.onerror=t.reject,s}function R_(){var u=Ra(function(s){var r=s.config,o=s.resolve,c=s.reject;return{config:r,resolve:o,reject:c}}),t=window.require;t.config(u.config),t(["vs/editor/editor.main"],function(s){Ug(s),u.resolve(s)},function(s){u.reject(s)})}function Ug(u){Ra().monaco||Ql({monaco:u})}function M_(){return Ra(function(u){var t=u.monaco;return t})}var Rf=new Promise(function(u,t){return Ql({resolve:u,reject:t})}),zg={config:x_,init:w_,__getMonacoInstance:M_},I_={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Mf=I_,k_={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},L_=k_;function q_({children:u}){return $i.createElement("div",{style:L_.container},u)}var V_=q_,U_=V_;function z_({width:u,height:t,isEditorReady:s,loading:r,_ref:o,className:c,wrapperProps:f}){return $i.createElement("section",{style:{...Mf.wrapper,width:u,height:t},...f},!s&&$i.createElement(U_,null,r),$i.createElement("div",{ref:o,style:{...Mf.fullWidth,...!s&&Mf.hide},className:c}))}var j_=z_,jg=Dt.memo(j_);function G_(u){Dt.useEffect(u,[])}var Gg=G_;function P_(u,t,s=!0){let r=Dt.useRef(!0);Dt.useEffect(r.current||!s?()=>{r.current=!1}:u,t)}var yn=P_;function Da(){}function Zi(u,t,s,r){return H_(u,r)||Y_(u,t,s,r)}function H_(u,t){return u.editor.getModel(Pg(u,t))}function Y_(u,t,s,r){return u.editor.createModel(t,s,r?Pg(u,r):void 0)}function Pg(u,t){return u.Uri.parse(t)}function X_({original:u,modified:t,language:s,originalLanguage:r,modifiedLanguage:o,originalModelPath:c,modifiedModelPath:f,keepCurrentOriginalModel:d=!1,keepCurrentModifiedModel:m=!1,theme:p="light",loading:g="Loading...",options:D={},height:A="100%",width:E="100%",className:_,wrapperProps:C={},beforeMount:b=Da,onMount:T=Da}){let[R,z]=Dt.useState(!1),[Y,x]=Dt.useState(!0),M=Dt.useRef(null),I=Dt.useRef(null),B=Dt.useRef(null),X=Dt.useRef(T),G=Dt.useRef(b),Q=Dt.useRef(!1);Gg(()=>{let J=zg.init();return J.then(O=>(I.current=O)&&x(!1)).catch(O=>O?.type!=="cancelation"&&console.error("Monaco initialization: error:",O)),()=>M.current?st():J.cancel()}),yn(()=>{if(M.current&&I.current){let J=M.current.getOriginalEditor(),O=Zi(I.current,u||"",r||s||"text",c||"");O!==J.getModel()&&J.setModel(O)}},[c],R),yn(()=>{if(M.current&&I.current){let J=M.current.getModifiedEditor(),O=Zi(I.current,t||"",o||s||"text",f||"");O!==J.getModel()&&J.setModel(O)}},[f],R),yn(()=>{let J=M.current.getModifiedEditor();J.getOption(I.current.editor.EditorOption.readOnly)?J.setValue(t||""):t!==J.getValue()&&(J.executeEdits("",[{range:J.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),J.pushUndoStop())},[t],R),yn(()=>{M.current?.getModel()?.original.setValue(u||"")},[u],R),yn(()=>{let{original:J,modified:O}=M.current.getModel();I.current.editor.setModelLanguage(J,r||s||"text"),I.current.editor.setModelLanguage(O,o||s||"text")},[s,r,o],R),yn(()=>{I.current?.editor.setTheme(p)},[p],R),yn(()=>{M.current?.updateOptions(D)},[D],R);let P=Dt.useCallback(()=>{if(!I.current)return;G.current(I.current);let J=Zi(I.current,u||"",r||s||"text",c||""),O=Zi(I.current,t||"",o||s||"text",f||"");M.current?.setModel({original:J,modified:O})},[s,t,o,u,r,c,f]),nt=Dt.useCallback(()=>{!Q.current&&B.current&&(M.current=I.current.editor.createDiffEditor(B.current,{automaticLayout:!0,...D}),P(),I.current?.editor.setTheme(p),z(!0),Q.current=!0)},[D,p,P]);Dt.useEffect(()=>{R&&X.current(M.current,I.current)},[R]),Dt.useEffect(()=>{!Y&&!R&&nt()},[Y,R,nt]);function st(){let J=M.current?.getModel();d||J?.original?.dispose(),m||J?.modified?.dispose(),M.current?.dispose()}return $i.createElement(jg,{width:E,height:A,isEditorReady:R,loading:g,_ref:B,className:_,wrapperProps:C})}var Z_=X_;Dt.memo(Z_);function Q_(u){let t=Dt.useRef();return Dt.useEffect(()=>{t.current=u},[u]),t.current}var W_=Q_,al=new Map;function K_({defaultValue:u,defaultLanguage:t,defaultPath:s,value:r,language:o,path:c,theme:f="light",line:d,loading:m="Loading...",options:p={},overrideServices:g={},saveViewState:D=!0,keepCurrentModel:A=!1,width:E="100%",height:_="100%",className:C,wrapperProps:b={},beforeMount:T=Da,onMount:R=Da,onChange:z,onValidate:Y=Da}){let[x,M]=Dt.useState(!1),[I,B]=Dt.useState(!0),X=Dt.useRef(null),G=Dt.useRef(null),Q=Dt.useRef(null),P=Dt.useRef(R),nt=Dt.useRef(T),st=Dt.useRef(),J=Dt.useRef(r),O=W_(c),j=Dt.useRef(!1),tt=Dt.useRef(!1);Gg(()=>{let L=zg.init();return L.then(K=>(X.current=K)&&B(!1)).catch(K=>K?.type!=="cancelation"&&console.error("Monaco initialization: error:",K)),()=>G.current?S():L.cancel()}),yn(()=>{let L=Zi(X.current,u||r||"",t||o||"",c||s||"");L!==G.current?.getModel()&&(D&&al.set(O,G.current?.saveViewState()),G.current?.setModel(L),D&&G.current?.restoreViewState(al.get(c)))},[c],x),yn(()=>{G.current?.updateOptions(p)},[p],x),yn(()=>{!G.current||r===void 0||(G.current.getOption(X.current.editor.EditorOption.readOnly)?G.current.setValue(r):r!==G.current.getValue()&&(tt.current=!0,G.current.executeEdits("",[{range:G.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),G.current.pushUndoStop(),tt.current=!1))},[r],x),yn(()=>{let L=G.current?.getModel();L&&o&&X.current?.editor.setModelLanguage(L,o)},[o],x),yn(()=>{d!==void 0&&G.current?.revealLine(d)},[d],x),yn(()=>{X.current?.editor.setTheme(f)},[f],x);let ut=Dt.useCallback(()=>{if(!(!Q.current||!X.current)&&!j.current){nt.current(X.current);let L=c||s,K=Zi(X.current,r||u||"",t||o||"",L||"");G.current=X.current?.editor.create(Q.current,{model:K,automaticLayout:!0,...p},g),D&&G.current.restoreViewState(al.get(L)),X.current.editor.setTheme(f),d!==void 0&&G.current.revealLine(d),M(!0),j.current=!0}},[u,t,s,r,o,c,p,g,D,f,d]);Dt.useEffect(()=>{x&&P.current(G.current,X.current)},[x]),Dt.useEffect(()=>{!I&&!x&&ut()},[I,x,ut]),J.current=r,Dt.useEffect(()=>{x&&z&&(st.current?.dispose(),st.current=G.current?.onDidChangeModelContent(L=>{tt.current||z(G.current.getValue(),L)}))},[x,z]),Dt.useEffect(()=>{if(x){let L=X.current.editor.onDidChangeMarkers(K=>{let et=G.current.getModel()?.uri;if(et&&K.find(at=>at.path===et.path)){let at=X.current.editor.getModelMarkers({resource:et});Y?.(at)}});return()=>{L?.dispose()}}return()=>{}},[x,Y]);function S(){st.current?.dispose(),A?D&&al.set(c,G.current.saveViewState()):G.current.getModel()?.dispose(),G.current.dispose()}return $i.createElement(jg,{width:E,height:_,isEditorReady:x,loading:m,_ref:Q,className:C,wrapperProps:b})}var $_=K_,J_=Dt.memo($_),t2=J_,Wl={exports:{}};function e2(u){return u==="description"||u==="string"||u==="code"}function Xe(u,t,s){if(!e2(s))throw new Error("invalid Failure type: "+s);this.pexpr=u,this.text=t,this.type=s,this.fluffy=!1}Xe.prototype.getPExpr=function(){return this.pexpr};Xe.prototype.getText=function(){return this.text};Xe.prototype.getType=function(){return this.type};Xe.prototype.isDescription=function(){return this.type==="description"};Xe.prototype.isStringTerminal=function(){return this.type==="string"};Xe.prototype.isCode=function(){return this.type==="code"};Xe.prototype.isFluffy=function(){return this.fluffy};Xe.prototype.makeFluffy=function(){this.fluffy=!0};Xe.prototype.clearFluffy=function(){this.fluffy=!1};Xe.prototype.subsumes=function(u){return this.getText()===u.getText()&&this.type===u.type&&(!this.isFluffy()||this.isFluffy()&&u.isFluffy())};Xe.prototype.toString=function(){return this.type==="string"?JSON.stringify(this.getText()):this.getText()};Xe.prototype.clone=function(){const u=new Xe(this.pexpr,this.text,this.type);return this.isFluffy()&&u.makeFluffy(),u};Xe.prototype.toKey=function(){return this.toString()+"#"+this.type};var Hg=Xe,Gt={};(function(u){u.abstract=function(s){const r=s||"";return function(){throw new Error("this method "+r+" is abstract! (it has no implementation in class "+this.constructor.name+")")}},u.assert=function(s,r){if(!s)throw new Error(r||"Assertion failed")},u.defineLazyProperty=function(s,r,o){let c;Object.defineProperty(s,r,{get(){return c||(c=o.call(this)),c}})},u.clone=function(s){return s&&Object.assign({},s)},u.repeatFn=function(s,r){const o=[];for(;r-- >0;)o.push(s());return o},u.repeatStr=function(s,r){return new Array(r+1).join(s)},u.repeat=function(s,r){return u.repeatFn(()=>s,r)},u.getDuplicates=function(s){const r=[];for(let o=0;o<s.length;o++){const c=s[o];s.lastIndexOf(c)!==o&&r.indexOf(c)<0&&r.push(c)}return r},u.copyWithoutDuplicates=function(s){const r=[];return s.forEach(o=>{r.indexOf(o)<0&&r.push(o)}),r},u.isSyntactic=function(s){const r=s[0];return r===r.toUpperCase()},u.isLexical=function(s){return!u.isSyntactic(s)},u.padLeft=function(s,r,o){const c=o||" ";return s.length<r?u.repeatStr(c,r-s.length)+s:s},u.StringBuffer=function(){this.strings=[]},u.StringBuffer.prototype.append=function(s){this.strings.push(s)},u.StringBuffer.prototype.contents=function(){return this.strings.join("")};const t=s=>String.fromCodePoint(parseInt(s,16));u.unescapeCodePoint=function(s){if(s.charAt(0)==="\\")switch(s.charAt(1)){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"x":return t(s.slice(2,4));case"u":return s.charAt(2)==="{"?t(s.slice(3,-1)):t(s.slice(2,6));default:return s.charAt(1)}else return s},u.unexpectedObjToString=function(s){if(s==null)return String(s);const r=Object.prototype.toString.call(s);try{let o;return s.constructor&&s.constructor.name?o=s.constructor.name:r.indexOf("[object ")===0?o=r.slice(8,-1):o=typeof s,o+": "+JSON.stringify(String(s))}catch{return r}}})(Gt);const tg=Gt;class id{constructor(t){this.matchLength=t}get ctorName(){throw new Error("subclass responsibility")}numChildren(){return this.children?this.children.length:0}childAt(t){if(this.children)return this.children[t]}indexOfChild(t){return this.children.indexOf(t)}hasChildren(){return this.numChildren()>0}hasNoChildren(){return!this.hasChildren()}onlyChild(){if(this.numChildren()!==1)throw new Error("cannot get only child of a node of type "+this.ctorName+" (it has "+this.numChildren()+" children)");return this.firstChild()}firstChild(){if(this.hasNoChildren())throw new Error("cannot get first child of a "+this.ctorName+" node, which has no children");return this.childAt(0)}lastChild(){if(this.hasNoChildren())throw new Error("cannot get last child of a "+this.ctorName+" node, which has no children");return this.childAt(this.numChildren()-1)}childBefore(t){const s=this.indexOfChild(t);if(s<0)throw new Error("Node.childBefore() called w/ an argument that is not a child");if(s===0)throw new Error("cannot get child before first child");return this.childAt(s-1)}childAfter(t){const s=this.indexOfChild(t);if(s<0)throw new Error("Node.childAfter() called w/ an argument that is not a child");if(s===this.numChildren()-1)throw new Error("cannot get child after last child");return this.childAt(s+1)}isTerminal(){return!1}isNonterminal(){return!1}isIteration(){return!1}isOptional(){return!1}}class n2 extends id{get ctorName(){return"_terminal"}isTerminal(){return!0}get primitiveValue(){throw new Error("The `primitiveValue` property was removed in Ohm v17.")}}class s2 extends id{constructor(t,s,r,o){super(o),this.ruleName=t,this.children=s,this.childOffsets=r}get ctorName(){return this.ruleName}isNonterminal(){return!0}isLexical(){return tg.isLexical(this.ctorName)}isSyntactic(){return tg.isSyntactic(this.ctorName)}}class u2 extends id{constructor(t,s,r,o){super(r),this.children=t,this.childOffsets=s,this.optional=o}get ctorName(){return"_iter"}isIteration(){return!0}isOptional(){return this.optional}}var rd={TerminalNode:n2,NonterminalNode:s2,IterationNode:u2},St={},i2={Lu:/[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]/,Ll:/[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD83A[\uDD22-\uDD43]/,Lt:/[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]/,Lm:/[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5\u06E6\u07F4\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA69C\uA69D\uA717-\uA71F\uA770\uA788\uA7F8\uA7F9\uA9CF\uA9E6\uAA70\uAADD\uAAF3\uAAF4\uAB5C-\uAB5F\uFF70\uFF9E\uFF9F]|\uD81A[\uDF40-\uDF43]|\uD81B[\uDF93-\uDF9F\uDFE0]/,Lo:/[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05F0-\u05F2\u0620-\u063F\u0641-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E45\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10D0-\u10FA\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A\uA62B\uA66E\uA6A0-\uA6E5\uA78F\uA7F7\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9E0-\uA9E4\uA9E7-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC50-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,Nl:/[\u16EE-\u16F0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303A\uA6E6-\uA6EF]|\uD800[\uDD40-\uDD74\uDF41\uDF4A\uDFD1-\uDFD5]|\uD809[\uDC00-\uDC6E]/,Nd:/[0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD801[\uDCA0-\uDCA9]|\uD804[\uDC66-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDEF0-\uDEF9]|[\uD805\uD807][\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF39]|\uD806[\uDCE0-\uDCE9]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59]|\uD835[\uDFCE-\uDFFF]|\uD83A[\uDD50-\uDD59]/,Mn:/[\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D01\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDCA-\uDDCC\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3C\uDF40\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDCB3-\uDCB8\uDCBA\uDCBF\uDCC0\uDCC2\uDCC3\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD67-\uDD69\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF]/,Mc:/[\u0903-\u0903]|[\u093E-\u0940]|[\u0949-\u094C]|[\u0982-\u0983]|[\u09BE-\u09C0]|[\u09C7-\u09C8]|[\u09CB-\u09CC]|[\u09D7-\u09D7]|[\u0A3E-\u0A40]|[\u0A83-\u0A83]|[\u0ABE-\u0AC0]|[\u0AC9-\u0AC9]|[\u0ACB-\u0ACC]|[\u0B02-\u0B03]|[\u0B3E-\u0B3E]|[\u0B40-\u0B40]|[\u0B47-\u0B48]|[\u0B4B-\u0B4C]|[\u0B57-\u0B57]|[\u0B83-\u0B83]|[\u0BBE-\u0BBF]|[\u0BC1-\u0BC2]|[\u0BC6-\u0BC8]|[\u0BCA-\u0BCC]|[\u0BD7-\u0BD7]|[\u0C01-\u0C03]|[\u0C41-\u0C44]|[\u0C82-\u0C83]|[\u0CBE-\u0CBE]|[\u0CC0-\u0CC4]|[\u0CC7-\u0CC8]|[\u0CCA-\u0CCB]|[\u0CD5-\u0CD6]|[\u0D02-\u0D03]|[\u0D3E-\u0D40]|[\u0D46-\u0D48]|[\u0D4A-\u0D4C]|[\u0D57-\u0D57]|[\u0F3E-\u0F3F]|[\u0F7F-\u0F7F]/,Pc:/[_\u203F\u2040\u2054\uFE33\uFE34\uFE4D-\uFE4F\uFF3F]/,Zs:/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,L:/[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,Ltmo:/[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]|[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5\u06E6\u07F4\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA69C\uA69D\uA717-\uA71F\uA770\uA788\uA7F8\uA7F9\uA9CF\uA9E6\uAA70\uAADD\uAAF3\uAAF4\uAB5C-\uAB5F\uFF70\uFF9E\uFF9F]|\uD81A[\uDF40-\uDF43]|\uD81B[\uDF93-\uDF9F\uDFE0]|[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05F0-\u05F2\u0620-\u063F\u0641-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E45\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10D0-\u10FA\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A\uA62B\uA66E\uA6A0-\uA6E5\uA78F\uA7F7\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9E0-\uA9E4\uA9E7-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC50-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/};const r2=i2,a2=Gt;class qe{constructor(){if(this.constructor===qe)throw new Error("PExpr cannot be instantiated -- it's abstract")}withSource(t){return t&&(this.source=t.trimmed()),this}}const o2=Object.create(qe.prototype),l2=Object.create(qe.prototype);class c2 extends qe{constructor(t){super(),this.obj=t}}class h2 extends qe{constructor(t,s){super(),this.from=t,this.to=s,this.matchCodePoint=t.length>1||s.length>1}}let f2=class extends qe{constructor(t){super(),this.index=t}};class ad extends qe{constructor(t){super(),this.terms=t}}class d2 extends ad{constructor(t,s,r){const o=t.rules[s].body;super([r,o]),this.superGrammar=t,this.name=s,this.body=r}}class p2 extends ad{constructor(t,s,r,o){const c=t.rules[s].body;super([...r,c,...o]),this.superGrammar=t,this.ruleName=s,this.expansionPos=r.length}}class m2 extends qe{constructor(t){super(),this.factors=t}}class Kl extends qe{constructor(t){super(),this.expr=t}}class $l extends Kl{}class Jl extends Kl{}class tc extends Kl{}$l.prototype.operator="*";Jl.prototype.operator="+";tc.prototype.operator="?";$l.prototype.minNumMatches=0;Jl.prototype.minNumMatches=1;tc.prototype.minNumMatches=0;$l.prototype.maxNumMatches=Number.POSITIVE_INFINITY;Jl.prototype.maxNumMatches=Number.POSITIVE_INFINITY;tc.prototype.maxNumMatches=1;class g2 extends qe{constructor(t){super(),this.expr=t}}class D2 extends qe{constructor(t){super(),this.expr=t}}class y2 extends qe{constructor(t){super(),this.expr=t}}class A2 extends qe{constructor(t,s=[]){super(),this.ruleName=t,this.args=s}isSyntactic(){return a2.isSyntactic(this.ruleName)}toMemoKey(){return this._memoKey||Object.defineProperty(this,"_memoKey",{value:this.toString()}),this._memoKey}}class v2 extends qe{constructor(t){super(),this.category=t,this.pattern=r2[t]}}St.PExpr=qe;St.any=o2;St.end=l2;St.Terminal=c2;St.Range=h2;St.Param=f2;St.Alt=ad;St.Extend=d2;St.Splice=p2;St.Seq=m2;St.Iter=Kl;St.Star=$l;St.Plus=Jl;St.Opt=tc;St.Not=g2;St.Lookahead=D2;St.Lex=y2;St.Apply=A2;St.UnicodeChar=v2;const _2=Gt,nn=St;nn.PExpr.prototype.allowsSkippingPrecedingSpace=_2.abstract("allowsSkippingPrecedingSpace");nn.any.allowsSkippingPrecedingSpace=nn.end.allowsSkippingPrecedingSpace=nn.Apply.prototype.allowsSkippingPrecedingSpace=nn.Terminal.prototype.allowsSkippingPrecedingSpace=nn.Range.prototype.allowsSkippingPrecedingSpace=nn.UnicodeChar.prototype.allowsSkippingPrecedingSpace=function(){return!0};nn.Alt.prototype.allowsSkippingPrecedingSpace=nn.Iter.prototype.allowsSkippingPrecedingSpace=nn.Lex.prototype.allowsSkippingPrecedingSpace=nn.Lookahead.prototype.allowsSkippingPrecedingSpace=nn.Not.prototype.allowsSkippingPrecedingSpace=nn.Param.prototype.allowsSkippingPrecedingSpace=nn.Seq.prototype.allowsSkippingPrecedingSpace=function(){return!1};function An(){}An.prototype=Object.create(null);An.asNamespace=function(u){return u instanceof An?u:An.createNamespace(u)};An.createNamespace=function(u){return An.extend(An.prototype,u)};An.extend=function(u,t){if(u!==An.prototype&&!(u instanceof An))throw new TypeError("not a Namespace object: "+u);const s=Object.create(u,{constructor:{value:An,enumerable:!1,writable:!0,configurable:!0}});return Object.assign(s,t)};An.toString=function(u){return Object.prototype.toString.call(u)};var Yg=An;const{assert:E2}=Gt,C2=Yg,b2=St;function ee(u,t){let s;return t?(s=new Error(t.getLineAndColumnMessage()+u),s.shortMessage=u,s.interval=t):s=new Error(u),s}function S2(){return ee("Interval sources don't match")}function T2(u){const t=new Error;return Object.defineProperty(t,"message",{enumerable:!0,get(){return u.message}}),Object.defineProperty(t,"shortMessage",{enumerable:!0,get(){return"Expected "+u.getExpectedText()}}),t.interval=u.getInterval(),t}function F2(u,t,s){const r=t?"Grammar "+u+" is not declared in namespace "+C2.toString(t):"Undeclared grammar "+u;return ee(r,s)}function x2(u,t){return ee("Grammar "+u.name+" is already declared in this namespace")}function w2(u,t,s){return ee("Rule "+u+" is not declared in grammar "+t,s)}function O2(u,t,s){return ee("Cannot override rule "+u+" because it is not declared in "+t,s)}function B2(u,t,s){return ee("Cannot extend rule "+u+" because it is not declared in "+t,s)}function N2(u,t,s,r){let o="Duplicate declaration for rule '"+u+"' in grammar '"+t+"'";return t!==s&&(o+=" (originally declared in '"+s+"')"),ee(o,r)}function R2(u,t,s,r){return ee("Wrong number of parameters for rule "+u+" (expected "+t+", got "+s+")",r)}function M2(u,t,s,r){return ee("Wrong number of arguments for rule "+u+" (expected "+t+", got "+s+")",r)}function I2(u,t,s){return ee("Duplicate parameter names in rule "+u+": "+t.join(", "),s)}function k2(u,t){return ee("Invalid parameter to rule "+u+": "+t+" has arity "+t.getArity()+", but parameter expressions must have arity 1",t.source)}const L2="NOTE: A _syntactic rule_ is a rule whose name begins with a capital letter. See https://ohmjs.org/d/svl for more details.";function q2(u,t){return ee("Cannot apply syntactic rule "+u+" from here (inside a lexical context)",t.source)}function V2(u){const{ruleName:t}=u;return ee(`applySyntactic is for syntactic rules, but '${t}' is a lexical rule. `+L2,u.source)}function U2(u){return ee("applySyntactic is not required here (in a syntactic context)",u.source)}function z2(u,t){return ee("Incorrect argument type: expected "+u,t.source)}function j2(u){return ee("'...' can appear at most once in a rule body",u.source)}function G2(u){const t=u._node;E2(t&&t.isNonterminal()&&t.ctorName==="escapeChar_unicodeCodePoint");const s=u.children.slice(1,-1).map(o=>o.source),r=s[0].coverageWith(...s.slice(1));return ee(`U+${r.contents} is not a valid Unicode code point`,r)}function P2(u,t){const s=t.length>0?t[t.length-1].args:[];let o="Nullable expression "+u.expr.substituteParams(s)+" is not allowed inside '"+u.operator+"' (possible infinite loop)";if(t.length>0){const c=t.map(f=>new b2.Apply(f.ruleName,f.args)).join(`
`);o+=`
Application stack (most recent application last):
`+c}return ee(o,u.expr.source)}function H2(u,t,s,r){return ee("Rule "+u+" involves an alternation which has inconsistent arity (expected "+t+", got "+s+")",r.source)}function Y2(u){return ee("Object pattern has duplicate property names: "+u.join(", "))}function X2(u,t,s){return ee("Attempt to invoke constructor "+t+" with invalid or unexpected arguments")}function Z2(u){const t=u.map(s=>s.message);return ee(["Errors:"].concat(t).join(`
- `),u[0].interval)}function Q2(u,t,s,r){let o=r.slice(0,-1).map(m=>{const p="  "+m[0].name+" > "+m[1];return m.length===3?p+" for '"+m[2]+"'":p}).join(`
`);o+=`
  `+t+" > "+u;let c="";u==="_iter"&&(c=[`
NOTE: as of Ohm v16, there is no default action for iteration nodes — see `,"  https://ohmjs.org/d/dsa for details."].join(`
`));const f=[`Missing semantic action for '${u}' in ${s} '${t}'.${c}`,"Action stack (most recent call last):",o].join(`
`),d=ee(f);return d.name="missingSemanticAction",d}var Ms={applicationOfSyntacticRuleFromLexicalContext:q2,applySyntacticWithLexicalRuleApplication:V2,cannotExtendUndeclaredRule:B2,cannotOverrideUndeclaredRule:O2,duplicateGrammarDeclaration:x2,duplicateParameterNames:I2,duplicatePropertyNames:Y2,duplicateRuleDeclaration:N2,inconsistentArity:H2,incorrectArgumentType:z2,intervalSourcesDontMatch:S2,invalidCodePoint:G2,invalidConstructorCall:X2,invalidParameter:k2,grammarSyntaxError:T2,kleeneExprHasNullableOperand:P2,missingSemanticAction:Q2,multipleSuperSplices:j2,undeclaredGrammar:F2,undeclaredRule:w2,unnecessaryExperimentalApplySyntactic:U2,wrongNumberOfArguments:M2,wrongNumberOfParameters:R2,throwErrors(u){if(u.length===1)throw u[0];if(u.length>1)throw Z2(u)}},Du={};(function(u){const t=Gt;function s(f){let d=0;return f.map(p=>{const g=p.toString();return d=Math.max(d,g.length),g}).map(p=>t.padLeft(p,d))}function r(f,d,m){const p=f.length,g=f.slice(0,m),D=f.slice(m+d.length);return(g+d+D).substr(0,p)}function o(...f){const d=this,{offset:m}=d,{repeatStr:p}=t,g=new t.StringBuffer;g.append("Line "+d.lineNum+", col "+d.colNum+`:
`);const D=s([d.prevLine==null?0:d.lineNum-1,d.lineNum,d.nextLine==null?0:d.lineNum+1]),A=(b,T,R)=>{g.append(R+D[b]+" | "+T+`
`)};d.prevLine!=null&&A(0,d.prevLine,"  "),A(1,d.line,"> ");const E=d.line.length;let _=p(" ",E+1);for(let b=0;b<f.length;++b){let T=f[b][0],R=f[b][1];t.assert(T>=0&&T<=R,"range start must be >= 0 and <= end");const z=m-d.colNum+1;T=Math.max(0,T-z),R=Math.min(R-z,E),_=r(_,p("~",R-T),T)}const C=2+D[1].length+3;return g.append(p(" ",C)),_=r(_,"^",d.colNum-1),g.append(_.replace(/ +$/,"")+`
`),d.nextLine!=null&&A(2,d.nextLine,"  "),g.contents()}let c=[];u.awaitBuiltInRules=f=>{c.push(f)},u.announceBuiltInRules=f=>{c.forEach(d=>{d(f)}),c=null},u.getLineAndColumn=(f,d)=>{let m=1,p=1,g=0,D=0,A=null,E=null,_=-1;for(;g<d;){const T=f.charAt(g++);T===`
`?(m++,p=1,_=D,D=g):T!=="\r"&&p++}let C=f.indexOf(`
`,D);if(C===-1)C=f.length;else{const T=f.indexOf(`
`,C+1);A=T===-1?f.slice(C):f.slice(C,T),A=A.replace(/^\r?\n/,"").replace(/\r$/,"")}_>=0&&(E=f.slice(_,D).replace(/\r?\n$/,""));const b=f.slice(D,C).replace(/\r$/,"");return{offset:d,lineNum:m,colNum:p,line:b,prevLine:E,nextLine:A,toString:o}},u.getLineAndColumnMessage=function(f,d,...m){return u.getLineAndColumn(f,d).toString(...m)},u.uniqueId=(()=>{let f=0;return d=>""+d+f++})()})(Du);const{abstract:W2,isSyntactic:If}=Gt,lu=Ms,xe=St,K2=Du;let pa;K2.awaitBuiltInRules(u=>{pa=u});let gl;xe.PExpr.prototype.assertAllApplicationsAreValid=function(u,t){gl=0,this._assertAllApplicationsAreValid(u,t)};xe.PExpr.prototype._assertAllApplicationsAreValid=W2("_assertAllApplicationsAreValid");xe.any._assertAllApplicationsAreValid=xe.end._assertAllApplicationsAreValid=xe.Terminal.prototype._assertAllApplicationsAreValid=xe.Range.prototype._assertAllApplicationsAreValid=xe.Param.prototype._assertAllApplicationsAreValid=xe.UnicodeChar.prototype._assertAllApplicationsAreValid=function(u,t){};xe.Lex.prototype._assertAllApplicationsAreValid=function(u,t){gl++,this.expr._assertAllApplicationsAreValid(u,t),gl--};xe.Alt.prototype._assertAllApplicationsAreValid=function(u,t){for(let s=0;s<this.terms.length;s++)this.terms[s]._assertAllApplicationsAreValid(u,t)};xe.Seq.prototype._assertAllApplicationsAreValid=function(u,t){for(let s=0;s<this.factors.length;s++)this.factors[s]._assertAllApplicationsAreValid(u,t)};xe.Iter.prototype._assertAllApplicationsAreValid=xe.Not.prototype._assertAllApplicationsAreValid=xe.Lookahead.prototype._assertAllApplicationsAreValid=function(u,t){this.expr._assertAllApplicationsAreValid(u,t)};xe.Apply.prototype._assertAllApplicationsAreValid=function(u,t,s=!1){const r=t.rules[this.ruleName],o=If(u)&&gl===0;if(!r)throw lu.undeclaredRule(this.ruleName,t.name,this.source);if(!s&&If(this.ruleName)&&!o)throw lu.applicationOfSyntacticRuleFromLexicalContext(this.ruleName,this);const c=this.args.length,f=r.formals.length;if(c!==f)throw lu.wrongNumberOfArguments(this.ruleName,f,c,this.source);const d=pa&&r===pa.rules.applySyntactic;if(pa&&r===pa.rules.caseInsensitive&&!(this.args[0]instanceof xe.Terminal))throw lu.incorrectArgumentType('a Terminal (e.g. "abc")',this.args[0]);if(d){const p=this.args[0];if(!(p instanceof xe.Apply))throw lu.incorrectArgumentType("a syntactic rule application",p);if(!If(p.ruleName))throw lu.applySyntacticWithLexicalRuleApplication(p);if(o)throw lu.unnecessaryExperimentalApplySyntactic(this)}this.args.forEach(p=>{if(p._assertAllApplicationsAreValid(u,t,d),p.getArity()!==1)throw lu.invalidParameter(this.ruleName,p)})};const $2=Gt,Xg=Ms,je=St;je.PExpr.prototype.assertChoicesHaveUniformArity=$2.abstract("assertChoicesHaveUniformArity");je.any.assertChoicesHaveUniformArity=je.end.assertChoicesHaveUniformArity=je.Terminal.prototype.assertChoicesHaveUniformArity=je.Range.prototype.assertChoicesHaveUniformArity=je.Param.prototype.assertChoicesHaveUniformArity=je.Lex.prototype.assertChoicesHaveUniformArity=je.UnicodeChar.prototype.assertChoicesHaveUniformArity=function(u){};je.Alt.prototype.assertChoicesHaveUniformArity=function(u){if(this.terms.length===0)return;const t=this.terms[0].getArity();for(let s=0;s<this.terms.length;s++){const r=this.terms[s];r.assertChoicesHaveUniformArity();const o=r.getArity();if(t!==o)throw Xg.inconsistentArity(u,t,o,r)}};je.Extend.prototype.assertChoicesHaveUniformArity=function(u){const t=this.terms[0].getArity(),s=this.terms[1].getArity();if(t!==s)throw Xg.inconsistentArity(u,s,t,this.terms[0])};je.Seq.prototype.assertChoicesHaveUniformArity=function(u){for(let t=0;t<this.factors.length;t++)this.factors[t].assertChoicesHaveUniformArity(u)};je.Iter.prototype.assertChoicesHaveUniformArity=function(u){this.expr.assertChoicesHaveUniformArity(u)};je.Not.prototype.assertChoicesHaveUniformArity=function(u){};je.Lookahead.prototype.assertChoicesHaveUniformArity=function(u){this.expr.assertChoicesHaveUniformArity(u)};je.Apply.prototype.assertChoicesHaveUniformArity=function(u){};const J2=Gt,tE=Ms,Ge=St;Ge.PExpr.prototype.assertIteratedExprsAreNotNullable=J2.abstract("assertIteratedExprsAreNotNullable");Ge.any.assertIteratedExprsAreNotNullable=Ge.end.assertIteratedExprsAreNotNullable=Ge.Terminal.prototype.assertIteratedExprsAreNotNullable=Ge.Range.prototype.assertIteratedExprsAreNotNullable=Ge.Param.prototype.assertIteratedExprsAreNotNullable=Ge.UnicodeChar.prototype.assertIteratedExprsAreNotNullable=function(u){};Ge.Alt.prototype.assertIteratedExprsAreNotNullable=function(u){for(let t=0;t<this.terms.length;t++)this.terms[t].assertIteratedExprsAreNotNullable(u)};Ge.Seq.prototype.assertIteratedExprsAreNotNullable=function(u){for(let t=0;t<this.factors.length;t++)this.factors[t].assertIteratedExprsAreNotNullable(u)};Ge.Iter.prototype.assertIteratedExprsAreNotNullable=function(u){if(this.expr.assertIteratedExprsAreNotNullable(u),this.expr.isNullable(u))throw tE.kleeneExprHasNullableOperand(this,[])};Ge.Opt.prototype.assertIteratedExprsAreNotNullable=Ge.Not.prototype.assertIteratedExprsAreNotNullable=Ge.Lookahead.prototype.assertIteratedExprsAreNotNullable=Ge.Lex.prototype.assertIteratedExprsAreNotNullable=function(u){this.expr.assertIteratedExprsAreNotNullable(u)};Ge.Apply.prototype.assertIteratedExprsAreNotNullable=function(u){this.args.forEach(t=>{t.assertIteratedExprsAreNotNullable(u)})};const{assert:eE}=Gt,zf=Ms,eg=Du;function ze(u,t,s){this.sourceString=u,this.startIdx=t,this.endIdx=s}ze.coverage=function(u,...t){let{startIdx:s,endIdx:r}=u;for(const o of t){if(o.sourceString!==u.sourceString)throw zf.intervalSourcesDontMatch();s=Math.min(s,o.startIdx),r=Math.max(r,o.endIdx)}return new ze(u.sourceString,s,r)};ze.prototype={coverageWith(...u){return ze.coverage(...u,this)},collapsedLeft(){return new ze(this.sourceString,this.startIdx,this.startIdx)},collapsedRight(){return new ze(this.sourceString,this.endIdx,this.endIdx)},getLineAndColumn(){return eg.getLineAndColumn(this.sourceString,this.startIdx)},getLineAndColumnMessage(){const u=[this.startIdx,this.endIdx];return eg.getLineAndColumnMessage(this.sourceString,this.startIdx,u)},minus(u){if(this.sourceString!==u.sourceString)throw zf.intervalSourcesDontMatch();return this.startIdx===u.startIdx&&this.endIdx===u.endIdx?[]:this.startIdx<u.startIdx&&u.endIdx<this.endIdx?[new ze(this.sourceString,this.startIdx,u.startIdx),new ze(this.sourceString,u.endIdx,this.endIdx)]:this.startIdx<u.endIdx&&u.endIdx<this.endIdx?[new ze(this.sourceString,u.endIdx,this.endIdx)]:this.startIdx<u.startIdx&&u.startIdx<this.endIdx?[new ze(this.sourceString,this.startIdx,u.startIdx)]:[this]},relativeTo(u){if(this.sourceString!==u.sourceString)throw zf.intervalSourcesDontMatch();return eE(this.startIdx>=u.startIdx&&this.endIdx<=u.endIdx,"other interval does not cover this one"),new ze(this.sourceString,this.startIdx-u.startIdx,this.endIdx-u.startIdx)},trimmed(){const{contents:u}=this,t=this.startIdx+u.match(/^\s*/)[0].length,s=this.endIdx-u.match(/\s*$/)[0].length;return new ze(this.sourceString,t,s)},subInterval(u,t){const s=this.startIdx+u;return new ze(this.sourceString,s,s+t)}};Object.defineProperties(ze.prototype,{contents:{get(){return this._contents===void 0&&(this._contents=this.sourceString.slice(this.startIdx,this.endIdx)),this._contents},enumerable:!0},length:{get(){return this.endIdx-this.startIdx},enumerable:!0}});var od=ze;const nE=od,ld=Gt,sE="✗",uE="✓",iE="⋅",rE="⇒",aE="␉",oE="␊",lE="␍",jf={succeeded:1,isRootNode:2,isImplicitSpaces:4,isMemoized:8,isHeadOfLeftRecursion:16,terminatesLR:32};function cE(u){return ld.repeat(" ",u).join("")}function hE(u,t,s){const r=Zg(u.slice(t,t+s));return r.length<s?r+ld.repeat(" ",s-r.length).join(""):r}function Zg(u){return typeof u=="string"?u.replace(/ /g,iE).replace(/\t/g,aE).replace(/\n/g,oE).replace(/\r/g,lE):String(u)}function In(u,t,s,r,o,c,f){this.input=u,this.pos=this.pos1=t,this.pos2=s,this.source=new nE(u,t,s),this.expr=r,this.bindings=c,this.children=f||[],this.terminatingLREntry=null,this._flags=o?jf.succeeded:0}In.prototype.SKIP={};Object.defineProperty(In.prototype,"displayString",{get(){return this.expr.toDisplayString()}});Object.keys(jf).forEach(u=>{const t=jf[u];Object.defineProperty(In.prototype,u,{get(){return(this._flags&t)!==0},set(s){s?this._flags|=t:this._flags&=~t}})});In.prototype.clone=function(){return this.cloneWithExpr(this.expr)};In.prototype.cloneWithExpr=function(u){const t=new In(this.input,this.pos,this.pos2,u,this.succeeded,this.bindings,this.children);return t.isHeadOfLeftRecursion=this.isHeadOfLeftRecursion,t.isImplicitSpaces=this.isImplicitSpaces,t.isMemoized=this.isMemoized,t.isRootNode=this.isRootNode,t.terminatesLR=this.terminatesLR,t.terminatingLREntry=this.terminatingLREntry,t};In.prototype.recordLRTermination=function(u,t){this.terminatingLREntry=new In(this.input,this.pos,this.pos2,this.expr,!1,[t],[u]),this.terminatingLREntry.terminatesLR=!0};In.prototype.walk=function(u,t){let s=u;typeof s=="function"&&(s={enter:s});function r(o,c,f){let d=!0;s.enter&&s.enter.call(t,o,c,f)===In.prototype.SKIP&&(d=!1),d&&(o.children.forEach(m=>{r(m,o,f+1)}),s.exit&&s.exit.call(t,o,c,f))}this.isRootNode?this.children.forEach(o=>{r(o,null,0)}):r(this,null,0)};In.prototype.toString=function(){const u=new ld.StringBuffer;return this.walk((t,s,r)=>{if(!t)return this.SKIP;if(t.expr.constructor.name!=="Alt"){if(u.append(hE(t.input,t.pos,10)+cE(r*2+1)),u.append((t.succeeded?uE:sE)+" "+t.displayString),t.isHeadOfLeftRecursion&&u.append(" (LR)"),t.succeeded){const c=Zg(t.source.contents);u.append(" "+rE+"  "),u.append(typeof c=="string"?'"'+c+'"':c)}u.append(`
`)}}),u.contents()};var Qg=In;const fE=Qg,Wg=Gt,dE=Ms,cd=rd,ge=St,{TerminalNode:Ma}=cd,{NonterminalNode:pE}=cd,{IterationNode:mE}=cd;ge.PExpr.prototype.eval=Wg.abstract("eval");ge.any.eval=function(u){const{inputStream:t}=u,s=t.pos,r=t.next();return r?(u.pushBinding(new Ma(r.length),s),!0):(u.processFailure(s,this),!1)};ge.end.eval=function(u){const{inputStream:t}=u,s=t.pos;return t.atEnd()?(u.pushBinding(new Ma(0),s),!0):(u.processFailure(s,this),!1)};ge.Terminal.prototype.eval=function(u){const{inputStream:t}=u,s=t.pos;return t.matchString(this.obj)?(u.pushBinding(new Ma(this.obj.length),s),!0):(u.processFailure(s,this),!1)};ge.Range.prototype.eval=function(u){const{inputStream:t}=u,s=t.pos,r=this.matchCodePoint?t.nextCodePoint():t.nextCharCode();return r!==void 0&&this.from.codePointAt(0)<=r&&r<=this.to.codePointAt(0)?(u.pushBinding(new Ma(String.fromCodePoint(r).length),s),!0):(u.processFailure(s,this),!1)};ge.Param.prototype.eval=function(u){return u.eval(u.currentApplication().args[this.index])};ge.Lex.prototype.eval=function(u){u.enterLexifiedContext();const t=u.eval(this.expr);return u.exitLexifiedContext(),t};ge.Alt.prototype.eval=function(u){for(let t=0;t<this.terms.length;t++)if(u.eval(this.terms[t]))return!0;return!1};ge.Seq.prototype.eval=function(u){for(let t=0;t<this.factors.length;t++){const s=this.factors[t];if(!u.eval(s))return!1}return!0};ge.Iter.prototype.eval=function(u){const{inputStream:t}=u,s=t.pos,r=this.getArity(),o=[],c=[];for(;o.length<r;)o.push([]),c.push([]);let f=0,d=s,m;for(;f<this.maxNumMatches&&u.eval(this.expr);){if(t.pos===d)throw dE.kleeneExprHasNullableOperand(this,u._applicationStack);d=t.pos,f++;const A=u._bindings.splice(u._bindings.length-r,r),E=u._bindingOffsets.splice(u._bindingOffsets.length-r,r);for(m=0;m<A.length;m++)o[m].push(A[m]),c[m].push(E[m])}if(f<this.minNumMatches)return!1;let p=u.posToOffset(s),g=0;if(f>0){const A=o[r-1],E=c[r-1],_=E[E.length-1]+A[A.length-1].matchLength;p=c[0][0],g=_-p}const D=this instanceof ge.Opt;for(m=0;m<o.length;m++)u._bindings.push(new mE(o[m],c[m],g,D)),u._bindingOffsets.push(p);return!0};ge.Not.prototype.eval=function(u){const{inputStream:t}=u,s=t.pos;u.pushFailuresInfo();const r=u.eval(this.expr);return u.popFailuresInfo(),r?(u.processFailure(s,this),!1):(t.pos=s,!0)};ge.Lookahead.prototype.eval=function(u){const{inputStream:t}=u,s=t.pos;return u.eval(this.expr)?(t.pos=s,!0):!1};ge.Apply.prototype.eval=function(u){const t=u.currentApplication(),s=t?t.args:[],r=this.substituteParams(s),o=u.getCurrentPosInfo();if(o.isActive(r))return r.handleCycle(u);const c=r.toMemoKey(),f=o.memo[c];if(f&&o.shouldUseMemoizedResult(f)){if(u.hasNecessaryInfo(f))return u.useMemoizedResult(u.inputStream.pos,f);delete o.memo[c]}return r.reallyEval(u)};ge.Apply.prototype.handleCycle=function(u){const t=u.getCurrentPosInfo(),{currentLeftRecursion:s}=t,r=this.toMemoKey();let o=t.memo[r];return s&&s.headApplication.toMemoKey()===r?o.updateInvolvedApplicationMemoKeys():o||(o=t.memoize(r,{matchLength:0,examinedLength:0,value:!1,rightmostFailureOffset:-1}),t.startLeftRecursion(this,o)),u.useMemoizedResult(u.inputStream.pos,o)};ge.Apply.prototype.reallyEval=function(u){const{inputStream:t}=u,s=t.pos,r=u.getCurrentPosInfo(),o=u.grammar.rules[this.ruleName],{body:c}=o,{description:f}=o;u.enterApplication(r,this),f&&u.pushFailuresInfo();const d=t.examinedLength;t.examinedLength=0;let m=this.evalOnce(c,u);const p=r.currentLeftRecursion,g=this.toMemoKey(),D=p&&p.headApplication.toMemoKey()===g;let A;D?(m=this.growSeedResult(c,u,s,p,m),r.endLeftRecursion(),A=p,A.examinedLength=t.examinedLength-s,A.rightmostFailureOffset=u._getRightmostFailureOffset(),r.memoize(g,A)):(!p||!p.isInvolved(g))&&(A=r.memoize(g,{matchLength:t.pos-s,examinedLength:t.examinedLength-s,value:m,failuresAtRightmostPosition:u.cloneRecordedFailures(),rightmostFailureOffset:u._getRightmostFailureOffset()}));const E=!!m;if(f&&(u.popFailuresInfo(),E||u.processFailure(s,this),A&&(A.failuresAtRightmostPosition=u.cloneRecordedFailures())),u.isTracing()&&A){const _=u.getTraceEntry(s,this,E,E?[m]:[]);D&&(Wg.assert(_.terminatingLREntry!=null||!E),_.isHeadOfLeftRecursion=!0),A.traceEntry=_}return t.examinedLength=Math.max(t.examinedLength,d),u.exitApplication(r,m),E};ge.Apply.prototype.evalOnce=function(u,t){const{inputStream:s}=t,r=s.pos;if(t.eval(u)){const o=u.getArity(),c=t._bindings.splice(t._bindings.length-o,o),f=t._bindingOffsets.splice(t._bindingOffsets.length-o,o),d=s.pos-r;return new pE(this.ruleName,c,f,d)}else return!1};ge.Apply.prototype.growSeedResult=function(u,t,s,r,o){if(!o)return!1;const{inputStream:c}=t;for(;;){if(r.matchLength=c.pos-s,r.value=o,r.failuresAtRightmostPosition=t.cloneRecordedFailures(),t.isTracing()){const f=t.trace[t.trace.length-1];r.traceEntry=new fE(t.input,s,c.pos,this,!0,[o],[f.clone()])}if(c.pos=s,o=this.evalOnce(u,t),c.pos-s<=r.matchLength)break;t.isTracing()&&t.trace.splice(-2,1)}return t.isTracing()&&r.traceEntry.recordLRTermination(t.trace.pop(),o),c.pos=s+r.matchLength,r.value};ge.UnicodeChar.prototype.eval=function(u){const{inputStream:t}=u,s=t.pos,r=t.next();return r&&this.pattern.test(r)?(u.pushBinding(new Ma(r.length),s),!0):(u.processFailure(s,this),!1)};const gE=Gt,sn=St;sn.PExpr.prototype.getArity=gE.abstract("getArity");sn.any.getArity=sn.end.getArity=sn.Terminal.prototype.getArity=sn.Range.prototype.getArity=sn.Param.prototype.getArity=sn.Apply.prototype.getArity=sn.UnicodeChar.prototype.getArity=function(){return 1};sn.Alt.prototype.getArity=function(){return this.terms.length===0?0:this.terms[0].getArity()};sn.Seq.prototype.getArity=function(){let u=0;for(let t=0;t<this.factors.length;t++)u+=this.factors[t].getArity();return u};sn.Iter.prototype.getArity=function(){return this.expr.getArity()};sn.Not.prototype.getArity=function(){return 0};sn.Lookahead.prototype.getArity=sn.Lex.prototype.getArity=function(){return this.expr.getArity()};const DE=Gt,Ee=St;function Zn(u,t){const s={};if(u.source&&t){const r=u.source.relativeTo(t);s.sourceInterval=[r.startIdx,r.endIdx]}return s}Ee.PExpr.prototype.outputRecipe=DE.abstract("outputRecipe");Ee.any.outputRecipe=function(u,t){return["any",Zn(this,t)]};Ee.end.outputRecipe=function(u,t){return["end",Zn(this,t)]};Ee.Terminal.prototype.outputRecipe=function(u,t){return["terminal",Zn(this,t),this.obj]};Ee.Range.prototype.outputRecipe=function(u,t){return["range",Zn(this,t),this.from,this.to]};Ee.Param.prototype.outputRecipe=function(u,t){return["param",Zn(this,t),this.index]};Ee.Alt.prototype.outputRecipe=function(u,t){return["alt",Zn(this,t)].concat(this.terms.map(s=>s.outputRecipe(u,t)))};Ee.Extend.prototype.outputRecipe=function(u,t){return this.terms[0].outputRecipe(u,t)};Ee.Splice.prototype.outputRecipe=function(u,t){const s=this.terms.slice(0,this.expansionPos),r=this.terms.slice(this.expansionPos+1);return["splice",Zn(this,t),s.map(o=>o.outputRecipe(u,t)),r.map(o=>o.outputRecipe(u,t))]};Ee.Seq.prototype.outputRecipe=function(u,t){return["seq",Zn(this,t)].concat(this.factors.map(s=>s.outputRecipe(u,t)))};Ee.Star.prototype.outputRecipe=Ee.Plus.prototype.outputRecipe=Ee.Opt.prototype.outputRecipe=Ee.Not.prototype.outputRecipe=Ee.Lookahead.prototype.outputRecipe=Ee.Lex.prototype.outputRecipe=function(u,t){return[this.constructor.name.toLowerCase(),Zn(this,t),this.expr.outputRecipe(u,t)]};Ee.Apply.prototype.outputRecipe=function(u,t){return["app",Zn(this,t),this.ruleName,this.args.map(s=>s.outputRecipe(u,t))]};Ee.UnicodeChar.prototype.outputRecipe=function(u,t){return["unicodeChar",Zn(this,t),this.category]};const yE=Gt,Pe=St;Pe.PExpr.prototype.introduceParams=yE.abstract("introduceParams");Pe.any.introduceParams=Pe.end.introduceParams=Pe.Terminal.prototype.introduceParams=Pe.Range.prototype.introduceParams=Pe.Param.prototype.introduceParams=Pe.UnicodeChar.prototype.introduceParams=function(u){return this};Pe.Alt.prototype.introduceParams=function(u){return this.terms.forEach((t,s,r)=>{r[s]=t.introduceParams(u)}),this};Pe.Seq.prototype.introduceParams=function(u){return this.factors.forEach((t,s,r)=>{r[s]=t.introduceParams(u)}),this};Pe.Iter.prototype.introduceParams=Pe.Not.prototype.introduceParams=Pe.Lookahead.prototype.introduceParams=Pe.Lex.prototype.introduceParams=function(u){return this.expr=this.expr.introduceParams(u),this};Pe.Apply.prototype.introduceParams=function(u){const t=u.indexOf(this.ruleName);if(t>=0){if(this.args.length>0)throw new Error("Parameterized rules cannot be passed as arguments to another rule.");return new Pe.Param(t).withSource(this.source)}else return this.args.forEach((s,r,o)=>{o[r]=s.introduceParams(u)}),this};const AE=Gt,we=St;we.PExpr.prototype.isNullable=function(u){return this._isNullable(u,Object.create(null))};we.PExpr.prototype._isNullable=AE.abstract("_isNullable");we.any._isNullable=we.Range.prototype._isNullable=we.Param.prototype._isNullable=we.Plus.prototype._isNullable=we.UnicodeChar.prototype._isNullable=function(u,t){return!1};we.end._isNullable=function(u,t){return!0};we.Terminal.prototype._isNullable=function(u,t){return typeof this.obj=="string"?this.obj==="":!1};we.Alt.prototype._isNullable=function(u,t){return this.terms.length===0||this.terms.some(s=>s._isNullable(u,t))};we.Seq.prototype._isNullable=function(u,t){return this.factors.every(s=>s._isNullable(u,t))};we.Star.prototype._isNullable=we.Opt.prototype._isNullable=we.Not.prototype._isNullable=we.Lookahead.prototype._isNullable=function(u,t){return!0};we.Lex.prototype._isNullable=function(u,t){return this.expr._isNullable(u,t)};we.Apply.prototype._isNullable=function(u,t){const s=this.toMemoKey();if(!Object.prototype.hasOwnProperty.call(t,s)){const{body:r}=u.rules[this.ruleName],o=r.substituteParams(this.args);t[s]=!1,t[s]=o._isNullable(u,t)}return t[s]};const vE=Gt,Oe=St;Oe.PExpr.prototype.substituteParams=vE.abstract("substituteParams");Oe.any.substituteParams=Oe.end.substituteParams=Oe.Terminal.prototype.substituteParams=Oe.Range.prototype.substituteParams=Oe.UnicodeChar.prototype.substituteParams=function(u){return this};Oe.Param.prototype.substituteParams=function(u){return u[this.index]};Oe.Alt.prototype.substituteParams=function(u){return new Oe.Alt(this.terms.map(t=>t.substituteParams(u)))};Oe.Seq.prototype.substituteParams=function(u){return new Oe.Seq(this.factors.map(t=>t.substituteParams(u)))};Oe.Iter.prototype.substituteParams=Oe.Not.prototype.substituteParams=Oe.Lookahead.prototype.substituteParams=Oe.Lex.prototype.substituteParams=function(u){return new this.constructor(this.expr.substituteParams(u))};Oe.Apply.prototype.substituteParams=function(u){if(this.args.length===0)return this;{const t=this.args.map(s=>s.substituteParams(u));return new Oe.Apply(this.ruleName,t)}};const Kg=Gt,Ze=St,{copyWithoutDuplicates:_E}=Kg;function ng(u){return/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(u)}function hd(u){const t=Object.create(null);u.forEach(s=>{t[s]=(t[s]||0)+1}),Object.keys(t).forEach(s=>{if(t[s]<=1)return;let r=1;u.forEach((o,c)=>{o===s&&(u[c]=o+"_"+r++)})})}Ze.PExpr.prototype.toArgumentNameList=Kg.abstract("toArgumentNameList");Ze.any.toArgumentNameList=function(u,t){return["any"]};Ze.end.toArgumentNameList=function(u,t){return["end"]};Ze.Terminal.prototype.toArgumentNameList=function(u,t){return typeof this.obj=="string"&&/^[_a-zA-Z0-9]+$/.test(this.obj)?["_"+this.obj]:["$"+u]};Ze.Range.prototype.toArgumentNameList=function(u,t){let s=this.from+"_to_"+this.to;return ng(s)||(s="_"+s),ng(s)||(s="$"+u),[s]};Ze.Alt.prototype.toArgumentNameList=function(u,t){const s=this.terms.map(c=>c.toArgumentNameList(u,!0)),r=[],o=s[0].length;for(let c=0;c<o;c++){const f=[];for(let m=0;m<this.terms.length;m++)f.push(s[m][c]);const d=_E(f);r.push(d.join("_or_"))}return t||hd(r),r};Ze.Seq.prototype.toArgumentNameList=function(u,t){let s=[];return this.factors.forEach(r=>{const o=r.toArgumentNameList(u,!0);s=s.concat(o),u+=o.length}),t||hd(s),s};Ze.Iter.prototype.toArgumentNameList=function(u,t){const s=this.expr.toArgumentNameList(u,t).map(r=>r[r.length-1]==="s"?r+"es":r+"s");return t||hd(s),s};Ze.Opt.prototype.toArgumentNameList=function(u,t){return this.expr.toArgumentNameList(u,t).map(s=>"opt"+s[0].toUpperCase()+s.slice(1))};Ze.Not.prototype.toArgumentNameList=function(u,t){return[]};Ze.Lookahead.prototype.toArgumentNameList=Ze.Lex.prototype.toArgumentNameList=function(u,t){return this.expr.toArgumentNameList(u,t)};Ze.Apply.prototype.toArgumentNameList=function(u,t){return[this.ruleName]};Ze.UnicodeChar.prototype.toArgumentNameList=function(u,t){return["$"+u]};Ze.Param.prototype.toArgumentNameList=function(u,t){return["param"+this.index]};const EE=Gt,en=St;en.PExpr.prototype.toDisplayString=EE.abstract("toDisplayString");en.Alt.prototype.toDisplayString=en.Seq.prototype.toDisplayString=function(){return this.source?this.source.trimmed().contents:"["+this.constructor.name+"]"};en.any.toDisplayString=en.end.toDisplayString=en.Iter.prototype.toDisplayString=en.Not.prototype.toDisplayString=en.Lookahead.prototype.toDisplayString=en.Lex.prototype.toDisplayString=en.Terminal.prototype.toDisplayString=en.Range.prototype.toDisplayString=en.Param.prototype.toDisplayString=function(){return this.toString()};en.Apply.prototype.toDisplayString=function(){if(this.args.length>0){const u=this.args.map(t=>t.toDisplayString());return this.ruleName+"<"+u.join(",")+">"}else return this.ruleName};en.UnicodeChar.prototype.toDisplayString=function(){return"Unicode ["+this.category+"] character"};const as=Hg,CE=Gt,_n=St;_n.PExpr.prototype.toFailure=CE.abstract("toFailure");_n.any.toFailure=function(u){return new as(this,"any object","description")};_n.end.toFailure=function(u){return new as(this,"end of input","description")};_n.Terminal.prototype.toFailure=function(u){return new as(this,this.obj,"string")};_n.Range.prototype.toFailure=function(u){return new as(this,JSON.stringify(this.from)+".."+JSON.stringify(this.to),"code")};_n.Not.prototype.toFailure=function(u){const t=this.expr===_n.any?"nothing":"not "+this.expr.toFailure(u);return new as(this,t,"description")};_n.Lookahead.prototype.toFailure=function(u){return this.expr.toFailure(u)};_n.Apply.prototype.toFailure=function(u){let{description:t}=u.rules[this.ruleName];return t||(t=(/^[aeiouAEIOU]/.test(this.ruleName)?"an":"a")+" "+this.ruleName),new as(this,t,"description")};_n.UnicodeChar.prototype.toFailure=function(u){return new as(this,"a Unicode ["+this.category+"] character","description")};_n.Alt.prototype.toFailure=function(u){const s="("+this.terms.map(r=>r.toFailure(u)).join(" or ")+")";return new as(this,s,"description")};_n.Seq.prototype.toFailure=function(u){const s="("+this.factors.map(r=>r.toFailure(u)).join(" ")+")";return new as(this,s,"description")};_n.Iter.prototype.toFailure=function(u){const t="("+this.expr.toFailure(u)+this.operator+")";return new as(this,t,"description")};const bE=Gt,on=St;on.PExpr.prototype.toString=bE.abstract("toString");on.any.toString=function(){return"any"};on.end.toString=function(){return"end"};on.Terminal.prototype.toString=function(){return JSON.stringify(this.obj)};on.Range.prototype.toString=function(){return JSON.stringify(this.from)+".."+JSON.stringify(this.to)};on.Param.prototype.toString=function(){return"$"+this.index};on.Lex.prototype.toString=function(){return"#("+this.expr.toString()+")"};on.Alt.prototype.toString=function(){return this.terms.length===1?this.terms[0].toString():"("+this.terms.map(u=>u.toString()).join(" | ")+")"};on.Seq.prototype.toString=function(){return this.factors.length===1?this.factors[0].toString():"("+this.factors.map(u=>u.toString()).join(" ")+")"};on.Iter.prototype.toString=function(){return this.expr+this.operator};on.Not.prototype.toString=function(){return"~"+this.expr};on.Lookahead.prototype.toString=function(){return"&"+this.expr};on.Apply.prototype.toString=function(){if(this.args.length>0){const u=this.args.map(t=>t.toString());return this.ruleName+"<"+u.join(",")+">"}else return this.ruleName};on.UnicodeChar.prototype.toString=function(){return"\\p{"+this.category+"}"};var si=St;const SE=Hg,{TerminalNode:TE}=rd,{assert:FE}=Gt,{PExpr:xE,Terminal:wE}=si;class fd extends xE{constructor(t){super(),this.obj=t}_getString(t){const s=t.currentApplication().args[this.obj.index];return FE(s instanceof wE,"expected a Terminal expression"),s.obj}allowsSkippingPrecedingSpace(){return!0}eval(t){const{inputStream:s}=t,r=s.pos,o=this._getString(t);return s.matchString(o,!0)?(t.pushBinding(new TE(o.length),r),!0):(t.processFailure(r,this),!1)}getArity(){return 1}substituteParams(t){return new fd(this.obj.substituteParams(t))}toDisplayString(){return this.obj.toDisplayString()+" (case-insensitive)"}toFailure(t){return new SE(this,this.obj.toFailure(t)+" (case-insensitive)","description")}_isNullable(t,s){return this.obj._isNullable(t,s)}}var OE=fd;const BE=od;function $g(u){this.source=u,this.pos=0,this.examinedLength=0}$g.prototype={atEnd(){const u=this.pos===this.source.length;return this.examinedLength=Math.max(this.examinedLength,this.pos+1),u},next(){const u=this.source[this.pos++];return this.examinedLength=Math.max(this.examinedLength,this.pos),u},nextCharCode(){const u=this.next();return u&&u.charCodeAt(0)},nextCodePoint(){const u=this.source.slice(this.pos++).codePointAt(0);return u>65535&&(this.pos+=1),this.examinedLength=Math.max(this.examinedLength,this.pos),u},matchString(u,t){let s;if(t){for(s=0;s<u.length;s++){const r=this.next(),o=u[s];if(r==null||r.toUpperCase()!==o.toUpperCase())return!1}return!0}for(s=0;s<u.length;s++)if(this.next()!==u[s])return!1;return!0},sourceSlice(u,t){return this.source.slice(u,t)},interval(u,t){return new BE(this.source,u,t||this.pos)}};var dd=$g;const Gf=Gt,sg=Du,NE=od;function yu(u,t,s,r,o,c,f){this.matcher=u,this.input=t,this.startExpr=s,this._cst=r,this._cstOffset=o,this._rightmostFailurePosition=c,this._rightmostFailures=f,this.failed()&&(Gf.defineLazyProperty(this,"message",function(){const d="Expected "+this.getExpectedText();return sg.getLineAndColumnMessage(this.input,this.getRightmostFailurePosition())+d}),Gf.defineLazyProperty(this,"shortMessage",function(){const d="expected "+this.getExpectedText(),m=sg.getLineAndColumn(this.input,this.getRightmostFailurePosition());return"Line "+m.lineNum+", col "+m.colNum+": "+d}))}yu.prototype.succeeded=function(){return!!this._cst};yu.prototype.failed=function(){return!this.succeeded()};yu.prototype.getRightmostFailurePosition=function(){return this._rightmostFailurePosition};yu.prototype.getRightmostFailures=function(){if(!this._rightmostFailures){this.matcher.setInput(this.input);const u=this.matcher._match(this.startExpr,!1,this.getRightmostFailurePosition());this._rightmostFailures=u.getRightmostFailures()}return this._rightmostFailures};yu.prototype.toString=function(){return this.succeeded()?"[match succeeded]":"[match failed at position "+this.getRightmostFailurePosition()+"]"};yu.prototype.getExpectedText=function(){if(this.succeeded())throw new Error("cannot get expected text of a successful MatchResult");const u=new Gf.StringBuffer;let t=this.getRightmostFailures();t=t.filter(s=>!s.isFluffy());for(let s=0;s<t.length;s++)s>0&&(s===t.length-1?u.append(t.length>2?", or ":" or "):u.append(", ")),u.append(t[s].toString());return u.contents()};yu.prototype.getInterval=function(){const u=this.getRightmostFailurePosition();return new NE(this.input,u,u)};var Jg=yu;function tD(){this.applicationMemoKeyStack=[],this.memo={},this.maxExaminedLength=0,this.maxRightmostFailureOffset=-1,this.currentLeftRecursion=void 0}tD.prototype={isActive(u){return this.applicationMemoKeyStack.indexOf(u.toMemoKey())>=0},enter(u){this.applicationMemoKeyStack.push(u.toMemoKey())},exit(){this.applicationMemoKeyStack.pop()},startLeftRecursion(u,t){t.isLeftRecursion=!0,t.headApplication=u,t.nextLeftRecursion=this.currentLeftRecursion,this.currentLeftRecursion=t;const{applicationMemoKeyStack:s}=this,r=s.indexOf(u.toMemoKey())+1,o=s.slice(r);t.isInvolved=function(c){return o.indexOf(c)>=0},t.updateInvolvedApplicationMemoKeys=function(){for(let c=r;c<s.length;c++){const f=s[c];this.isInvolved(f)||o.push(f)}}},endLeftRecursion(){this.currentLeftRecursion=this.currentLeftRecursion.nextLeftRecursion},shouldUseMemoizedResult(u){if(!u.isLeftRecursion)return!0;const{applicationMemoKeyStack:t}=this;for(let s=0;s<t.length;s++){const r=t[s];if(u.isInvolved(r))return!1}return!0},memoize(u,t){return this.memo[u]=t,this.maxExaminedLength=Math.max(this.maxExaminedLength,t.examinedLength),this.maxRightmostFailureOffset=Math.max(this.maxRightmostFailureOffset,t.rightmostFailureOffset),t},clearObsoleteEntries(u,t){if(u+this.maxExaminedLength<=t)return;const{memo:s}=this;this.maxExaminedLength=0,this.maxRightmostFailureOffset=-1,Object.keys(s).forEach(r=>{const o=s[r];u+o.examinedLength>t?delete s[r]:(this.maxExaminedLength=Math.max(this.maxExaminedLength,o.examinedLength),this.maxRightmostFailureOffset=Math.max(this.maxRightmostFailureOffset,o.rightmostFailureOffset))})}};var RE=tD;const ME=dd,IE=Jg,kE=RE,LE=Qg,Pf=si,qE=Du;let eD;qE.awaitBuiltInRules(u=>{eD=u.rules.applySyntactic.body});const kf=new Pf.Apply("spaces");function nD(u,t,s){this.matcher=u,this.startExpr=t,this.grammar=u.grammar,this.input=u.input,this.inputStream=new ME(u.input),this.memoTable=u.memoTable,this._bindings=[],this._bindingOffsets=[],this._applicationStack=[],this._posStack=[0],this.inLexifiedContextStack=[!1],this.rightmostFailurePosition=-1,this._rightmostFailurePositionStack=[],this._recordedFailuresStack=[],s!==void 0&&(this.positionToRecordFailures=s,this.recordedFailures=Object.create(null))}nD.prototype={posToOffset(u){return u-this._posStack[this._posStack.length-1]},enterApplication(u,t){this._posStack.push(this.inputStream.pos),this._applicationStack.push(t),this.inLexifiedContextStack.push(!1),u.enter(t),this._rightmostFailurePositionStack.push(this.rightmostFailurePosition),this.rightmostFailurePosition=-1},exitApplication(u,t){const s=this._posStack.pop();this._applicationStack.pop(),this.inLexifiedContextStack.pop(),u.exit(),this.rightmostFailurePosition=Math.max(this.rightmostFailurePosition,this._rightmostFailurePositionStack.pop()),t&&this.pushBinding(t,s)},enterLexifiedContext(){this.inLexifiedContextStack.push(!0)},exitLexifiedContext(){this.inLexifiedContextStack.pop()},currentApplication(){return this._applicationStack[this._applicationStack.length-1]},inSyntacticContext(){const u=this.currentApplication();return u?u.isSyntactic()&&!this.inLexifiedContext():this.startExpr.factors[0].isSyntactic()},inLexifiedContext(){return this.inLexifiedContextStack[this.inLexifiedContextStack.length-1]},skipSpaces(){return this.pushFailuresInfo(),this.eval(kf),this.popBinding(),this.popFailuresInfo(),this.inputStream.pos},skipSpacesIfInSyntacticContext(){return this.inSyntacticContext()?this.skipSpaces():this.inputStream.pos},maybeSkipSpacesBefore(u){return u.allowsSkippingPrecedingSpace()&&u!==kf?this.skipSpacesIfInSyntacticContext():this.inputStream.pos},pushBinding(u,t){this._bindings.push(u),this._bindingOffsets.push(this.posToOffset(t))},popBinding(){this._bindings.pop(),this._bindingOffsets.pop()},numBindings(){return this._bindings.length},truncateBindings(u){for(;this._bindings.length>u;)this.popBinding()},getCurrentPosInfo(){return this.getPosInfo(this.inputStream.pos)},getPosInfo(u){let t=this.memoTable[u];return t||(t=this.memoTable[u]=new kE),t},processFailure(u,t){if(this.rightmostFailurePosition=Math.max(this.rightmostFailurePosition,u),this.recordedFailures&&u===this.positionToRecordFailures){const s=this.currentApplication();s&&(t=t.substituteParams(s.args)),this.recordFailure(t.toFailure(this.grammar),!1)}},recordFailure(u,t){const s=u.toKey();this.recordedFailures[s]?this.recordedFailures[s].isFluffy()&&!u.isFluffy()&&this.recordedFailures[s].clearFluffy():this.recordedFailures[s]=t?u.clone():u},recordFailures(u,t){Object.keys(u).forEach(s=>{this.recordFailure(u[s],t)})},cloneRecordedFailures(){if(!this.recordedFailures)return;const u=Object.create(null);return Object.keys(this.recordedFailures).forEach(t=>{u[t]=this.recordedFailures[t].clone()}),u},getRightmostFailurePosition(){return this.rightmostFailurePosition},_getRightmostFailureOffset(){return this.rightmostFailurePosition>=0?this.posToOffset(this.rightmostFailurePosition):-1},getMemoizedTraceEntry(u,t){const s=this.memoTable[u];if(s&&t instanceof Pf.Apply){const r=s.memo[t.toMemoKey()];if(r&&r.traceEntry){const o=r.traceEntry.cloneWithExpr(t);return o.isMemoized=!0,o}}return null},getTraceEntry(u,t,s,r){if(t instanceof Pf.Apply){const o=this.currentApplication(),c=o?o.args:[];t=t.substituteParams(c)}return this.getMemoizedTraceEntry(u,t)||new LE(this.input,u,this.inputStream.pos,t,s,r,this.trace)},isTracing(){return!!this.trace},hasNecessaryInfo(u){return this.trace&&!u.traceEntry?!1:this.recordedFailures&&this.inputStream.pos+u.rightmostFailureOffset===this.positionToRecordFailures?!!u.failuresAtRightmostPosition:!0},useMemoizedResult(u,t){this.trace&&this.trace.push(t.traceEntry);const s=this.inputStream.pos+t.rightmostFailureOffset;return this.rightmostFailurePosition=Math.max(this.rightmostFailurePosition,s),this.recordedFailures&&this.positionToRecordFailures===s&&t.failuresAtRightmostPosition&&this.recordFailures(t.failuresAtRightmostPosition,!0),this.inputStream.examinedLength=Math.max(this.inputStream.examinedLength,t.examinedLength+u),t.value?(this.inputStream.pos+=t.matchLength,this.pushBinding(t.value,u),!0):!1},eval(u){const{inputStream:t}=this,s=this._bindings.length;let r;this.recordedFailures&&(r=this.recordedFailures,this.recordedFailures=Object.create(null));const o=t.pos,c=this.maybeSkipSpacesBefore(u);let f;this.trace&&(f=this.trace,this.trace=[]);const d=u.eval(this);if(this.trace){const m=this._bindings.slice(s),p=this.getTraceEntry(c,u,d,m);p.isImplicitSpaces=u===kf,p.isRootNode=u===this.startExpr,f.push(p),this.trace=f}return d?this.recordedFailures&&t.pos===this.positionToRecordFailures&&Object.keys(this.recordedFailures).forEach(m=>{this.recordedFailures[m].makeFluffy()}):(t.pos=o,this.truncateBindings(s)),this.recordedFailures&&this.recordFailures(r,!1),u===eD&&this.skipSpaces(),d},getMatchResult(){this.eval(this.startExpr);let u;this.recordedFailures&&(u=Object.keys(this.recordedFailures).map(s=>this.recordedFailures[s]));const t=this._bindings[0];return t&&(t.grammar=this.grammar),new IE(this.matcher,this.input,this.startExpr,t,this._bindingOffsets[0],this.rightmostFailurePosition,u)},getTrace(){this.trace=[];const u=this.getMatchResult(),t=this.trace[this.trace.length-1];return t.result=u,t},pushFailuresInfo(){this._rightmostFailurePositionStack.push(this.rightmostFailurePosition),this._recordedFailuresStack.push(this.recordedFailures)},popFailuresInfo(){this.rightmostFailurePosition=this._rightmostFailurePositionStack.pop(),this.recordedFailures=this._recordedFailuresStack.pop()}};var VE=nD;const UE=VE,ug=si;function Au(u){this.grammar=u,this.memoTable=[],this.input=""}Au.prototype.getInput=function(){return this.input};Au.prototype.setInput=function(u){return this.input!==u&&this.replaceInputRange(0,this.input.length,u),this};Au.prototype.replaceInputRange=function(u,t,s){const r=this.input;if(u<0||u>r.length||t<0||t>r.length||u>t)throw new Error("Invalid indices: "+u+" and "+t);this.input=r.slice(0,u)+s+r.slice(t);const o=this.memoTable.slice(t);this.memoTable.length=u;for(let c=0;c<s.length;c++)this.memoTable.push(void 0);o.forEach(function(c){this.memoTable.push(c)},this);for(let c=0;c<u;c++){const f=this.memoTable[c];f&&f.clearObsoleteEntries(c,u)}return this};Au.prototype.match=function(u){return this._match(this._getStartExpr(u),!1)};Au.prototype.trace=function(u){return this._match(this._getStartExpr(u),!0)};Au.prototype._match=function(u,t,s){const r=new UE(this,u,s);return t?r.getTrace():r.getMatchResult()};Au.prototype._getStartExpr=function(u){const t=u||this.grammar.defaultStartRule;if(!t)throw new Error("Missing start rule argument -- the grammar has no default start rule.");const s=this.grammar.parseApplication(t);return new ug.Seq([s,ug.end])};var zE=Au;const jE=dd,{IterationNode:GE}=rd,PE=Jg,pd=Gt,HE=Ms,sD=Du,ma=[],md=(u,t)=>Object.prototype.hasOwnProperty.call(u,t);class uD{constructor(t,s,r){this._node=t,this.source=s,this._baseInterval=r,t.isNonterminal()&&pd.assert(s===r),this._childWrappers=[]}toString(){return"[semantics wrapper for "+this._node.grammar.name+"]"}_forgetMemoizedResultFor(t){delete this._node[this._semantics.attributeKeys[t]],this.children.forEach(s=>{s._forgetMemoizedResultFor(t)})}child(t){if(!(0<=t&&t<this._node.numChildren()))return;let s=this._childWrappers[t];if(!s){const r=this._node.childAt(t),o=this._node.childOffsets[t],c=this._baseInterval.subInterval(o,r.matchLength),f=r.isNonterminal()?c:this._baseInterval;s=this._childWrappers[t]=this._semantics.wrap(r,c,f)}return s}_children(){for(let t=0;t<this._node.numChildren();t++)this.child(t);return this._childWrappers}isIteration(){return this._node.isIteration()}isTerminal(){return this._node.isTerminal()}isNonterminal(){return this._node.isNonterminal()}isSyntactic(){return this.isNonterminal()&&this._node.isSyntactic()}isLexical(){return this.isNonterminal()&&this._node.isLexical()}isOptional(){return this._node.isOptional()}iteration(t){const s=t||[],r=s.map(f=>f._node),o=new GE(r,[],-1,!1),c=this._semantics.wrap(o,null,null);return c._childWrappers=s,c}get children(){return this._children()}get ctorName(){return this._node.ctorName}get interval(){throw new Error("The `interval` property is deprecated -- use `source` instead")}get numChildren(){return this._node.numChildren()}get sourceString(){return this.source.contents}}function Le(u,t){const s=this;if(this.grammar=u,this.checkedActionDicts=!1,this.Wrapper=class extends(t?t.Wrapper:uD){constructor(r,o,c){super(r,o,c),s.checkActionDictsIfHaventAlready(),this._semantics=s}},this.super=t,t){if(!(u.equals(this.super.grammar)||u._inheritsFrom(this.super.grammar)))throw new Error("Cannot extend a semantics for grammar '"+this.super.grammar.name+"' for use with grammar '"+u.name+"' (not a sub-grammar)");this.operations=Object.create(this.super.operations),this.attributes=Object.create(this.super.attributes),this.attributeKeys=Object.create(null);for(const r in this.attributes)Object.defineProperty(this.attributeKeys,r,{value:sD.uniqueId(r)})}else this.operations=Object.create(null),this.attributes=Object.create(null),this.attributeKeys=Object.create(null)}Le.prototype.toString=function(){return"[semantics for "+this.grammar.name+"]"};Le.prototype.checkActionDictsIfHaventAlready=function(){this.checkedActionDicts||(this.checkActionDicts(),this.checkedActionDicts=!0)};Le.prototype.checkActionDicts=function(){let u;for(u in this.operations)this.operations[u].checkActionDict(this.grammar);for(u in this.attributes)this.attributes[u].checkActionDict(this.grammar)};Le.prototype.toRecipe=function(u){function t(r){return r.super!==Le.BuiltInSemantics._getSemantics()}let s=`(function(g) {
`;if(t(this)){s+="  var semantics = "+this.super.toRecipe(!0)+"(g";const r=this.super.grammar;let o=this.grammar;for(;o!==r;)s+=".superGrammar",o=o.superGrammar;s+=`);
`,s+="  return g.extendSemantics(semantics)"}else s+="  return g.createSemantics()";return["Operation","Attribute"].forEach(r=>{const o=this[r.toLowerCase()+"s"];Object.keys(o).forEach(c=>{const{actionDict:f,formals:d,builtInDefault:m}=o[c];let p=c;d.length>0&&(p+="("+d.join(", ")+")");let g;t(this)&&this.super[r.toLowerCase()+"s"][c]?g="extend"+r:g="add"+r,s+=`
    .`+g+"("+JSON.stringify(p)+", {";const D=[];Object.keys(f).forEach(A=>{if(f[A]!==m){let E=f[A].toString().trim();E=E.replace(/^.*\(/,"function("),D.push(`
      `+JSON.stringify(A)+": "+E)}}),s+=D.join(",")+`
    })`})}),s+=`;
  })`,u||(s=`(function() {
  var grammar = this.fromRecipe(`+this.grammar.toRecipe()+`);
  var semantics = `+s+`(grammar);
  return semantics;
});
`),s};function iD(u,t){if(!Le.prototypeGrammar)return pd.assert(u.indexOf("(")===-1),{name:u,formals:[]};const s=Le.prototypeGrammar.match(u,t==="operation"?"OperationSignature":"AttributeSignature");if(s.failed())throw new Error(s.message);return Le.prototypeGrammarSemantics(s).parse()}function YE(u,t,s){return function(...r){const c=(this._semantics.operations[t]||this._semantics.attributes[t]).formals.map(f=>this.args[f]);if(!this.isIteration()&&r.length===1)return s.apply(r[0],c);throw HE.missingSemanticAction(this.ctorName,t,u,ma)}}Le.prototype.addOperationOrAttribute=function(u,t,s){const r=u+"s",o=iD(t,u),{name:c}=o,{formals:f}=o;this.assertNewName(c,u);const d=YE(u,c,g),m={_default:d};Object.keys(s).forEach(D=>{m[D]=s[D]});const p=u==="operation"?new va(c,f,m,d):new gd(c,m,d);p.checkActionDict(this.grammar),this[r][c]=p;function g(...D){const A=this._semantics[r][c];if(arguments.length!==A.formals.length)throw new Error("Invalid number of arguments passed to "+c+" "+u+" (expected "+A.formals.length+", got "+arguments.length+")");const E=Object.create(null);for(const[b,T]of Object.entries(D)){const R=A.formals[b];E[R]=T}const _=this.args;this.args=E;const C=A.execute(this._semantics,this);return this.args=_,C}u==="operation"?(this.Wrapper.prototype[c]=g,this.Wrapper.prototype[c].toString=function(){return"["+c+" operation]"}):(Object.defineProperty(this.Wrapper.prototype,c,{get:g,configurable:!0}),Object.defineProperty(this.attributeKeys,c,{value:sD.uniqueId(c)}))};Le.prototype.extendOperationOrAttribute=function(u,t,s){const r=u+"s";if(iD(t,"attribute"),!(this.super&&t in this.super[r]))throw new Error("Cannot extend "+u+" '"+t+"': did not inherit an "+u+" with that name");if(md(this[r],t))throw new Error("Cannot extend "+u+" '"+t+"' again");const o=this[r][t].formals,c=this[r][t].actionDict,f=Object.create(c);Object.keys(s).forEach(d=>{f[d]=s[d]}),this[r][t]=u==="operation"?new va(t,o,f):new gd(t,f),this[r][t].checkActionDict(this.grammar)};Le.prototype.assertNewName=function(u,t){if(md(uD.prototype,u))throw new Error("Cannot add "+t+" '"+u+"': that's a reserved name");if(u in this.operations)throw new Error("Cannot add "+t+" '"+u+"': an operation with that name already exists");if(u in this.attributes)throw new Error("Cannot add "+t+" '"+u+"': an attribute with that name already exists")};Le.prototype.wrap=function(u,t,s){const r=s||t;return u instanceof this.Wrapper?u:new this.Wrapper(u,t,r)};Le.createSemantics=function(u,t){const s=new Le(u,t!==void 0?t:Le.BuiltInSemantics._getSemantics()),r=function(c){if(!(c instanceof PE))throw new TypeError("Semantics expected a MatchResult, but got "+pd.unexpectedObjToString(c));if(c.failed())throw new TypeError("cannot apply Semantics to "+c.toString());const f=c._cst;if(f.grammar!==u)throw new Error("Cannot use a MatchResult from grammar '"+f.grammar.name+"' with a semantics for '"+u.name+"'");const d=new jE(c.input);return s.wrap(f,d.interval(c._cstOffset,c.input.length))};return r.addOperation=function(o,c){return s.addOperationOrAttribute("operation",o,c),r},r.extendOperation=function(o,c){return s.extendOperationOrAttribute("operation",o,c),r},r.addAttribute=function(o,c){return s.addOperationOrAttribute("attribute",o,c),r},r.extendAttribute=function(o,c){return s.extendOperationOrAttribute("attribute",o,c),r},r._getActionDict=function(o){const c=s.operations[o]||s.attributes[o];if(!c)throw new Error('"'+o+'" is not a valid operation or attribute name in this semantics for "'+u.name+'"');return c.actionDict},r._remove=function(o){let c;return o in s.operations?(c=s.operations[o],delete s.operations[o]):o in s.attributes&&(c=s.attributes[o],delete s.attributes[o]),delete s.Wrapper.prototype[o],c},r.getOperationNames=function(){return Object.keys(s.operations)},r.getAttributeNames=function(){return Object.keys(s.attributes)},r.getGrammar=function(){return s.grammar},r.toRecipe=function(o){return s.toRecipe(o)},r.toString=s.toString.bind(s),r._getSemantics=function(){return s},r};class va{constructor(t,s,r,o){this.name=t,this.formals=s,this.actionDict=r,this.builtInDefault=o}checkActionDict(t){t._checkTopDownActionDict(this.typeName,this.name,this.actionDict)}execute(t,s){try{const{ctorName:r}=s._node;let o=this.actionDict[r];return o?(ma.push([this,r]),o.apply(s,s._children())):s.isNonterminal()&&(o=this.actionDict._nonterminal,o)?(ma.push([this,"_nonterminal",r]),o.apply(s,s._children())):(ma.push([this,"default action",r]),this.actionDict._default.apply(s,s._children()))}finally{ma.pop()}}}va.prototype.typeName="operation";class gd extends va{constructor(t,s,r){super(t,[],s,r)}execute(t,s){const r=s._node,o=t.attributeKeys[this.name];return md(r,o)||(r[o]=va.prototype.execute.call(this,t,s)),r[o]}}gd.prototype.typeName="attribute";var rD=Le;const XE=OE,ZE=zE,ig=rD,rg=Gt,ag=Ms,zn=si,og=["_iter","_terminal","_nonterminal","_default"];function lg(u){return Object.keys(u.rules).sort().map(t=>u.rules[t])}const QE=u=>u.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029");function Pu(u,t,s,r){if(this.name=u,this.superGrammar=t,this.rules=s,r){if(!(r in s))throw new Error("Invalid start rule: '"+r+"' is not a rule in grammar '"+u+"'");this.defaultStartRule=r}}let aD,oD;Pu.initApplicationParser=function(u,t){aD=u,oD=t};Pu.prototype={matcher(){return new ZE(this)},isBuiltIn(){return this===Pu.ProtoBuiltInRules||this===Pu.BuiltInRules},equals(u){if(this===u)return!0;if(u==null||this.name!==u.name||this.defaultStartRule!==u.defaultStartRule||!(this.superGrammar===u.superGrammar||this.superGrammar.equals(u.superGrammar)))return!1;const t=lg(this),s=lg(u);return t.length===s.length&&t.every((r,o)=>r.description===s[o].description&&r.formals.join(",")===s[o].formals.join(",")&&r.body.toString()===s[o].body.toString())},match(u,t){const s=this.matcher();return s.replaceInputRange(0,0,u),s.match(t)},trace(u,t){const s=this.matcher();return s.replaceInputRange(0,0,u),s.trace(t)},createSemantics(){return ig.createSemantics(this)},extendSemantics(u){return ig.createSemantics(this,u._getSemantics())},_checkTopDownActionDict(u,t,s){const r=[];for(const o in s){const c=s[o];if(!og.includes(o)&&!(o in this.rules)){r.push(`'${o}' is not a valid semantic action for '${this.name}'`);continue}if(typeof c!="function"){r.push(`'${o}' must be a function in an action dictionary for '${this.name}'`);continue}const d=c.length,m=this._topDownActionArity(o);if(d!==m){let p;o==="_iter"||o==="_nonterminal"?p=`it should use a rest parameter, e.g. \`${o}(...children) {}\`. NOTE: this is new in Ohm v16 — see https://ohmjs.org/d/ati for details.`:p=`expected ${m}, got ${d}`,r.push(`Semantic action '${o}' has the wrong arity: ${p}`)}}if(r.length>0){const o=r.map(f=>"- "+f),c=new Error([`Found errors in the action dictionary of the '${t}' ${u}:`,...o].join(`
`));throw c.problems=r,c}},_topDownActionArity(u){return og.includes(u)?0:this.rules[u].body.getArity()},_inheritsFrom(u){let t=this.superGrammar;for(;t;){if(t.equals(u,!0))return!0;t=t.superGrammar}return!1},toRecipe(u=void 0){const t={};this.source&&(t.source=this.source.contents);let s=null;this.defaultStartRule&&(s=this.defaultStartRule);const r={};Object.keys(this.rules).forEach(f=>{const d=this.rules[f],{body:m}=d,p=!this.superGrammar||!this.superGrammar.rules[f];let g;p?g="define":g=m instanceof zn.Extend?"extend":"override";const D={};if(d.source&&this.source){const _=d.source.relativeTo(this.source);D.sourceInterval=[_.startIdx,_.endIdx]}const A=p?d.description:null,E=m.outputRecipe(d.formals,this.source);r[f]=[g,D,A,d.formals,E]});let o="null";u?o=u:this.superGrammar&&!this.superGrammar.isBuiltIn()&&(o=this.superGrammar.toRecipe());const c=[...["grammar",t,this.name].map(JSON.stringify),o,...[s,r].map(JSON.stringify)];return QE(`[${c.join(",")}]`)},toOperationActionDictionaryTemplate(){return this._toOperationOrAttributeActionDictionaryTemplate()},toAttributeActionDictionaryTemplate(){return this._toOperationOrAttributeActionDictionaryTemplate()},_toOperationOrAttributeActionDictionaryTemplate(){const u=new rg.StringBuffer;u.append("{");let t=!0;for(const s in this.rules){const{body:r}=this.rules[s];t?t=!1:u.append(","),u.append(`
`),u.append("  "),this.addSemanticActionTemplate(s,r,u)}return u.append(`
}`),u.contents()},addSemanticActionTemplate(u,t,s){s.append(u),s.append(": function(");const r=this._topDownActionArity(u);s.append(rg.repeat("_",r).join(", ")),s.append(`) {
`),s.append("  }")},parseApplication(u){let t;if(u.indexOf("<")===-1)t=new zn.Apply(u);else{const r=aD.match(u,"Base_application");t=oD(r,{})}if(!(t.ruleName in this.rules))throw ag.undeclaredRule(t.ruleName,this.name);const{formals:s}=this.rules[t.ruleName];if(s.length!==t.args.length){const{source:r}=this.rules[t.ruleName];throw ag.wrongNumberOfParameters(t.ruleName,s.length,t.args.length,r)}return t}};Pu.ProtoBuiltInRules=new Pu("ProtoBuiltInRules",void 0,{any:{body:zn.any,formals:[],description:"any character",primitive:!0},end:{body:zn.end,formals:[],description:"end of input",primitive:!0},caseInsensitive:{body:new XE(new zn.Param(0)),formals:["str"],primitive:!0},lower:{body:new zn.UnicodeChar("Ll"),formals:[],description:"a lowercase letter",primitive:!0},upper:{body:new zn.UnicodeChar("Lu"),formals:[],description:"an uppercase letter",primitive:!0},unicodeLtmo:{body:new zn.UnicodeChar("Ltmo"),formals:[],description:"a Unicode character in Lt, Lm, or Lo",primitive:!0},spaces:{body:new zn.Star(new zn.Apply("space")),formals:[]},space:{body:new zn.Range("\0"," "),formals:[],description:"a space"}});var ec=Pu;const Hf=ec,WE=dd,lD=Gt,du=Ms,KE=si;function En(u){this.name=u}En.prototype.sourceInterval=function(u,t){return this.source.subInterval(u,t-u)};En.prototype.ensureSuperGrammar=function(){return this.superGrammar||this.withSuperGrammar(this.name==="BuiltInRules"?Hf.ProtoBuiltInRules:Hf.BuiltInRules),this.superGrammar};En.prototype.ensureSuperGrammarRuleForOverriding=function(u,t){const s=this.ensureSuperGrammar().rules[u];if(!s)throw du.cannotOverrideUndeclaredRule(u,this.superGrammar.name,t);return s};En.prototype.installOverriddenOrExtendedRule=function(u,t,s,r){const o=lD.getDuplicates(t);if(o.length>0)throw du.duplicateParameterNames(u,o,r);const c=this.ensureSuperGrammar().rules[u],f=c.formals,d=f?f.length:0;if(t.length!==d)throw du.wrongNumberOfParameters(u,d,t.length,r);return this.install(u,t,s,c.description,r)};En.prototype.install=function(u,t,s,r,o){return this.rules[u]={body:s.introduceParams(t),formals:t,description:r,source:o},this};En.prototype.withSuperGrammar=function(u){if(this.superGrammar)throw new Error("the super grammar of a GrammarDecl cannot be set more than once");return this.superGrammar=u,this.rules=Object.create(u.rules),u.isBuiltIn()||(this.defaultStartRule=u.defaultStartRule),this};En.prototype.withDefaultStartRule=function(u){return this.defaultStartRule=u,this};En.prototype.withSource=function(u){return this.source=new WE(u).interval(0,u.length),this};En.prototype.build=function(){const u=new Hf(this.name,this.ensureSuperGrammar(),this.rules,this.defaultStartRule),t=[];let s=!1;return Object.keys(u.rules).forEach(r=>{const{body:o}=u.rules[r];try{o.assertChoicesHaveUniformArity(r)}catch(c){t.push(c)}try{o.assertAllApplicationsAreValid(r,u)}catch(c){t.push(c),s=!0}}),s||Object.keys(u.rules).forEach(r=>{const{body:o}=u.rules[r];try{o.assertIteratedExprsAreNotNullable(u,[])}catch(c){t.push(c)}}),t.length>0&&du.throwErrors(t),this.source&&(u.source=this.source),u};En.prototype.define=function(u,t,s,r,o){if(this.ensureSuperGrammar(),this.superGrammar.rules[u])throw du.duplicateRuleDeclaration(u,this.name,this.superGrammar.name,o);if(this.rules[u])throw du.duplicateRuleDeclaration(u,this.name,this.name,o);const c=lD.getDuplicates(t);if(c.length>0)throw du.duplicateParameterNames(u,c,o);return this.install(u,t,s,r,o)};En.prototype.override=function(u,t,s,r,o){return this.ensureSuperGrammarRuleForOverriding(u,o),this.installOverriddenOrExtendedRule(u,t,s,o),this};En.prototype.extend=function(u,t,s,r,o){if(!this.ensureSuperGrammar().rules[u])throw du.cannotExtendUndeclaredRule(u,this.superGrammar.name,o);const f=new KE.Extend(this.superGrammar,u,s);return f.source=s.source,this.installOverriddenOrExtendedRule(u,t,f,o),this};var $E=En;const JE=ec,cg=$E,$t=si;function cD(){}cD.prototype={currentDecl:null,currentRuleName:null,newGrammar(u){return new cg(u)},grammar(u,t,s,r,o){const c=new cg(t);return s&&c.withSuperGrammar(s instanceof JE?s:this.fromRecipe(s)),r&&c.withDefaultStartRule(r),u&&u.source&&c.withSource(u.source),this.currentDecl=c,Object.keys(o).forEach(f=>{this.currentRuleName=f;const d=o[f],m=d[0],p=d[1],g=d[2],D=d[3],A=this.fromRecipe(d[4]);let E;c.source&&p&&p.sourceInterval&&(E=c.source.subInterval(p.sourceInterval[0],p.sourceInterval[1]-p.sourceInterval[0])),c[m](f,D,A,g,E)}),this.currentRuleName=this.currentDecl=null,c.build()},terminal(u){return new $t.Terminal(u)},range(u,t){return new $t.Range(u,t)},param(u){return new $t.Param(u)},alt(...u){let t=[];for(let s of u)s instanceof $t.PExpr||(s=this.fromRecipe(s)),s instanceof $t.Alt?t=t.concat(s.terms):t.push(s);return t.length===1?t[0]:new $t.Alt(t)},seq(...u){let t=[];for(let s of u)s instanceof $t.PExpr||(s=this.fromRecipe(s)),s instanceof $t.Seq?t=t.concat(s.factors):t.push(s);return t.length===1?t[0]:new $t.Seq(t)},star(u){return u instanceof $t.PExpr||(u=this.fromRecipe(u)),new $t.Star(u)},plus(u){return u instanceof $t.PExpr||(u=this.fromRecipe(u)),new $t.Plus(u)},opt(u){return u instanceof $t.PExpr||(u=this.fromRecipe(u)),new $t.Opt(u)},not(u){return u instanceof $t.PExpr||(u=this.fromRecipe(u)),new $t.Not(u)},la(u){return this.lookahead(u)},lookahead(u){return u instanceof $t.PExpr||(u=this.fromRecipe(u)),new $t.Lookahead(u)},lex(u){return u instanceof $t.PExpr||(u=this.fromRecipe(u)),new $t.Lex(u)},app(u,t){return t&&t.length>0&&(t=t.map(function(s){return s instanceof $t.PExpr?s:this.fromRecipe(s)},this)),new $t.Apply(u,t)},splice(u,t){return new $t.Splice(this.currentDecl.superGrammar,this.currentRuleName,u.map(s=>this.fromRecipe(s)),t.map(s=>this.fromRecipe(s)))},fromRecipe(u){const t=u[0]==="grammar"?u.slice(1):u.slice(2),s=this[u[0]](...t),r=u[1];return r&&r.sourceInterval&&this.currentDecl&&s.withSource(this.currentDecl.sourceInterval(...r.sourceInterval)),s}};var hD=cD,tC="16.6.0",eC={version:tC},nC=typeof __GLOBAL_OHM_VERSION__=="string"?__GLOBAL_OHM_VERSION__:eC.version,Ia={};const hg=hD;function sC(u){return typeof u=="function"?u.call(new hg):(typeof u=="string"&&(u=JSON.parse(u)),new hg().fromRecipe(u))}Ia.makeRecipe=sC;var{makeRecipe:uC}=Ia,iC=uC(["grammar",{source:`BuiltInRules {

  alnum  (an alpha-numeric character)
    = letter
    | digit

  letter  (a letter)
    = lower
    | upper
    | unicodeLtmo

  digit  (a digit)
    = "0".."9"

  hexDigit  (a hexadecimal digit)
    = digit
    | "a".."f"
    | "A".."F"

  ListOf<elem, sep>
    = NonemptyListOf<elem, sep>
    | EmptyListOf<elem, sep>

  NonemptyListOf<elem, sep>
    = elem (sep elem)*

  EmptyListOf<elem, sep>
    = /* nothing */

  listOf<elem, sep>
    = nonemptyListOf<elem, sep>
    | emptyListOf<elem, sep>

  nonemptyListOf<elem, sep>
    = elem (sep elem)*

  emptyListOf<elem, sep>
    = /* nothing */

  // Allows a syntactic rule application within a lexical context.
  applySyntactic<app> = app
}`},"BuiltInRules",null,null,{alnum:["define",{sourceInterval:[18,78]},"an alpha-numeric character",[],["alt",{sourceInterval:[60,78]},["app",{sourceInterval:[60,66]},"letter",[]],["app",{sourceInterval:[73,78]},"digit",[]]]],letter:["define",{sourceInterval:[82,142]},"a letter",[],["alt",{sourceInterval:[107,142]},["app",{sourceInterval:[107,112]},"lower",[]],["app",{sourceInterval:[119,124]},"upper",[]],["app",{sourceInterval:[131,142]},"unicodeLtmo",[]]]],digit:["define",{sourceInterval:[146,177]},"a digit",[],["range",{sourceInterval:[169,177]},"0","9"]],hexDigit:["define",{sourceInterval:[181,254]},"a hexadecimal digit",[],["alt",{sourceInterval:[219,254]},["app",{sourceInterval:[219,224]},"digit",[]],["range",{sourceInterval:[231,239]},"a","f"],["range",{sourceInterval:[246,254]},"A","F"]]],ListOf:["define",{sourceInterval:[258,336]},null,["elem","sep"],["alt",{sourceInterval:[282,336]},["app",{sourceInterval:[282,307]},"NonemptyListOf",[["param",{sourceInterval:[297,301]},0],["param",{sourceInterval:[303,306]},1]]],["app",{sourceInterval:[314,336]},"EmptyListOf",[["param",{sourceInterval:[326,330]},0],["param",{sourceInterval:[332,335]},1]]]]],NonemptyListOf:["define",{sourceInterval:[340,388]},null,["elem","sep"],["seq",{sourceInterval:[372,388]},["param",{sourceInterval:[372,376]},0],["star",{sourceInterval:[377,388]},["seq",{sourceInterval:[378,386]},["param",{sourceInterval:[378,381]},1],["param",{sourceInterval:[382,386]},0]]]]],EmptyListOf:["define",{sourceInterval:[392,434]},null,["elem","sep"],["seq",{sourceInterval:[438,438]}]],listOf:["define",{sourceInterval:[438,516]},null,["elem","sep"],["alt",{sourceInterval:[462,516]},["app",{sourceInterval:[462,487]},"nonemptyListOf",[["param",{sourceInterval:[477,481]},0],["param",{sourceInterval:[483,486]},1]]],["app",{sourceInterval:[494,516]},"emptyListOf",[["param",{sourceInterval:[506,510]},0],["param",{sourceInterval:[512,515]},1]]]]],nonemptyListOf:["define",{sourceInterval:[520,568]},null,["elem","sep"],["seq",{sourceInterval:[552,568]},["param",{sourceInterval:[552,556]},0],["star",{sourceInterval:[557,568]},["seq",{sourceInterval:[558,566]},["param",{sourceInterval:[558,561]},1],["param",{sourceInterval:[562,566]},0]]]]],emptyListOf:["define",{sourceInterval:[572,682]},null,["elem","sep"],["seq",{sourceInterval:[685,685]}]],applySyntactic:["define",{sourceInterval:[685,710]},null,["app"],["param",{sourceInterval:[707,710]},0]]}]);const rC=ec;rC.BuiltInRules=iC;var{makeRecipe:aC}=Ia,oC=aC(["grammar",{source:`OperationsAndAttributes {

  AttributeSignature =
    name

  OperationSignature =
    name Formals?

  Formals
    = "(" ListOf<name, ","> ")"

  name  (a name)
    = nameFirst nameRest*

  nameFirst
    = "_"
    | letter

  nameRest
    = "_"
    | alnum

}`},"OperationsAndAttributes",null,"AttributeSignature",{AttributeSignature:["define",{sourceInterval:[29,58]},null,[],["app",{sourceInterval:[54,58]},"name",[]]],OperationSignature:["define",{sourceInterval:[62,100]},null,[],["seq",{sourceInterval:[87,100]},["app",{sourceInterval:[87,91]},"name",[]],["opt",{sourceInterval:[92,100]},["app",{sourceInterval:[92,99]},"Formals",[]]]]],Formals:["define",{sourceInterval:[104,143]},null,[],["seq",{sourceInterval:[118,143]},["terminal",{sourceInterval:[118,121]},"("],["app",{sourceInterval:[122,139]},"ListOf",[["app",{sourceInterval:[129,133]},"name",[]],["terminal",{sourceInterval:[135,138]},","]]],["terminal",{sourceInterval:[140,143]},")"]]],name:["define",{sourceInterval:[147,187]},"a name",[],["seq",{sourceInterval:[168,187]},["app",{sourceInterval:[168,177]},"nameFirst",[]],["star",{sourceInterval:[178,187]},["app",{sourceInterval:[178,186]},"nameRest",[]]]]],nameFirst:["define",{sourceInterval:[191,223]},null,[],["alt",{sourceInterval:[207,223]},["terminal",{sourceInterval:[207,210]},"_"],["app",{sourceInterval:[217,223]},"letter",[]]]],nameRest:["define",{sourceInterval:[227,257]},null,[],["alt",{sourceInterval:[242,257]},["terminal",{sourceInterval:[242,245]},"_"],["app",{sourceInterval:[252,257]},"alnum",[]]]]}]);const Dl=rD,lC=Du;lC.awaitBuiltInRules(u=>{const t=oC;cC(u),hC(t)});function cC(u){const t={empty(){return this.iteration()},nonEmpty(s,r,o){return this.iteration([s].concat(o.children))}};Dl.BuiltInSemantics=Dl.createSemantics(u,null).addOperation("asIteration",{emptyListOf:t.empty,nonemptyListOf:t.nonEmpty,EmptyListOf:t.empty,NonemptyListOf:t.nonEmpty})}function hC(u){Dl.prototypeGrammarSemantics=u.createSemantics().addOperation("parse",{AttributeSignature(t){return{name:t.parse(),formals:[]}},OperationSignature(t,s){return{name:t.parse(),formals:s.children.map(r=>r.parse())[0]||[]}},Formals(t,s,r){return s.asIteration().children.map(o=>o.parse())},name(t,s){return this.sourceString}}),Dl.prototypeGrammar=u}var{makeRecipe:fC}=Ia,dC=fC(["grammar",{source:`Ohm {

  Grammars
    = Grammar*

  Grammar
    = ident SuperGrammar? "{" Rule* "}"

  SuperGrammar
    = "<:" ident

  Rule
    = ident Formals? ruleDescr? "="  RuleBody  -- define
    | ident Formals?            ":=" OverrideRuleBody  -- override
    | ident Formals?            "+=" RuleBody  -- extend

  RuleBody
    = "|"? NonemptyListOf<TopLevelTerm, "|">

  TopLevelTerm
    = Seq caseName  -- inline
    | Seq

  OverrideRuleBody
    = "|"? NonemptyListOf<OverrideTopLevelTerm, "|">

  OverrideTopLevelTerm
    = "..."  -- superSplice
    | TopLevelTerm

  Formals
    = "<" ListOf<ident, ","> ">"

  Params
    = "<" ListOf<Seq, ","> ">"

  Alt
    = NonemptyListOf<Seq, "|">

  Seq
    = Iter*

  Iter
    = Pred "*"  -- star
    | Pred "+"  -- plus
    | Pred "?"  -- opt
    | Pred

  Pred
    = "~" Lex  -- not
    | "&" Lex  -- lookahead
    | Lex

  Lex
    = "#" Base  -- lex
    | Base

  Base
    = ident Params? ~(ruleDescr? "=" | ":=" | "+=")  -- application
    | oneCharTerminal ".." oneCharTerminal           -- range
    | terminal                                       -- terminal
    | "(" Alt ")"                                    -- paren

  ruleDescr  (a rule description)
    = "(" ruleDescrText ")"

  ruleDescrText
    = (~")" any)*

  caseName
    = "--" (~"\\n" space)* name (~"\\n" space)* ("\\n" | &"}")

  name  (a name)
    = nameFirst nameRest*

  nameFirst
    = "_"
    | letter

  nameRest
    = "_"
    | alnum

  ident  (an identifier)
    = name

  terminal
    = "\\"" terminalChar* "\\""

  oneCharTerminal
    = "\\"" terminalChar "\\""

  terminalChar
    = escapeChar
      | ~"\\\\" ~"\\"" ~"\\n" "\\u{0}".."\\u{10FFFF}"

  escapeChar  (an escape sequence)
    = "\\\\\\\\"                                     -- backslash
    | "\\\\\\""                                     -- doubleQuote
    | "\\\\\\'"                                     -- singleQuote
    | "\\\\b"                                      -- backspace
    | "\\\\n"                                      -- lineFeed
    | "\\\\r"                                      -- carriageReturn
    | "\\\\t"                                      -- tab
    | "\\\\u{" hexDigit hexDigit? hexDigit?
             hexDigit? hexDigit? hexDigit? "}"   -- unicodeCodePoint
    | "\\\\u" hexDigit hexDigit hexDigit hexDigit  -- unicodeEscape
    | "\\\\x" hexDigit hexDigit                    -- hexEscape

  space
   += comment

  comment
    = "//" (~"\\n" any)* &("\\n" | end)  -- singleLine
    | "/*" (~"*/" any)* "*/"  -- multiLine

  tokens = token*

  token = caseName | comment | ident | operator | punctuation | terminal | any

  operator = "<:" | "=" | ":=" | "+=" | "*" | "+" | "?" | "~" | "&"

  punctuation = "<" | ">" | "," | "--"
}`},"Ohm",null,"Grammars",{Grammars:["define",{sourceInterval:[9,32]},null,[],["star",{sourceInterval:[24,32]},["app",{sourceInterval:[24,31]},"Grammar",[]]]],Grammar:["define",{sourceInterval:[36,83]},null,[],["seq",{sourceInterval:[50,83]},["app",{sourceInterval:[50,55]},"ident",[]],["opt",{sourceInterval:[56,69]},["app",{sourceInterval:[56,68]},"SuperGrammar",[]]],["terminal",{sourceInterval:[70,73]},"{"],["star",{sourceInterval:[74,79]},["app",{sourceInterval:[74,78]},"Rule",[]]],["terminal",{sourceInterval:[80,83]},"}"]]],SuperGrammar:["define",{sourceInterval:[87,116]},null,[],["seq",{sourceInterval:[106,116]},["terminal",{sourceInterval:[106,110]},"<:"],["app",{sourceInterval:[111,116]},"ident",[]]]],Rule_define:["define",{sourceInterval:[131,181]},null,[],["seq",{sourceInterval:[131,170]},["app",{sourceInterval:[131,136]},"ident",[]],["opt",{sourceInterval:[137,145]},["app",{sourceInterval:[137,144]},"Formals",[]]],["opt",{sourceInterval:[146,156]},["app",{sourceInterval:[146,155]},"ruleDescr",[]]],["terminal",{sourceInterval:[157,160]},"="],["app",{sourceInterval:[162,170]},"RuleBody",[]]]],Rule_override:["define",{sourceInterval:[188,248]},null,[],["seq",{sourceInterval:[188,235]},["app",{sourceInterval:[188,193]},"ident",[]],["opt",{sourceInterval:[194,202]},["app",{sourceInterval:[194,201]},"Formals",[]]],["terminal",{sourceInterval:[214,218]},":="],["app",{sourceInterval:[219,235]},"OverrideRuleBody",[]]]],Rule_extend:["define",{sourceInterval:[255,305]},null,[],["seq",{sourceInterval:[255,294]},["app",{sourceInterval:[255,260]},"ident",[]],["opt",{sourceInterval:[261,269]},["app",{sourceInterval:[261,268]},"Formals",[]]],["terminal",{sourceInterval:[281,285]},"+="],["app",{sourceInterval:[286,294]},"RuleBody",[]]]],Rule:["define",{sourceInterval:[120,305]},null,[],["alt",{sourceInterval:[131,305]},["app",{sourceInterval:[131,170]},"Rule_define",[]],["app",{sourceInterval:[188,235]},"Rule_override",[]],["app",{sourceInterval:[255,294]},"Rule_extend",[]]]],RuleBody:["define",{sourceInterval:[309,362]},null,[],["seq",{sourceInterval:[324,362]},["opt",{sourceInterval:[324,328]},["terminal",{sourceInterval:[324,327]},"|"]],["app",{sourceInterval:[329,362]},"NonemptyListOf",[["app",{sourceInterval:[344,356]},"TopLevelTerm",[]],["terminal",{sourceInterval:[358,361]},"|"]]]]],TopLevelTerm_inline:["define",{sourceInterval:[385,408]},null,[],["seq",{sourceInterval:[385,397]},["app",{sourceInterval:[385,388]},"Seq",[]],["app",{sourceInterval:[389,397]},"caseName",[]]]],TopLevelTerm:["define",{sourceInterval:[366,418]},null,[],["alt",{sourceInterval:[385,418]},["app",{sourceInterval:[385,397]},"TopLevelTerm_inline",[]],["app",{sourceInterval:[415,418]},"Seq",[]]]],OverrideRuleBody:["define",{sourceInterval:[422,491]},null,[],["seq",{sourceInterval:[445,491]},["opt",{sourceInterval:[445,449]},["terminal",{sourceInterval:[445,448]},"|"]],["app",{sourceInterval:[450,491]},"NonemptyListOf",[["app",{sourceInterval:[465,485]},"OverrideTopLevelTerm",[]],["terminal",{sourceInterval:[487,490]},"|"]]]]],OverrideTopLevelTerm_superSplice:["define",{sourceInterval:[522,543]},null,[],["terminal",{sourceInterval:[522,527]},"..."]],OverrideTopLevelTerm:["define",{sourceInterval:[495,562]},null,[],["alt",{sourceInterval:[522,562]},["app",{sourceInterval:[522,527]},"OverrideTopLevelTerm_superSplice",[]],["app",{sourceInterval:[550,562]},"TopLevelTerm",[]]]],Formals:["define",{sourceInterval:[566,606]},null,[],["seq",{sourceInterval:[580,606]},["terminal",{sourceInterval:[580,583]},"<"],["app",{sourceInterval:[584,602]},"ListOf",[["app",{sourceInterval:[591,596]},"ident",[]],["terminal",{sourceInterval:[598,601]},","]]],["terminal",{sourceInterval:[603,606]},">"]]],Params:["define",{sourceInterval:[610,647]},null,[],["seq",{sourceInterval:[623,647]},["terminal",{sourceInterval:[623,626]},"<"],["app",{sourceInterval:[627,643]},"ListOf",[["app",{sourceInterval:[634,637]},"Seq",[]],["terminal",{sourceInterval:[639,642]},","]]],["terminal",{sourceInterval:[644,647]},">"]]],Alt:["define",{sourceInterval:[651,685]},null,[],["app",{sourceInterval:[661,685]},"NonemptyListOf",[["app",{sourceInterval:[676,679]},"Seq",[]],["terminal",{sourceInterval:[681,684]},"|"]]]],Seq:["define",{sourceInterval:[689,704]},null,[],["star",{sourceInterval:[699,704]},["app",{sourceInterval:[699,703]},"Iter",[]]]],Iter_star:["define",{sourceInterval:[719,736]},null,[],["seq",{sourceInterval:[719,727]},["app",{sourceInterval:[719,723]},"Pred",[]],["terminal",{sourceInterval:[724,727]},"*"]]],Iter_plus:["define",{sourceInterval:[743,760]},null,[],["seq",{sourceInterval:[743,751]},["app",{sourceInterval:[743,747]},"Pred",[]],["terminal",{sourceInterval:[748,751]},"+"]]],Iter_opt:["define",{sourceInterval:[767,783]},null,[],["seq",{sourceInterval:[767,775]},["app",{sourceInterval:[767,771]},"Pred",[]],["terminal",{sourceInterval:[772,775]},"?"]]],Iter:["define",{sourceInterval:[708,794]},null,[],["alt",{sourceInterval:[719,794]},["app",{sourceInterval:[719,727]},"Iter_star",[]],["app",{sourceInterval:[743,751]},"Iter_plus",[]],["app",{sourceInterval:[767,775]},"Iter_opt",[]],["app",{sourceInterval:[790,794]},"Pred",[]]]],Pred_not:["define",{sourceInterval:[809,824]},null,[],["seq",{sourceInterval:[809,816]},["terminal",{sourceInterval:[809,812]},"~"],["app",{sourceInterval:[813,816]},"Lex",[]]]],Pred_lookahead:["define",{sourceInterval:[831,852]},null,[],["seq",{sourceInterval:[831,838]},["terminal",{sourceInterval:[831,834]},"&"],["app",{sourceInterval:[835,838]},"Lex",[]]]],Pred:["define",{sourceInterval:[798,862]},null,[],["alt",{sourceInterval:[809,862]},["app",{sourceInterval:[809,816]},"Pred_not",[]],["app",{sourceInterval:[831,838]},"Pred_lookahead",[]],["app",{sourceInterval:[859,862]},"Lex",[]]]],Lex_lex:["define",{sourceInterval:[876,892]},null,[],["seq",{sourceInterval:[876,884]},["terminal",{sourceInterval:[876,879]},"#"],["app",{sourceInterval:[880,884]},"Base",[]]]],Lex:["define",{sourceInterval:[866,903]},null,[],["alt",{sourceInterval:[876,903]},["app",{sourceInterval:[876,884]},"Lex_lex",[]],["app",{sourceInterval:[899,903]},"Base",[]]]],Base_application:["define",{sourceInterval:[918,979]},null,[],["seq",{sourceInterval:[918,963]},["app",{sourceInterval:[918,923]},"ident",[]],["opt",{sourceInterval:[924,931]},["app",{sourceInterval:[924,930]},"Params",[]]],["not",{sourceInterval:[932,963]},["alt",{sourceInterval:[934,962]},["seq",{sourceInterval:[934,948]},["opt",{sourceInterval:[934,944]},["app",{sourceInterval:[934,943]},"ruleDescr",[]]],["terminal",{sourceInterval:[945,948]},"="]],["terminal",{sourceInterval:[951,955]},":="],["terminal",{sourceInterval:[958,962]},"+="]]]]],Base_range:["define",{sourceInterval:[986,1041]},null,[],["seq",{sourceInterval:[986,1022]},["app",{sourceInterval:[986,1001]},"oneCharTerminal",[]],["terminal",{sourceInterval:[1002,1006]},".."],["app",{sourceInterval:[1007,1022]},"oneCharTerminal",[]]]],Base_terminal:["define",{sourceInterval:[1048,1106]},null,[],["app",{sourceInterval:[1048,1056]},"terminal",[]]],Base_paren:["define",{sourceInterval:[1113,1168]},null,[],["seq",{sourceInterval:[1113,1124]},["terminal",{sourceInterval:[1113,1116]},"("],["app",{sourceInterval:[1117,1120]},"Alt",[]],["terminal",{sourceInterval:[1121,1124]},")"]]],Base:["define",{sourceInterval:[907,1168]},null,[],["alt",{sourceInterval:[918,1168]},["app",{sourceInterval:[918,963]},"Base_application",[]],["app",{sourceInterval:[986,1022]},"Base_range",[]],["app",{sourceInterval:[1048,1056]},"Base_terminal",[]],["app",{sourceInterval:[1113,1124]},"Base_paren",[]]]],ruleDescr:["define",{sourceInterval:[1172,1231]},"a rule description",[],["seq",{sourceInterval:[1210,1231]},["terminal",{sourceInterval:[1210,1213]},"("],["app",{sourceInterval:[1214,1227]},"ruleDescrText",[]],["terminal",{sourceInterval:[1228,1231]},")"]]],ruleDescrText:["define",{sourceInterval:[1235,1266]},null,[],["star",{sourceInterval:[1255,1266]},["seq",{sourceInterval:[1256,1264]},["not",{sourceInterval:[1256,1260]},["terminal",{sourceInterval:[1257,1260]},")"]],["app",{sourceInterval:[1261,1264]},"any",[]]]]],caseName:["define",{sourceInterval:[1270,1338]},null,[],["seq",{sourceInterval:[1285,1338]},["terminal",{sourceInterval:[1285,1289]},"--"],["star",{sourceInterval:[1290,1304]},["seq",{sourceInterval:[1291,1302]},["not",{sourceInterval:[1291,1296]},["terminal",{sourceInterval:[1292,1296]},`
`]],["app",{sourceInterval:[1297,1302]},"space",[]]]],["app",{sourceInterval:[1305,1309]},"name",[]],["star",{sourceInterval:[1310,1324]},["seq",{sourceInterval:[1311,1322]},["not",{sourceInterval:[1311,1316]},["terminal",{sourceInterval:[1312,1316]},`
`]],["app",{sourceInterval:[1317,1322]},"space",[]]]],["alt",{sourceInterval:[1326,1337]},["terminal",{sourceInterval:[1326,1330]},`
`],["lookahead",{sourceInterval:[1333,1337]},["terminal",{sourceInterval:[1334,1337]},"}"]]]]],name:["define",{sourceInterval:[1342,1382]},"a name",[],["seq",{sourceInterval:[1363,1382]},["app",{sourceInterval:[1363,1372]},"nameFirst",[]],["star",{sourceInterval:[1373,1382]},["app",{sourceInterval:[1373,1381]},"nameRest",[]]]]],nameFirst:["define",{sourceInterval:[1386,1418]},null,[],["alt",{sourceInterval:[1402,1418]},["terminal",{sourceInterval:[1402,1405]},"_"],["app",{sourceInterval:[1412,1418]},"letter",[]]]],nameRest:["define",{sourceInterval:[1422,1452]},null,[],["alt",{sourceInterval:[1437,1452]},["terminal",{sourceInterval:[1437,1440]},"_"],["app",{sourceInterval:[1447,1452]},"alnum",[]]]],ident:["define",{sourceInterval:[1456,1489]},"an identifier",[],["app",{sourceInterval:[1485,1489]},"name",[]]],terminal:["define",{sourceInterval:[1493,1531]},null,[],["seq",{sourceInterval:[1508,1531]},["terminal",{sourceInterval:[1508,1512]},'"'],["star",{sourceInterval:[1513,1526]},["app",{sourceInterval:[1513,1525]},"terminalChar",[]]],["terminal",{sourceInterval:[1527,1531]},'"']]],oneCharTerminal:["define",{sourceInterval:[1535,1579]},null,[],["seq",{sourceInterval:[1557,1579]},["terminal",{sourceInterval:[1557,1561]},'"'],["app",{sourceInterval:[1562,1574]},"terminalChar",[]],["terminal",{sourceInterval:[1575,1579]},'"']]],terminalChar:["define",{sourceInterval:[1583,1660]},null,[],["alt",{sourceInterval:[1602,1660]},["app",{sourceInterval:[1602,1612]},"escapeChar",[]],["seq",{sourceInterval:[1621,1660]},["not",{sourceInterval:[1621,1626]},["terminal",{sourceInterval:[1622,1626]},"\\"]],["not",{sourceInterval:[1627,1632]},["terminal",{sourceInterval:[1628,1632]},'"']],["not",{sourceInterval:[1633,1638]},["terminal",{sourceInterval:[1634,1638]},`
`]],["range",{sourceInterval:[1639,1660]},"\0","􏿿"]]]],escapeChar_backslash:["define",{sourceInterval:[1703,1758]},null,[],["terminal",{sourceInterval:[1703,1709]},"\\\\"]],escapeChar_doubleQuote:["define",{sourceInterval:[1765,1822]},null,[],["terminal",{sourceInterval:[1765,1771]},'\\"']],escapeChar_singleQuote:["define",{sourceInterval:[1829,1886]},null,[],["terminal",{sourceInterval:[1829,1835]},"\\'"]],escapeChar_backspace:["define",{sourceInterval:[1893,1948]},null,[],["terminal",{sourceInterval:[1893,1898]},"\\b"]],escapeChar_lineFeed:["define",{sourceInterval:[1955,2009]},null,[],["terminal",{sourceInterval:[1955,1960]},"\\n"]],escapeChar_carriageReturn:["define",{sourceInterval:[2016,2076]},null,[],["terminal",{sourceInterval:[2016,2021]},"\\r"]],escapeChar_tab:["define",{sourceInterval:[2083,2132]},null,[],["terminal",{sourceInterval:[2083,2088]},"\\t"]],escapeChar_unicodeCodePoint:["define",{sourceInterval:[2139,2243]},null,[],["seq",{sourceInterval:[2139,2221]},["terminal",{sourceInterval:[2139,2145]},"\\u{"],["app",{sourceInterval:[2146,2154]},"hexDigit",[]],["opt",{sourceInterval:[2155,2164]},["app",{sourceInterval:[2155,2163]},"hexDigit",[]]],["opt",{sourceInterval:[2165,2174]},["app",{sourceInterval:[2165,2173]},"hexDigit",[]]],["opt",{sourceInterval:[2188,2197]},["app",{sourceInterval:[2188,2196]},"hexDigit",[]]],["opt",{sourceInterval:[2198,2207]},["app",{sourceInterval:[2198,2206]},"hexDigit",[]]],["opt",{sourceInterval:[2208,2217]},["app",{sourceInterval:[2208,2216]},"hexDigit",[]]],["terminal",{sourceInterval:[2218,2221]},"}"]]],escapeChar_unicodeEscape:["define",{sourceInterval:[2250,2309]},null,[],["seq",{sourceInterval:[2250,2291]},["terminal",{sourceInterval:[2250,2255]},"\\u"],["app",{sourceInterval:[2256,2264]},"hexDigit",[]],["app",{sourceInterval:[2265,2273]},"hexDigit",[]],["app",{sourceInterval:[2274,2282]},"hexDigit",[]],["app",{sourceInterval:[2283,2291]},"hexDigit",[]]]],escapeChar_hexEscape:["define",{sourceInterval:[2316,2371]},null,[],["seq",{sourceInterval:[2316,2339]},["terminal",{sourceInterval:[2316,2321]},"\\x"],["app",{sourceInterval:[2322,2330]},"hexDigit",[]],["app",{sourceInterval:[2331,2339]},"hexDigit",[]]]],escapeChar:["define",{sourceInterval:[1664,2371]},"an escape sequence",[],["alt",{sourceInterval:[1703,2371]},["app",{sourceInterval:[1703,1709]},"escapeChar_backslash",[]],["app",{sourceInterval:[1765,1771]},"escapeChar_doubleQuote",[]],["app",{sourceInterval:[1829,1835]},"escapeChar_singleQuote",[]],["app",{sourceInterval:[1893,1898]},"escapeChar_backspace",[]],["app",{sourceInterval:[1955,1960]},"escapeChar_lineFeed",[]],["app",{sourceInterval:[2016,2021]},"escapeChar_carriageReturn",[]],["app",{sourceInterval:[2083,2088]},"escapeChar_tab",[]],["app",{sourceInterval:[2139,2221]},"escapeChar_unicodeCodePoint",[]],["app",{sourceInterval:[2250,2291]},"escapeChar_unicodeEscape",[]],["app",{sourceInterval:[2316,2339]},"escapeChar_hexEscape",[]]]],space:["extend",{sourceInterval:[2375,2394]},null,[],["app",{sourceInterval:[2387,2394]},"comment",[]]],comment_singleLine:["define",{sourceInterval:[2412,2458]},null,[],["seq",{sourceInterval:[2412,2443]},["terminal",{sourceInterval:[2412,2416]},"//"],["star",{sourceInterval:[2417,2429]},["seq",{sourceInterval:[2418,2427]},["not",{sourceInterval:[2418,2423]},["terminal",{sourceInterval:[2419,2423]},`
`]],["app",{sourceInterval:[2424,2427]},"any",[]]]],["lookahead",{sourceInterval:[2430,2443]},["alt",{sourceInterval:[2432,2442]},["terminal",{sourceInterval:[2432,2436]},`
`],["app",{sourceInterval:[2439,2442]},"end",[]]]]]],comment_multiLine:["define",{sourceInterval:[2465,2501]},null,[],["seq",{sourceInterval:[2465,2487]},["terminal",{sourceInterval:[2465,2469]},"/*"],["star",{sourceInterval:[2470,2482]},["seq",{sourceInterval:[2471,2480]},["not",{sourceInterval:[2471,2476]},["terminal",{sourceInterval:[2472,2476]},"*/"]],["app",{sourceInterval:[2477,2480]},"any",[]]]],["terminal",{sourceInterval:[2483,2487]},"*/"]]],comment:["define",{sourceInterval:[2398,2501]},null,[],["alt",{sourceInterval:[2412,2501]},["app",{sourceInterval:[2412,2443]},"comment_singleLine",[]],["app",{sourceInterval:[2465,2487]},"comment_multiLine",[]]]],tokens:["define",{sourceInterval:[2505,2520]},null,[],["star",{sourceInterval:[2514,2520]},["app",{sourceInterval:[2514,2519]},"token",[]]]],token:["define",{sourceInterval:[2524,2600]},null,[],["alt",{sourceInterval:[2532,2600]},["app",{sourceInterval:[2532,2540]},"caseName",[]],["app",{sourceInterval:[2543,2550]},"comment",[]],["app",{sourceInterval:[2553,2558]},"ident",[]],["app",{sourceInterval:[2561,2569]},"operator",[]],["app",{sourceInterval:[2572,2583]},"punctuation",[]],["app",{sourceInterval:[2586,2594]},"terminal",[]],["app",{sourceInterval:[2597,2600]},"any",[]]]],operator:["define",{sourceInterval:[2604,2669]},null,[],["alt",{sourceInterval:[2615,2669]},["terminal",{sourceInterval:[2615,2619]},"<:"],["terminal",{sourceInterval:[2622,2625]},"="],["terminal",{sourceInterval:[2628,2632]},":="],["terminal",{sourceInterval:[2635,2639]},"+="],["terminal",{sourceInterval:[2642,2645]},"*"],["terminal",{sourceInterval:[2648,2651]},"+"],["terminal",{sourceInterval:[2654,2657]},"?"],["terminal",{sourceInterval:[2660,2663]},"~"],["terminal",{sourceInterval:[2666,2669]},"&"]]],punctuation:["define",{sourceInterval:[2673,2709]},null,[],["alt",{sourceInterval:[2687,2709]},["terminal",{sourceInterval:[2687,2690]},"<"],["terminal",{sourceInterval:[2693,2696]},">"],["terminal",{sourceInterval:[2699,2702]},","],["terminal",{sourceInterval:[2705,2709]},"--"]]]}]);const pC=hD,Dd=ec,Yf=Yg,fD=Gt,ga=Ms,yd=si,Ad=Du,mC=nC,{makeRecipe:gC}=Ia;let nc;const Lf=Object.create(yd.PExpr.prototype),DC=u=>!!u.constructor&&typeof u.constructor.isBuffer=="function"&&u.constructor.isBuffer(u);function vd(u,t,s){const r=new pC;let o,c,f,d=!1;return(s||nc).createSemantics().addOperation("visit",{Grammars(g){return g.children.map(D=>D.visit())},Grammar(g,D,A,E,_){const C=g.visit();o=r.newGrammar(C,t),D.child(0)&&D.child(0).visit(),E.children.map(T=>T.visit());const b=o.build();if(b.source=this.source.trimmed(),C in t)throw ga.duplicateGrammarDeclaration(b,t);return t[C]=b,b},SuperGrammar(g,D){const A=D.visit();if(A==="null")o.withSuperGrammar(null);else{if(!t||!(A in t))throw ga.undeclaredGrammar(A,t,D.source);o.withSuperGrammar(t[A])}},Rule_define(g,D,A,E,_){c=g.visit(),f=D.children.map(R=>R.visit())[0]||[],!o.defaultStartRule&&o.ensureSuperGrammar()!==Dd.ProtoBuiltInRules&&o.withDefaultStartRule(c);const C=_.visit(),b=A.children.map(R=>R.visit())[0],T=this.source.trimmed();return o.define(c,f,C,b,T)},Rule_override(g,D,A,E){c=g.visit(),f=D.children.map(b=>b.visit())[0]||[];const _=this.source.trimmed();o.ensureSuperGrammarRuleForOverriding(c,_),d=!0;const C=E.visit();return d=!1,o.override(c,f,C,null,_)},Rule_extend(g,D,A,E){c=g.visit(),f=D.children.map(b=>b.visit())[0]||[];const _=E.visit(),C=this.source.trimmed();return o.extend(c,f,_,null,C)},RuleBody(g,D){return r.alt(...D.visit()).withSource(this.source)},OverrideRuleBody(g,D){const A=D.visit(),E=A.indexOf(Lf);if(E>=0){const _=A.slice(0,E),C=A.slice(E+1);return C.forEach(b=>{if(b===Lf)throw ga.multipleSuperSplices(b)}),new yd.Splice(o.superGrammar,c,_,C).withSource(this.source)}else return r.alt(...A).withSource(this.source)},Formals(g,D,A){return D.visit()},Params(g,D,A){return D.visit()},Alt(g){return r.alt(...g.visit()).withSource(this.source)},TopLevelTerm_inline(g,D){const A=c+"_"+D.visit(),E=g.visit(),_=this.source.trimmed(),C=!(o.superGrammar&&o.superGrammar.rules[A]);d&&!C?o.override(A,f,E,null,_):o.define(A,f,E,null,_);const b=f.map(T=>r.app(T));return r.app(A,b).withSource(E.source)},OverrideTopLevelTerm_superSplice(g){return Lf},Seq(g){return r.seq(...g.children.map(D=>D.visit())).withSource(this.source)},Iter_star(g,D){return r.star(g.visit()).withSource(this.source)},Iter_plus(g,D){return r.plus(g.visit()).withSource(this.source)},Iter_opt(g,D){return r.opt(g.visit()).withSource(this.source)},Pred_not(g,D){return r.not(D.visit()).withSource(this.source)},Pred_lookahead(g,D){return r.lookahead(D.visit()).withSource(this.source)},Lex_lex(g,D){return r.lex(D.visit()).withSource(this.source)},Base_application(g,D){const A=D.children.map(E=>E.visit())[0]||[];return r.app(g.visit(),A).withSource(this.source)},Base_range(g,D,A){return r.range(g.visit(),A.visit()).withSource(this.source)},Base_terminal(g){return r.terminal(g.visit()).withSource(this.source)},Base_paren(g,D,A){return D.visit()},ruleDescr(g,D,A){return D.visit()},ruleDescrText(g){return this.sourceString.trim()},caseName(g,D,A,E,_){return A.visit()},name(g,D){return this.sourceString},nameFirst(g){},nameRest(g){},terminal(g,D,A){return D.children.map(E=>E.visit()).join("")},oneCharTerminal(g,D,A){return D.visit()},escapeChar(g){try{return fD.unescapeCodePoint(this.sourceString)}catch(D){throw D instanceof RangeError&&D.message.startsWith("Invalid code point ")?ga.invalidCodePoint(g):D}},NonemptyListOf(g,D,A){return[g.visit()].concat(A.children.map(E=>E.visit()))},EmptyListOf(){return[]},_terminal(){return this.sourceString}})(u).visit()}function yC(u,t){const s=nc.match(u,"Grammars");if(s.failed())throw ga.grammarSyntaxError(s);return vd(s,t)}function AC(u,t){const s=dD(u,t),r=Object.keys(s);if(r.length===0)throw new Error("Missing grammar definition");if(r.length>1){const c=s[r[1]].source;throw new Error(Ad.getLineAndColumnMessage(c.sourceString,c.startIdx)+"Found more than one grammar definition -- use ohm.grammars() instead.")}return s[r[0]]}function dD(u,t){const s=Yf.extend(Yf.asNamespace(t));if(typeof u!="string")if(DC(u))u=u.toString();else throw new TypeError("Expected string as first argument, got "+fD.unexpectedObjToString(u));return yC(u,s),s}function vC(u){throw new Error("grammarFromScriptElement was removed in Ohm v16.0. See https://ohmjs.org/d/gfs for more info.")}function _C(u){throw new Error("grammarsFromScriptElements was removed in Ohm v16.0. See https://ohmjs.org/d/gfs for more info.")}Wl.exports={createNamespace:Yf.createNamespace,grammar:AC,grammars:dD,grammarFromScriptElement:vC,grammarsFromScriptElements:_C,makeRecipe:gC,ohmGrammar:null,pexprs:yd,util:Ad,version:mC};Wl.exports._buildGrammar=vd;Ad.announceBuiltInRules(Dd.BuiltInRules);Wl.exports.ohmGrammar=nc=dC;Dd.initApplicationParser(nc,vd);var EC=Wl.exports;const{assert:B8}=Gt;function CC(u){const t=u.trim().split("/");if(t.length===2){const r=parseFloat(t[0]),o=parseFloat(t[1]);if(!isNaN(r)&&!isNaN(o)&&o!==0)return r/o}const s=parseFloat(u);return isNaN(s)?0:s}function bC(u){const t=u.match(/tempo\s*=\s*(\d+(?:\.\d+)?)/i),s=t?parseFloat(t[1]):120,r=[],o=/track\s+"([^"]+)"\s+using\s+synth\("([^"\\]+)"(?:\s*,\s*\{([^}]*)\})?\)\s*\{([\s\S]*?)\}/gi;let c;for(;(c=o.exec(u))!==null;){const f=c[1],d=c[2],m=c[3]||"",p=c[4]||"";let g;const D=m.match(/adsr\s*:\s*\[([^\]]+)\]/i);D&&(g=D[1].split(",").map(T=>parseFloat(T.trim())).filter(T=>!isNaN(T)));const A=p.match(/notes\s*\[([^\]]+)\]/i),E=p.match(/rhythm\s*\[([^\]]+)\]/i),_=A?A[1].split(",").map(T=>T.trim()).filter(Boolean):[],C=E?E[1].split(",").map(T=>T.trim()).filter(Boolean):[],b=[];for(let T=0;T<_.length;T++){const R=_[T],z=C[T%C.length]??"1/4",Y=CC(z);b.push({pitch:R,durationBeats:Y})}r.push({name:f,synth:d,adsr:g,notes:b})}return{tempo:s,tracks:r}}const SC=String.raw`
LeafMusic {
  Program
    = Statement*

  Statement
    = Assignment
    | TrackDecl
    | DrumsDecl
    | SceneDecl

  // ---------------------------
  // Assignments
  // ---------------------------
  Assignment
    = ident "=" Expr

  Expr
    = number
    | string
    | ident
    | ObjLit
    | ArrayLit
    | RomanNumeral

  // ---------------------------
  // Tracks
  // ---------------------------
  TrackDecl
    = "track" string "using" Synth Block

  Synth
    = "synth" "(" string ("," ObjLit)? ")"

  // ---------------------------
  // Drums
  // ---------------------------
  DrumsDecl
    = "drums" string "using" Samples Block

  Samples
    = "samples" "(" string ")"

  // ---------------------------
  // Scenes
  // ---------------------------
  SceneDecl
    = "scene" string number "bars" Block

  RomanNumeral
    = "I" | "II" | "III" | "IV" | "V" | "VI" | "VII"

  // ---------------------------
  // Blocks
  // ---------------------------
  Block
    = "{" BlockStmt* "}"

  BlockStmt
    = NotesStmt
    | RhythmStmt
    | FxStmt
    | GainStmt
    | ArpStmt
    | PlayStmt
    | FollowStmt
    | HumanizeStmt
    | DrumLine

  NotesStmt
    = "notes" NoteList

  RhythmStmt
    = "rhythm" RhythmList

  FxStmt
    = "fx" FxList

  FxList
    = FxCall ("," FxCall)*

  FxCall
    = ident "(" ArgList? ")"

  ArgList
    = ListOf<Arg, ",">

  Arg
    = Expr
    | KeyValueArg

  KeyValueArg
    = ident "=" Expr

  GainStmt
    = "gain" number

  ArpStmt
    = "arp" "of" ArpSpec

  ArpSpec
    = "chords" "(" ProgRef ("," "dur" "=" TimeDur)? ")" "mode" string "rate" Duration

  PlayStmt
    = "play" PlayExpr

  PlayExpr
    = "chords" "(" ProgRef ("," "dur" "=" TimeDur)? ")" ("fx" FxList)?

  FollowStmt
    = "follow" FollowExpr

  FollowExpr
    = "roots" "(" ProgRef ")" ("." "down" "(" number "oct" ")")?

  HumanizeStmt
    = "humanize" "timing" TimeMs "," "velocity" number

  DrumLine
    = DrumPad "pattern" PatternString ("gain" number)?

  DrumPad
    = "kick" | "snare" | "hat" | "rim" | "clap" | "tom" | "ride" | "crash" | ident

  PatternString
    = "\"" ("x" | "-" | " ")+ "\""

  // ---------------------------
  // Core values
  // ---------------------------
  NoteList
    = "[" ListOf<Note, ","> "]"

  RhythmList
    = "[" ListOf<Duration, ","> "]"

  Duration
    = number "/" number

  TimeDur
    = number ("ms" | "s" | "beat" | "beats" | "bar" | "bars")

  TimeMs
    = number "ms"

  Note
    = pitch digit+

  pitch
    = "A".."G" ("#" | "b")?

  ident
    = letter (letter | digit)*

  number
    = digit+ ("." digit+)?  --float
    | digit+               --int

  string
    = "\"" (~"\"" any)* "\""

  ArrayLit
    = "[" ListOf<Expr, ",">? "]"

  ObjLit
    = "{" ListOf<ObjPair, ",">? "}"

  ObjPair
    = ident ":" Expr
  
  ProgRef
  = "progression"
  | ident
}
`,pD=EC.grammar(SC);function TC(u){try{const t=pD.match(u);return t.succeeded()?{ok:!0,cst:t}:{ok:!1,errors:t.message||t.getExpectedText?.()||"Parse error"}}catch(t){return{ok:!1,errors:`Grammar error: ${t instanceof Error?t.message:String(t)}`}}}function FC(u){try{const t=pD.match(u);return t.succeeded()?{ok:!0,ast:bC(u)}:{ok:!1,errors:t.message||"Parse error"}}catch(t){return{ok:!1,errors:`Grammar error: ${t instanceof Error?t.message:String(t)}`}}}const mD="14.9.17",fg=(u,t,s)=>({endTime:t,insertTime:s,type:"exponentialRampToValue",value:u}),dg=(u,t,s)=>({endTime:t,insertTime:s,type:"linearRampToValue",value:u}),Xf=(u,t)=>({startTime:t,type:"setValue",value:u}),gD=(u,t,s)=>({duration:s,startTime:t,type:"setValueCurve",values:u}),DD=(u,t,{startTime:s,target:r,timeConstant:o})=>r+(t-r)*Math.exp((s-u)/o),Qi=u=>u.type==="exponentialRampToValue",yl=u=>u.type==="linearRampToValue",hu=u=>Qi(u)||yl(u),_d=u=>u.type==="setValue",xs=u=>u.type==="setValueCurve",Al=(u,t,s,r)=>{const o=u[t];return o===void 0?r:hu(o)||_d(o)?o.value:xs(o)?o.values[o.values.length-1]:DD(s,Al(u,t-1,o.startTime,r),o)},pg=(u,t,s,r,o)=>s===void 0?[r.insertTime,o]:hu(s)?[s.endTime,s.value]:_d(s)?[s.startTime,s.value]:xs(s)?[s.startTime+s.duration,s.values[s.values.length-1]]:[s.startTime,Al(u,t-1,s.startTime,o)],Zf=u=>u.type==="cancelAndHold",Qf=u=>u.type==="cancelScheduledValues",cu=u=>Zf(u)||Qf(u)?u.cancelTime:Qi(u)||yl(u)?u.endTime:u.startTime,mg=(u,t,s,{endTime:r,value:o})=>s===o?o:0<s&&0<o||s<0&&o<0?s*(o/s)**((u-t)/(r-t)):0,gg=(u,t,s,{endTime:r,value:o})=>s+(u-t)/(r-t)*(o-s),xC=(u,t)=>{const s=Math.floor(t),r=Math.ceil(t);return s===r?u[s]:(1-(t-s))*u[s]+(1-(r-t))*u[r]},wC=(u,{duration:t,startTime:s,values:r})=>{const o=(u-s)/t*(r.length-1);return xC(r,o)},ol=u=>u.type==="setTarget";class OC{constructor(t){this._automationEvents=[],this._currenTime=0,this._defaultValue=t}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(t){const s=cu(t);if(Zf(t)||Qf(t)){const r=this._automationEvents.findIndex(c=>Qf(t)&&xs(c)?c.startTime+c.duration>=s:cu(c)>=s),o=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),Zf(t)){const c=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&hu(o)){if(c!==void 0&&ol(c))throw new Error("The internal list is malformed.");const f=c===void 0?o.insertTime:xs(c)?c.startTime+c.duration:cu(c),d=c===void 0?this._defaultValue:xs(c)?c.values[c.values.length-1]:c.value,m=Qi(o)?mg(s,f,d,o):gg(s,f,d,o),p=Qi(o)?fg(m,s,this._currenTime):dg(m,s,this._currenTime);this._automationEvents.push(p)}if(c!==void 0&&ol(c)&&this._automationEvents.push(Xf(this.getValue(s),s)),c!==void 0&&xs(c)&&c.startTime+c.duration>s){const f=s-c.startTime,d=(c.values.length-1)/c.duration,m=Math.max(2,1+Math.ceil(f*d)),p=f/(m-1)*d,g=c.values.slice(0,m);if(p<1)for(let D=1;D<m;D+=1){const A=p*D%1;g[D]=c.values[D-1]*(1-A)+c.values[D]*A}this._automationEvents[this._automationEvents.length-1]=gD(g,c.startTime,f)}}}else{const r=this._automationEvents.findIndex(f=>cu(f)>s),o=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(o!==void 0&&xs(o)&&cu(o)+o.duration>s)return!1;const c=Qi(t)?fg(t.value,t.endTime,this._currenTime):yl(t)?dg(t.value,s,this._currenTime):t;if(r===-1)this._automationEvents.push(c);else{if(xs(t)&&s+t.duration>cu(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,c)}}return!0}flush(t){const s=this._automationEvents.findIndex(r=>cu(r)>t);if(s>1){const r=this._automationEvents.slice(s-1),o=r[0];ol(o)&&r.unshift(Xf(Al(this._automationEvents,s-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=r}}getValue(t){if(this._automationEvents.length===0)return this._defaultValue;const s=this._automationEvents.findIndex(f=>cu(f)>t),r=this._automationEvents[s],o=(s===-1?this._automationEvents.length:s)-1,c=this._automationEvents[o];if(c!==void 0&&ol(c)&&(r===void 0||!hu(r)||r.insertTime>t))return DD(t,Al(this._automationEvents,o-1,c.startTime,this._defaultValue),c);if(c!==void 0&&_d(c)&&(r===void 0||!hu(r)))return c.value;if(c!==void 0&&xs(c)&&(r===void 0||!hu(r)||c.startTime+c.duration>t))return t<c.startTime+c.duration?wC(t,c):c.values[c.values.length-1];if(c!==void 0&&hu(c)&&(r===void 0||!hu(r)))return c.value;if(r!==void 0&&Qi(r)){const[f,d]=pg(this._automationEvents,o,c,r,this._defaultValue);return mg(t,f,d,r)}if(r!==void 0&&yl(r)){const[f,d]=pg(this._automationEvents,o,c,r,this._defaultValue);return gg(t,f,d,r)}return this._defaultValue}}const BC=u=>({cancelTime:u,type:"cancelAndHold"}),NC=u=>({cancelTime:u,type:"cancelScheduledValues"}),RC=(u,t)=>({endTime:t,type:"exponentialRampToValue",value:u}),MC=(u,t)=>({endTime:t,type:"linearRampToValue",value:u}),IC=(u,t,s)=>({startTime:t,target:u,timeConstant:s,type:"setTarget"}),kC=()=>new DOMException("","AbortError"),LC=u=>(t,s,[r,o,c],f)=>{u(t[o],[s,r,c],d=>d[0]===s&&d[1]===r,f)},qC=u=>(t,s,r)=>{const o=[];for(let c=0;c<r.numberOfInputs;c+=1)o.push(new Set);u.set(t,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:s})},VC=u=>(t,s)=>{u.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:s})},tr=new WeakSet,yD=new WeakMap,Ed=new WeakMap,AD=new WeakMap,Cd=new WeakMap,sc=new WeakMap,vD=new WeakMap,Wf=new WeakMap,Kf=new WeakMap,$f=new WeakMap,_D={construct(){return _D}},UC=u=>{try{const t=new Proxy(u,_D);new t}catch{return!1}return!0},Dg=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,yg=(u,t)=>{const s=[];let r=u.replace(/^[\s]+/,""),o=r.match(Dg);for(;o!==null;){const c=o[1].slice(1,-1),f=o[0].replace(/([\s]+)?;?$/,"").replace(c,new URL(c,t).toString());s.push(f),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(Dg)}return[s.join(";"),r]},Ag=u=>{if(u!==void 0&&!Array.isArray(u))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},vg=u=>{if(!UC(u))throw new TypeError("The given value for processorCtor should be a constructor.");if(u.prototype===null||typeof u.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},zC=(u,t,s,r,o,c,f,d,m,p,g,D,A)=>{let E=0;return(_,C,b={credentials:"omit"})=>{const T=g.get(_);if(T!==void 0&&T.has(C))return Promise.resolve();const R=p.get(_);if(R!==void 0){const x=R.get(C);if(x!==void 0)return x}const z=c(_),Y=z.audioWorklet===void 0?o(C).then(([x,M])=>{const[I,B]=yg(x,M),X=`${I};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${B}
})})(window,'_AWGS')`;return s(X)}).then(()=>{const x=A._AWGS.pop();if(x===void 0)throw new SyntaxError;r(z.currentTime,z.sampleRate,()=>x(class{},void 0,(M,I)=>{if(M.trim()==="")throw t();const B=Kf.get(z);if(B!==void 0){if(B.has(M))throw t();vg(I),Ag(I.parameterDescriptors),B.set(M,I)}else vg(I),Ag(I.parameterDescriptors),Kf.set(z,new Map([[M,I]]))},z.sampleRate,void 0,void 0))}):Promise.all([o(C),Promise.resolve(u(D,D))]).then(([[x,M],I])=>{const B=E+1;E=B;const[X,G]=yg(x,M),st=`${X};((AudioWorkletProcessor,registerProcessor)=>{${G}
})(${I?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${I?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${I?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${B}',class extends AudioWorkletProcessor{process(){return !1}})`,J=new Blob([st],{type:"application/javascript; charset=utf-8"}),O=URL.createObjectURL(J);return z.audioWorklet.addModule(O,b).then(()=>{if(d(z))return z;const j=f(z);return j.audioWorklet.addModule(O,b).then(()=>j)}).then(j=>{if(m===null)throw new SyntaxError;try{new m(j,`__sac${B}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(O))});return R===void 0?p.set(_,new Map([[C,Y]])):R.set(C,Y),Y.then(()=>{const x=g.get(_);x===void 0?g.set(_,new Set([C])):x.add(C)}).finally(()=>{const x=p.get(_);x!==void 0&&x.delete(C)}),Y}},Yn=(u,t)=>{const s=u.get(t);if(s===void 0)throw new Error("A value with the given key could not be found.");return s},uc=(u,t)=>{const s=Array.from(u).filter(t);if(s.length>1)throw Error("More than one element was found.");if(s.length===0)throw Error("No element was found.");const[r]=s;return u.delete(r),r},ED=(u,t,s,r)=>{const o=Yn(u,t),c=uc(o,f=>f[0]===s&&f[1]===r);return o.size===0&&u.delete(t),c},ka=u=>Yn(vD,u),er=u=>{if(tr.has(u))throw new Error("The AudioNode is already stored.");tr.add(u),ka(u).forEach(t=>t(!0))},CD=u=>"port"in u,La=u=>{if(!tr.has(u))throw new Error("The AudioNode is not stored.");tr.delete(u),ka(u).forEach(t=>t(!1))},Jf=(u,t)=>{!CD(u)&&t.every(s=>s.size===0)&&La(u)},jC=(u,t,s,r,o,c,f,d,m,p,g,D,A)=>{const E=new WeakMap;return(_,C,b,T,R)=>{const{activeInputs:z,passiveInputs:Y}=c(C),{outputs:x}=c(_),M=d(_),I=B=>{const X=m(C),G=m(_);if(B){const Q=ED(Y,_,b,T);u(z,_,Q,!1),!R&&!D(_)&&s(G,X,b,T),A(C)&&er(C)}else{const Q=r(z,_,b,T);t(Y,T,Q,!1),!R&&!D(_)&&o(G,X,b,T);const P=f(C);if(P===0)g(C)&&Jf(C,z);else{const nt=E.get(C);nt!==void 0&&clearTimeout(nt),E.set(C,setTimeout(()=>{g(C)&&Jf(C,z)},P*1e3))}}};return p(x,[C,b,T],B=>B[0]===C&&B[1]===b&&B[2]===T,!0)?(M.add(I),g(_)?u(z,_,[b,T,I],!0):t(Y,T,[_,b,I],!0),!0):!1}},GC=u=>(t,s,[r,o,c],f)=>{const d=t.get(r);d===void 0?t.set(r,new Set([[o,s,c]])):u(d,[o,s,c],m=>m[0]===o&&m[1]===s,f)},PC=u=>(t,s)=>{const r=u(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.connect(r).connect(t.destination);const o=()=>{s.removeEventListener("ended",o),s.disconnect(r),r.disconnect()};s.addEventListener("ended",o)},HC=u=>(t,s)=>{u(t).add(s)},YC={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},XC=(u,t,s,r,o,c)=>class extends u{constructor(d,m){const p=o(d),g={...YC,...m},D=r(p,g),A=c(p)?t():null;super(d,!1,D,A),this._nativeAnalyserNode=D}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(d){this._nativeAnalyserNode.fftSize=d}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(d){const m=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=d,!(d>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=m,s()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(d){const m=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=d,!(this._nativeAnalyserNode.maxDecibels>d))throw this._nativeAnalyserNode.minDecibels=m,s()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(d){this._nativeAnalyserNode.smoothingTimeConstant=d}getByteFrequencyData(d){this._nativeAnalyserNode.getByteFrequencyData(d)}getByteTimeDomainData(d){this._nativeAnalyserNode.getByteTimeDomainData(d)}getFloatFrequencyData(d){this._nativeAnalyserNode.getFloatFrequencyData(d)}getFloatTimeDomainData(d){this._nativeAnalyserNode.getFloatTimeDomainData(d)}},Ve=(u,t)=>u.context===t,ZC=(u,t,s)=>()=>{const r=new WeakMap,o=async(c,f)=>{let d=t(c);if(!Ve(d,f)){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,fftSize:d.fftSize,maxDecibels:d.maxDecibels,minDecibels:d.minDecibels,smoothingTimeConstant:d.smoothingTimeConstant};d=u(f,p)}return r.set(f,d),await s(c,f,d),d};return{render(c,f){const d=r.get(f);return d!==void 0?Promise.resolve(d):o(c,f)}}},vl=u=>{try{u.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},os=()=>new DOMException("","IndexSizeError"),bd=u=>{u.getChannelData=(t=>s=>{try{return t.call(u,s)}catch(r){throw r.code===12?os():r}})(u.getChannelData)},QC={numberOfChannels:1},WC=(u,t,s,r,o,c,f,d)=>{let m=null;return class bD{constructor(g){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:D,numberOfChannels:A,sampleRate:E}={...QC,...g};m===null&&(m=new o(1,1,44100));const _=r!==null&&t(c,c)?new r({length:D,numberOfChannels:A,sampleRate:E}):m.createBuffer(A,D,E);if(_.numberOfChannels===0)throw s();return typeof _.copyFromChannel!="function"?(f(_),bd(_)):t(vl,()=>vl(_))||d(_),u.add(_),_}static[Symbol.hasInstance](g){return g!==null&&typeof g=="object"&&Object.getPrototypeOf(g)===bD.prototype||u.has(g)}}},un=-34028234663852886e22,He=-un,ws=u=>tr.has(u),KC={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},$C=(u,t,s,r,o,c,f,d)=>class extends u{constructor(p,g){const D=c(p),A={...KC,...g},E=o(D,A),_=f(D),C=_?t():null;super(p,!1,E,C),this._audioBufferSourceNodeRenderer=C,this._isBufferNullified=!1,this._isBufferSet=A.buffer!==null,this._nativeAudioBufferSourceNode=E,this._onended=null,this._playbackRate=s(this,_,E.playbackRate,He,un)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(p){if(this._nativeAudioBufferSourceNode.buffer=p,p!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(p){this._nativeAudioBufferSourceNode.loop=p}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(p){this._nativeAudioBufferSourceNode.loopEnd=p}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(p){this._nativeAudioBufferSourceNode.loopStart=p}get onended(){return this._onended}set onended(p){const g=typeof p=="function"?d(this,p):null;this._nativeAudioBufferSourceNode.onended=g;const D=this._nativeAudioBufferSourceNode.onended;this._onended=D!==null&&D===g?p:D}get playbackRate(){return this._playbackRate}start(p=0,g=0,D){if(this._nativeAudioBufferSourceNode.start(p,g,D),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=D===void 0?[p,g]:[p,g,D]),this.context.state!=="closed"){er(this);const A=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",A),ws(this)&&La(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",A)}}stop(p=0){this._nativeAudioBufferSourceNode.stop(p),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=p)}},JC=(u,t,s,r,o)=>()=>{const c=new WeakMap;let f=null,d=null;const m=async(p,g)=>{let D=s(p);const A=Ve(D,g);if(!A){const E={buffer:D.buffer,channelCount:D.channelCount,channelCountMode:D.channelCountMode,channelInterpretation:D.channelInterpretation,loop:D.loop,loopEnd:D.loopEnd,loopStart:D.loopStart,playbackRate:D.playbackRate.value};D=t(g,E),f!==null&&D.start(...f),d!==null&&D.stop(d)}return c.set(g,D),A?await u(g,p.playbackRate,D.playbackRate):await r(g,p.playbackRate,D.playbackRate),await o(p,g,D),D};return{set start(p){f=p},set stop(p){d=p},render(p,g){const D=c.get(g);return D!==void 0?Promise.resolve(D):m(p,g)}}},tb=u=>"playbackRate"in u,eb=u=>"frequency"in u&&"gain"in u,nb=u=>"offset"in u,sb=u=>!("frequency"in u)&&"gain"in u,ub=u=>"detune"in u&&"frequency"in u&&!("gain"in u),ib=u=>"pan"in u,Ye=u=>Yn(yD,u),qa=u=>Yn(AD,u),td=(u,t)=>{const{activeInputs:s}=Ye(u);s.forEach(o=>o.forEach(([c])=>{t.includes(u)||td(c,[...t,u])}));const r=tb(u)?[u.playbackRate]:CD(u)?Array.from(u.parameters.values()):eb(u)?[u.Q,u.detune,u.frequency,u.gain]:nb(u)?[u.offset]:sb(u)?[u.gain]:ub(u)?[u.detune,u.frequency]:ib(u)?[u.pan]:[];for(const o of r){const c=qa(o);c!==void 0&&c.activeInputs.forEach(([f])=>td(f,t))}ws(u)&&La(u)},SD=u=>{td(u.destination,[])},rb=u=>u===void 0||typeof u=="number"||typeof u=="string"&&(u==="balanced"||u==="interactive"||u==="playback"),ab=(u,t,s,r,o,c,f,d,m)=>class extends u{constructor(g={}){if(m===null)throw new Error("Missing the native AudioContext constructor.");let D;try{D=new m(g)}catch(_){throw _.code===12&&_.message==="sampleRate is not in range"?s():_}if(D===null)throw r();if(!rb(g.latencyHint))throw new TypeError(`The provided value '${g.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(g.sampleRate!==void 0&&D.sampleRate!==g.sampleRate)throw s();super(D,2);const{latencyHint:A}=g,{sampleRate:E}=D;if(this._baseLatency=typeof D.baseLatency=="number"?D.baseLatency:A==="balanced"?512/E:A==="interactive"||A===void 0?256/E:A==="playback"?1024/E:Math.max(2,Math.min(128,Math.round(A*E/128)))*128/E,this._nativeAudioContext=D,m.name==="webkitAudioContext"?(this._nativeGainNode=D.createGain(),this._nativeOscillatorNode=D.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(D.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,D.state==="running"){this._state="suspended";const _=()=>{this._state==="suspended"&&(this._state=null),D.removeEventListener("statechange",_)};D.addEventListener("statechange",_)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),SD(this)}))}createMediaElementSource(g){return new o(this,{mediaElement:g})}createMediaStreamDestination(){return new c(this)}createMediaStreamSource(g){return new f(this,{mediaStream:g})}createMediaStreamTrackSource(g){return new d(this,{mediaStreamTrack:g})}resume(){return this._state==="suspended"?new Promise((g,D)=>{const A=()=>{this._nativeAudioContext.removeEventListener("statechange",A),this._nativeAudioContext.state==="running"?g():this.resume().then(g,D)};this._nativeAudioContext.addEventListener("statechange",A)}):this._nativeAudioContext.resume().catch(g=>{throw g===void 0||g.code===15?t():g})}suspend(){return this._nativeAudioContext.suspend().catch(g=>{throw g===void 0?t():g})}},ob=(u,t,s,r,o,c,f,d)=>class extends u{constructor(p,g){const D=c(p),A=f(D),E=o(D,g,A),_=A?t(d):null;super(p,!1,E,_),this._isNodeOfNativeOfflineAudioContext=A,this._nativeAudioDestinationNode=E}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(p){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(p>this._nativeAudioDestinationNode.maxChannelCount)throw s();this._nativeAudioDestinationNode.channelCount=p}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(p){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=p}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},lb=u=>{const t=new WeakMap,s=async(r,o)=>{const c=o.destination;return t.set(o,c),await u(r,o,c),c};return{render(r,o){const c=t.get(o);return c!==void 0?Promise.resolve(c):s(r,o)}}},cb=(u,t,s,r,o,c,f,d)=>(m,p)=>{const g=p.listener,D=()=>{const x=new Float32Array(1),M=t(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),I=f(p);let B=!1,X=[0,0,-1,0,1,0],G=[0,0,0];const Q=()=>{if(B)return;B=!0;const J=r(p,256,9,0);J.onaudioprocess=({inputBuffer:O})=>{const j=[c(O,x,0),c(O,x,1),c(O,x,2),c(O,x,3),c(O,x,4),c(O,x,5)];j.some((ut,S)=>ut!==X[S])&&(g.setOrientation(...j),X=j);const tt=[c(O,x,6),c(O,x,7),c(O,x,8)];tt.some((ut,S)=>ut!==G[S])&&(g.setPosition(...tt),G=tt)},M.connect(J)},P=J=>O=>{O!==X[J]&&(X[J]=O,g.setOrientation(...X))},nt=J=>O=>{O!==G[J]&&(G[J]=O,g.setPosition(...G))},st=(J,O,j)=>{const tt=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:O});tt.connect(M,0,J),tt.start(),Object.defineProperty(tt.offset,"defaultValue",{get(){return O}});const ut=u({context:m},I,tt.offset,He,un);return d(ut,"value",S=>()=>S.call(ut),S=>L=>{try{S.call(ut,L)}catch(K){if(K.code!==9)throw K}Q(),I&&j(L)}),ut.cancelAndHoldAtTime=(S=>I?()=>{throw o()}:(...L)=>{const K=S.apply(ut,L);return Q(),K})(ut.cancelAndHoldAtTime),ut.cancelScheduledValues=(S=>I?()=>{throw o()}:(...L)=>{const K=S.apply(ut,L);return Q(),K})(ut.cancelScheduledValues),ut.exponentialRampToValueAtTime=(S=>I?()=>{throw o()}:(...L)=>{const K=S.apply(ut,L);return Q(),K})(ut.exponentialRampToValueAtTime),ut.linearRampToValueAtTime=(S=>I?()=>{throw o()}:(...L)=>{const K=S.apply(ut,L);return Q(),K})(ut.linearRampToValueAtTime),ut.setTargetAtTime=(S=>I?()=>{throw o()}:(...L)=>{const K=S.apply(ut,L);return Q(),K})(ut.setTargetAtTime),ut.setValueAtTime=(S=>I?()=>{throw o()}:(...L)=>{const K=S.apply(ut,L);return Q(),K})(ut.setValueAtTime),ut.setValueCurveAtTime=(S=>I?()=>{throw o()}:(...L)=>{const K=S.apply(ut,L);return Q(),K})(ut.setValueCurveAtTime),ut};return{forwardX:st(0,0,P(0)),forwardY:st(1,0,P(1)),forwardZ:st(2,-1,P(2)),positionX:st(6,0,nt(0)),positionY:st(7,0,nt(1)),positionZ:st(8,0,nt(2)),upX:st(3,0,P(3)),upY:st(4,1,P(4)),upZ:st(5,0,P(5))}},{forwardX:A,forwardY:E,forwardZ:_,positionX:C,positionY:b,positionZ:T,upX:R,upY:z,upZ:Y}=g.forwardX===void 0?D():g;return{get forwardX(){return A},get forwardY(){return E},get forwardZ(){return _},get positionX(){return C},get positionY(){return b},get positionZ(){return T},get upX(){return R},get upY(){return z},get upZ(){return Y}}},_l=u=>"context"in u,Va=u=>_l(u[0]),ui=(u,t,s,r)=>{for(const o of u)if(s(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return u.add(t),!0},_g=(u,t,[s,r],o)=>{ui(u,[t,s,r],c=>c[0]===t&&c[1]===s,o)},Eg=(u,[t,s,r],o)=>{const c=u.get(t);c===void 0?u.set(t,new Set([[s,r]])):ui(c,[s,r],f=>f[0]===s,o)},ar=u=>"inputs"in u,El=(u,t,s,r)=>{if(ar(t)){const o=t.inputs[r];return u.connect(o,s,0),[o,s,0]}return u.connect(t,s,r),[t,s,r]},TD=(u,t,s)=>{for(const r of u)if(r[0]===t&&r[1]===s)return u.delete(r),r;return null},hb=(u,t,s)=>uc(u,r=>r[0]===t&&r[1]===s),FD=(u,t)=>{if(!ka(u).delete(t))throw new Error("Missing the expected event listener.")},xD=(u,t,s)=>{const r=Yn(u,t),o=uc(r,c=>c[0]===s);return r.size===0&&u.delete(t),o},Cl=(u,t,s,r)=>{ar(t)?u.disconnect(t.inputs[r],s,0):u.disconnect(t,s,r)},Wt=u=>Yn(Ed,u),_a=u=>Yn(Cd,u),Zu=u=>Wf.has(u),dl=u=>!tr.has(u),Cg=(u,t)=>new Promise(s=>{if(t!==null)s(!0);else{const r=u.createScriptProcessor(256,1,1),o=u.createGain(),c=u.createBuffer(1,2,44100),f=c.getChannelData(0);f[0]=1,f[1]=1;const d=u.createBufferSource();d.buffer=c,d.loop=!0,d.connect(r).connect(u.destination),d.connect(o),d.disconnect(o),r.onaudioprocess=m=>{const p=m.inputBuffer.getChannelData(0);Array.prototype.some.call(p,g=>g===1)?s(!0):s(!1),d.stop(),r.onaudioprocess=null,d.disconnect(r),r.disconnect(u.destination)},d.start()}}),qf=(u,t)=>{const s=new Map;for(const r of u)for(const o of r){const c=s.get(o);s.set(o,c===void 0?1:c+1)}s.forEach((r,o)=>t(o,r))},bl=u=>"context"in u,fb=u=>{const t=new Map;u.connect=(s=>(r,o=0,c=0)=>{const f=bl(r)?s(r,o,c):s(r,o),d=t.get(r);return d===void 0?t.set(r,[{input:c,output:o}]):d.every(m=>m.input!==c||m.output!==o)&&d.push({input:c,output:o}),f})(u.connect.bind(u)),u.disconnect=(s=>(r,o,c)=>{if(s.apply(u),r===void 0)t.clear();else if(typeof r=="number")for(const[f,d]of t){const m=d.filter(p=>p.output!==r);m.length===0?t.delete(f):t.set(f,m)}else if(t.has(r))if(o===void 0)t.delete(r);else{const f=t.get(r);if(f!==void 0){const d=f.filter(m=>m.output!==o&&(m.input!==c||c===void 0));d.length===0?t.delete(r):t.set(r,d)}}for(const[f,d]of t)d.forEach(m=>{bl(f)?u.connect(f,m.output,m.input):u.connect(f,m.output)})})(u.disconnect)},db=(u,t,s,r)=>{const{activeInputs:o,passiveInputs:c}=qa(t),{outputs:f}=Ye(u),d=ka(u),m=p=>{const g=Wt(u),D=_a(t);if(p){const A=xD(c,u,s);_g(o,u,A,!1),!r&&!Zu(u)&&g.connect(D,s)}else{const A=hb(o,u,s);Eg(c,A,!1),!r&&!Zu(u)&&g.disconnect(D,s)}};return ui(f,[t,s],p=>p[0]===t&&p[1]===s,!0)?(d.add(m),ws(u)?_g(o,u,[s,m],!0):Eg(c,[u,s,m],!0),!0):!1},pb=(u,t,s,r)=>{const{activeInputs:o,passiveInputs:c}=Ye(t),f=TD(o[r],u,s);return f===null?[ED(c,u,s,r)[2],!1]:[f[2],!0]},mb=(u,t,s)=>{const{activeInputs:r,passiveInputs:o}=qa(t),c=TD(r,u,s);return c===null?[xD(o,u,s)[1],!1]:[c[2],!0]},Sd=(u,t,s,r,o)=>{const[c,f]=pb(u,s,r,o);if(c!==null&&(FD(u,c),f&&!t&&!Zu(u)&&Cl(Wt(u),Wt(s),r,o)),ws(s)){const{activeInputs:d}=Ye(s);Jf(s,d)}},Td=(u,t,s,r)=>{const[o,c]=mb(u,s,r);o!==null&&(FD(u,o),c&&!t&&!Zu(u)&&Wt(u).disconnect(_a(s),r))},gb=(u,t)=>{const s=Ye(u),r=[];for(const o of s.outputs)Va(o)?Sd(u,t,...o):Td(u,t,...o),r.push(o[0]);return s.outputs.clear(),r},Db=(u,t,s)=>{const r=Ye(u),o=[];for(const c of r.outputs)c[1]===s&&(Va(c)?Sd(u,t,...c):Td(u,t,...c),o.push(c[0]),r.outputs.delete(c));return o},yb=(u,t,s,r,o)=>{const c=Ye(u);return Array.from(c.outputs).filter(f=>f[0]===s&&(r===void 0||f[1]===r)&&(o===void 0||f[2]===o)).map(f=>(Va(f)?Sd(u,t,...f):Td(u,t,...f),c.outputs.delete(f),f[0]))},Ab=(u,t,s,r,o,c,f,d,m,p,g,D,A,E,_,C)=>class extends p{constructor(T,R,z,Y){super(z),this._context=T,this._nativeAudioNode=z;const x=g(T);D(x)&&s(Cg,()=>Cg(x,C))!==!0&&fb(z),Ed.set(this,z),vD.set(this,new Set),T.state!=="closed"&&R&&er(this),u(this,Y,z)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(T){this._nativeAudioNode.channelCount=T}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(T){this._nativeAudioNode.channelCountMode=T}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(T){this._nativeAudioNode.channelInterpretation=T}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(T,R=0,z=0){if(R<0||R>=this._nativeAudioNode.numberOfOutputs)throw o();const Y=g(this._context),x=_(Y);if(A(T)||E(T))throw c();if(_l(T)){const B=Wt(T);try{const G=El(this._nativeAudioNode,B,R,z),Q=dl(this);(x||Q)&&this._nativeAudioNode.disconnect(...G),this.context.state!=="closed"&&!Q&&dl(T)&&er(T)}catch(G){throw G.code===12?c():G}if(t(this,T,R,z,x)){const G=m([this],T);qf(G,r(x))}return T}const M=_a(T);if(M.name==="playbackRate"&&M.maxValue===1024)throw f();try{this._nativeAudioNode.connect(M,R),(x||dl(this))&&this._nativeAudioNode.disconnect(M,R)}catch(B){throw B.code===12?c():B}if(db(this,T,R,x)){const B=m([this],T);qf(B,r(x))}}disconnect(T,R,z){let Y;const x=g(this._context),M=_(x);if(T===void 0)Y=gb(this,M);else if(typeof T=="number"){if(T<0||T>=this.numberOfOutputs)throw o();Y=Db(this,M,T)}else{if(R!==void 0&&(R<0||R>=this.numberOfOutputs)||_l(T)&&z!==void 0&&(z<0||z>=T.numberOfInputs))throw o();if(Y=yb(this,M,T,R,z),Y.length===0)throw c()}for(const I of Y){const B=m([this],I);qf(B,d)}}},vb=(u,t,s,r,o,c,f,d,m,p,g,D,A)=>(E,_,C,b=null,T=null)=>{const R=C.value,z=new OC(R),Y=_?r(z):null,x={get defaultValue(){return R},get maxValue(){return b===null?C.maxValue:b},get minValue(){return T===null?C.minValue:T},get value(){return C.value},set value(M){C.value=M,x.setValueAtTime(M,E.context.currentTime)},cancelAndHoldAtTime(M){if(typeof C.cancelAndHoldAtTime=="function")Y===null&&z.flush(E.context.currentTime),z.add(o(M)),C.cancelAndHoldAtTime(M);else{const I=Array.from(z).pop();Y===null&&z.flush(E.context.currentTime),z.add(o(M));const B=Array.from(z).pop();C.cancelScheduledValues(M),I!==B&&B!==void 0&&(B.type==="exponentialRampToValue"?C.exponentialRampToValueAtTime(B.value,B.endTime):B.type==="linearRampToValue"?C.linearRampToValueAtTime(B.value,B.endTime):B.type==="setValue"?C.setValueAtTime(B.value,B.startTime):B.type==="setValueCurve"&&C.setValueCurveAtTime(B.values,B.startTime,B.duration))}return x},cancelScheduledValues(M){return Y===null&&z.flush(E.context.currentTime),z.add(c(M)),C.cancelScheduledValues(M),x},exponentialRampToValueAtTime(M,I){if(M===0)throw new RangeError;if(!Number.isFinite(I)||I<0)throw new RangeError;const B=E.context.currentTime;return Y===null&&z.flush(B),Array.from(z).length===0&&(z.add(p(R,B)),C.setValueAtTime(R,B)),z.add(f(M,I)),C.exponentialRampToValueAtTime(M,I),x},linearRampToValueAtTime(M,I){const B=E.context.currentTime;return Y===null&&z.flush(B),Array.from(z).length===0&&(z.add(p(R,B)),C.setValueAtTime(R,B)),z.add(d(M,I)),C.linearRampToValueAtTime(M,I),x},setTargetAtTime(M,I,B){return Y===null&&z.flush(E.context.currentTime),z.add(m(M,I,B)),C.setTargetAtTime(M,I,B),x},setValueAtTime(M,I){return Y===null&&z.flush(E.context.currentTime),z.add(p(M,I)),C.setValueAtTime(M,I),x},setValueCurveAtTime(M,I,B){const X=M instanceof Float32Array?M:new Float32Array(M);if(D!==null&&D.name==="webkitAudioContext"){const G=I+B,Q=E.context.sampleRate,P=Math.ceil(I*Q),nt=Math.floor(G*Q),st=nt-P,J=new Float32Array(st);for(let j=0;j<st;j+=1){const tt=(X.length-1)/B*((P+j)/Q-I),ut=Math.floor(tt),S=Math.ceil(tt);J[j]=ut===S?X[ut]:(1-(tt-ut))*X[ut]+(1-(S-tt))*X[S]}Y===null&&z.flush(E.context.currentTime),z.add(g(J,I,B)),C.setValueCurveAtTime(J,I,B);const O=nt/Q;O<G&&A(x,J[J.length-1],O),A(x,X[X.length-1],G)}else Y===null&&z.flush(E.context.currentTime),z.add(g(X,I,B)),C.setValueCurveAtTime(X,I,B);return x}};return s.set(x,C),t.set(x,E),u(x,Y),x},_b=u=>({replay(t){for(const s of u)if(s.type==="exponentialRampToValue"){const{endTime:r,value:o}=s;t.exponentialRampToValueAtTime(o,r)}else if(s.type==="linearRampToValue"){const{endTime:r,value:o}=s;t.linearRampToValueAtTime(o,r)}else if(s.type==="setTarget"){const{startTime:r,target:o,timeConstant:c}=s;t.setTargetAtTime(o,r,c)}else if(s.type==="setValue"){const{startTime:r,value:o}=s;t.setValueAtTime(o,r)}else if(s.type==="setValueCurve"){const{duration:r,startTime:o,values:c}=s;t.setValueCurveAtTime(c,o,r)}else throw new Error("Can't apply an unknown automation.")}});class wD{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,s=null){return this._map.forEach((r,o)=>t.call(s,r,o,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const Eb={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Cb=(u,t,s,r,o,c,f,d,m,p,g,D,A,E)=>class extends t{constructor(C,b,T){var R;const z=d(C),Y=m(z),x=g({...Eb,...T});A(x);const M=Kf.get(z),I=M?.get(b),B=Y||z.state!=="closed"?z:(R=f(z))!==null&&R!==void 0?R:z,X=o(B,Y?null:C.baseLatency,p,b,I,x),G=Y?r(b,x,I):null;super(C,!0,X,G);const Q=[];X.parameters.forEach((nt,st)=>{const J=s(this,Y,nt);Q.push([st,J])}),this._nativeAudioWorkletNode=X,this._onprocessorerror=null,this._parameters=new wD(Q),Y&&u(z,this);const{activeInputs:P}=c(this);D(X,P)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(C){const b=typeof C=="function"?E(this,C):null;this._nativeAudioWorkletNode.onprocessorerror=b;const T=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=T!==null&&T===b?C:T}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Sl(u,t,s,r,o){if(typeof u.copyFromChannel=="function")t[s].byteLength===0&&(t[s]=new Float32Array(128)),u.copyFromChannel(t[s],r,o);else{const c=u.getChannelData(r);if(t[s].byteLength===0)t[s]=c.slice(o,o+128);else{const f=new Float32Array(c.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);t[s].set(f)}}}const OD=(u,t,s,r,o)=>{typeof u.copyToChannel=="function"?t[s].byteLength!==0&&u.copyToChannel(t[s],r,o):t[s].byteLength!==0&&u.getChannelData(r).set(t[s],o)},Tl=(u,t)=>{const s=[];for(let r=0;r<u;r+=1){const o=[],c=typeof t=="number"?t:t[r];for(let f=0;f<c;f+=1)o.push(new Float32Array(128));s.push(o)}return s},bb=(u,t)=>{const s=Yn($f,u),r=Wt(t);return Yn(s,r)},Sb=async(u,t,s,r,o,c,f)=>{const d=t===null?Math.ceil(u.context.length/128)*128:t.length,m=r.channelCount*r.numberOfInputs,p=o.reduce((b,T)=>b+T,0),g=p===0?null:s.createBuffer(p,d,s.sampleRate);if(c===void 0)throw new Error("Missing the processor constructor.");const D=Ye(u),A=await bb(s,u),E=Tl(r.numberOfInputs,r.channelCount),_=Tl(r.numberOfOutputs,o),C=Array.from(u.parameters.keys()).reduce((b,T)=>({...b,[T]:new Float32Array(128)}),{});for(let b=0;b<d;b+=128){if(r.numberOfInputs>0&&t!==null)for(let T=0;T<r.numberOfInputs;T+=1)for(let R=0;R<r.channelCount;R+=1)Sl(t,E[T],R,R,b);c.parameterDescriptors!==void 0&&t!==null&&c.parameterDescriptors.forEach(({name:T},R)=>{Sl(t,C,T,m+R,b)});for(let T=0;T<r.numberOfInputs;T+=1)for(let R=0;R<o[T];R+=1)_[T][R].byteLength===0&&(_[T][R]=new Float32Array(128));try{const T=E.map((z,Y)=>D.activeInputs[Y].size===0?[]:z),R=f(b/s.sampleRate,s.sampleRate,()=>A.process(T,_,C));if(g!==null)for(let z=0,Y=0;z<r.numberOfOutputs;z+=1){for(let x=0;x<o[z];x+=1)OD(g,_[z],x,Y+x,b);Y+=o[z]}if(!R)break}catch(T){u.dispatchEvent(new ErrorEvent("processorerror",{colno:T.colno,filename:T.filename,lineno:T.lineno,message:T.message}));break}}return g},Tb=(u,t,s,r,o,c,f,d,m,p,g,D,A,E,_,C)=>(b,T,R)=>{const z=new WeakMap;let Y=null;const x=async(M,I)=>{let B=g(M),X=null;const G=Ve(B,I),Q=Array.isArray(T.outputChannelCount)?T.outputChannelCount:Array.from(T.outputChannelCount);if(D===null){const P=Q.reduce((O,j)=>O+j,0),nt=o(I,{channelCount:Math.max(1,P),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,P)}),st=[];for(let O=0;O<M.numberOfOutputs;O+=1)st.push(r(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Q[O]}));const J=f(I,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1});J.connect=t.bind(null,st),J.disconnect=m.bind(null,st),X=[nt,st,J]}else G||(B=new D(I,b));if(z.set(I,X===null?B:X[2]),X!==null){if(Y===null){if(R===void 0)throw new Error("Missing the processor constructor.");if(A===null)throw new Error("Missing the native OfflineAudioContext constructor.");const j=M.channelCount*M.numberOfInputs,tt=R.parameterDescriptors===void 0?0:R.parameterDescriptors.length,ut=j+tt;Y=Sb(M,ut===0?null:await(async()=>{const L=new A(ut,Math.ceil(M.context.length/128)*128,I.sampleRate),K=[],et=[];for(let lt=0;lt<T.numberOfInputs;lt+=1)K.push(f(L,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1})),et.push(o(L,{channelCount:T.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:T.channelCount}));const at=await Promise.all(Array.from(M.parameters.values()).map(async lt=>{const It=c(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:lt.value});return await E(L,lt,It.offset),It})),ot=r(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,j+tt)});for(let lt=0;lt<T.numberOfInputs;lt+=1){K[lt].connect(et[lt]);for(let It=0;It<T.channelCount;It+=1)et[lt].connect(ot,It,lt*T.channelCount+It)}for(const[lt,It]of at.entries())It.connect(ot,0,j+lt),It.start(0);return ot.connect(L.destination),await Promise.all(K.map(lt=>_(M,L,lt))),C(L)})(),I,T,Q,R,p)}const P=await Y,nt=s(I,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[st,J,O]=X;P!==null&&(nt.buffer=P,nt.start(0)),nt.connect(st);for(let j=0,tt=0;j<M.numberOfOutputs;j+=1){const ut=J[j];for(let S=0;S<Q[j];S+=1)st.connect(ut,tt+S,S);tt+=Q[j]}return O}if(G)for(const[P,nt]of M.parameters.entries())await u(I,nt,B.parameters.get(P));else for(const[P,nt]of M.parameters.entries())await E(I,nt,B.parameters.get(P));return await _(M,I,B),B};return{render(M,I){d(I,M);const B=z.get(I);return B!==void 0?Promise.resolve(B):x(M,I)}}},Fb=(u,t,s,r,o,c,f,d,m,p,g,D,A,E,_,C,b,T,R,z)=>class extends _{constructor(x,M){super(x,M),this._nativeContext=x,this._audioWorklet=u===void 0?void 0:{addModule:(I,B)=>u(this,I,B)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new o(this)}createBuffer(x,M,I){return new s({length:M,numberOfChannels:x,sampleRate:I})}createBufferSource(){return new r(this)}createChannelMerger(x=6){return new c(this,{numberOfInputs:x})}createChannelSplitter(x=6){return new f(this,{numberOfOutputs:x})}createConstantSource(){return new d(this)}createConvolver(){return new m(this)}createDelay(x=1){return new g(this,{maxDelayTime:x})}createDynamicsCompressor(){return new D(this)}createGain(){return new A(this)}createIIRFilter(x,M){return new E(this,{feedback:M,feedforward:x})}createOscillator(){return new C(this)}createPanner(){return new b(this)}createPeriodicWave(x,M,I={disableNormalization:!1}){return new T(this,{...I,imag:M,real:x})}createStereoPanner(){return new R(this)}createWaveShaper(){return new z(this)}decodeAudioData(x,M,I){return p(this._nativeContext,x).then(B=>(typeof M=="function"&&M(B),B),B=>{throw typeof I=="function"&&I(B),B})}},xb={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},wb=(u,t,s,r,o,c,f,d)=>class extends u{constructor(p,g){const D=c(p),A={...xb,...g},E=o(D,A),_=f(D),C=_?s():null;super(p,!1,E,C),this._Q=t(this,_,E.Q,He,un),this._detune=t(this,_,E.detune,1200*Math.log2(He),-1200*Math.log2(He)),this._frequency=t(this,_,E.frequency,p.sampleRate/2,0),this._gain=t(this,_,E.gain,40*Math.log10(He),un),this._nativeBiquadFilterNode=E,d(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(p){this._nativeBiquadFilterNode.type=p}getFrequencyResponse(p,g,D){try{this._nativeBiquadFilterNode.getFrequencyResponse(p,g,D)}catch(A){throw A.code===11?r():A}if(p.length!==g.length||g.length!==D.length)throw r()}},Ob=(u,t,s,r,o)=>()=>{const c=new WeakMap,f=async(d,m)=>{let p=s(d);const g=Ve(p,m);if(!g){const D={Q:p.Q.value,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,detune:p.detune.value,frequency:p.frequency.value,gain:p.gain.value,type:p.type};p=t(m,D)}return c.set(m,p),g?(await u(m,d.Q,p.Q),await u(m,d.detune,p.detune),await u(m,d.frequency,p.frequency),await u(m,d.gain,p.gain)):(await r(m,d.Q,p.Q),await r(m,d.detune,p.detune),await r(m,d.frequency,p.frequency),await r(m,d.gain,p.gain)),await o(d,m,p),p};return{render(d,m){const p=c.get(m);return p!==void 0?Promise.resolve(p):f(d,m)}}},Bb=(u,t)=>(s,r)=>{const o=t.get(s);if(o!==void 0)return o;const c=u.get(s);if(c!==void 0)return c;try{const f=r();return f instanceof Promise?(u.set(s,f),f.catch(()=>!1).then(d=>(u.delete(s),t.set(s,d),d))):(t.set(s,f),f)}catch{return t.set(s,!1),!1}},Nb={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Rb=(u,t,s,r,o)=>class extends u{constructor(f,d){const m=r(f),p={...Nb,...d},g=s(m,p),D=o(m)?t():null;super(f,!1,g,D)}},Mb=(u,t,s)=>()=>{const r=new WeakMap,o=async(c,f)=>{let d=t(c);if(!Ve(d,f)){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,numberOfInputs:d.numberOfInputs};d=u(f,p)}return r.set(f,d),await s(c,f,d),d};return{render(c,f){const d=r.get(f);return d!==void 0?Promise.resolve(d):o(c,f)}}},Ib={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},kb=(u,t,s,r,o,c)=>class extends u{constructor(d,m){const p=r(d),g=c({...Ib,...m}),D=s(p,g),A=o(p)?t():null;super(d,!1,D,A)}},Lb=(u,t,s)=>()=>{const r=new WeakMap,o=async(c,f)=>{let d=t(c);if(!Ve(d,f)){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,numberOfOutputs:d.numberOfOutputs};d=u(f,p)}return r.set(f,d),await s(c,f,d),d};return{render(c,f){const d=r.get(f);return d!==void 0?Promise.resolve(d):o(c,f)}}},qb=u=>(t,s,r)=>u(s,t,r),Vb=u=>(t,s,r=0,o=0)=>{const c=t[r];if(c===void 0)throw u();return bl(s)?c.connect(s,0,o):c.connect(s,0)},Ub=u=>(t,s)=>{const r=u(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=t.createBuffer(1,2,44100);return r.buffer=o,r.loop=!0,r.connect(s),r.start(),()=>{r.stop(),r.disconnect(s)}},zb={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},jb=(u,t,s,r,o,c,f)=>class extends u{constructor(m,p){const g=o(m),D={...zb,...p},A=r(g,D),E=c(g),_=E?s():null;super(m,!1,A,_),this._constantSourceNodeRenderer=_,this._nativeConstantSourceNode=A,this._offset=t(this,E,A.offset,He,un),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(m){const p=typeof m=="function"?f(this,m):null;this._nativeConstantSourceNode.onended=p;const g=this._nativeConstantSourceNode.onended;this._onended=g!==null&&g===p?m:g}start(m=0){if(this._nativeConstantSourceNode.start(m),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=m),this.context.state!=="closed"){er(this);const p=()=>{this._nativeConstantSourceNode.removeEventListener("ended",p),ws(this)&&La(this)};this._nativeConstantSourceNode.addEventListener("ended",p)}}stop(m=0){this._nativeConstantSourceNode.stop(m),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=m)}},Gb=(u,t,s,r,o)=>()=>{const c=new WeakMap;let f=null,d=null;const m=async(p,g)=>{let D=s(p);const A=Ve(D,g);if(!A){const E={channelCount:D.channelCount,channelCountMode:D.channelCountMode,channelInterpretation:D.channelInterpretation,offset:D.offset.value};D=t(g,E),f!==null&&D.start(f),d!==null&&D.stop(d)}return c.set(g,D),A?await u(g,p.offset,D.offset):await r(g,p.offset,D.offset),await o(p,g,D),D};return{set start(p){f=p},set stop(p){d=p},render(p,g){const D=c.get(g);return D!==void 0?Promise.resolve(D):m(p,g)}}},Pb=u=>t=>(u[0]=t,u[0]),Hb={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Yb=(u,t,s,r,o,c)=>class extends u{constructor(d,m){const p=r(d),g={...Hb,...m},D=s(p,g),E=o(p)?t():null;super(d,!1,D,E),this._isBufferNullified=!1,this._nativeConvolverNode=D,g.buffer!==null&&c(this,g.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(d){if(this._nativeConvolverNode.buffer=d,d===null&&this._nativeConvolverNode.buffer!==null){const m=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=m.createBuffer(1,1,m.sampleRate),this._isBufferNullified=!0,c(this,0)}else this._isBufferNullified=!1,c(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(d){this._nativeConvolverNode.normalize=d}},Xb=(u,t,s)=>()=>{const r=new WeakMap,o=async(c,f)=>{let d=t(c);if(!Ve(d,f)){const p={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,disableNormalization:!d.normalize};d=u(f,p)}return r.set(f,d),ar(d)?await s(c,f,d.inputs[0]):await s(c,f,d),d};return{render(c,f){const d=r.get(f);return d!==void 0?Promise.resolve(d):o(c,f)}}},Zb=(u,t)=>(s,r,o)=>{if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(s,r,o)}catch(c){throw c.name==="SyntaxError"?u():c}},Qb=()=>new DOMException("","DataCloneError"),bg=u=>{const{port1:t,port2:s}=new MessageChannel;return new Promise(r=>{const o=()=>{s.onmessage=null,t.close(),s.close(),r()};s.onmessage=()=>o();try{t.postMessage(u,[u])}catch{}finally{o()}})},Wb=(u,t,s,r,o,c,f,d,m,p,g)=>(D,A)=>{const E=f(D)?D:c(D);if(o.has(A)){const _=s();return Promise.reject(_)}try{o.add(A)}catch{}return t(m,()=>m(E))?E.decodeAudioData(A).then(_=>(bg(A).catch(()=>{}),t(d,()=>d(_))||g(_),u.add(_),_)):new Promise((_,C)=>{const b=async()=>{try{await bg(A)}catch{}},T=R=>{C(R),b()};try{E.decodeAudioData(A,R=>{typeof R.copyFromChannel!="function"&&(p(R),bd(R)),u.add(R),b().then(()=>_(R))},R=>{T(R===null?r():R)})}catch(R){T(R)}})},Kb=(u,t,s,r,o,c,f,d)=>(m,p)=>{const g=t.get(m);if(g===void 0)throw new Error("Missing the expected cycle count.");const D=c(m.context),A=d(D);if(g===p){if(t.delete(m),!A&&f(m)){const E=r(m),{outputs:_}=s(m);for(const C of _)if(Va(C)){const b=r(C[0]);u(E,b,C[1],C[2])}else{const b=o(C[0]);E.connect(b,C[1])}}}else t.set(m,g-p)},$b={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Jb=(u,t,s,r,o,c,f)=>class extends u{constructor(m,p){const g=o(m),D={...$b,...p},A=r(g,D),E=c(g),_=E?s(D.maxDelayTime):null;super(m,!1,A,_),this._delayTime=t(this,E,A.delayTime),f(this,D.maxDelayTime)}get delayTime(){return this._delayTime}},tS=(u,t,s,r,o)=>c=>{const f=new WeakMap,d=async(m,p)=>{let g=s(m);const D=Ve(g,p);if(!D){const A={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,delayTime:g.delayTime.value,maxDelayTime:c};g=t(p,A)}return f.set(p,g),D?await u(p,m.delayTime,g.delayTime):await r(p,m.delayTime,g.delayTime),await o(m,p,g),g};return{render(m,p){const g=f.get(p);return g!==void 0?Promise.resolve(g):d(m,p)}}},eS=u=>(t,s,r,o)=>u(t[o],c=>c[0]===s&&c[1]===r),nS=u=>(t,s)=>{u(t).delete(s)},sS=u=>"delayTime"in u,uS=(u,t,s)=>function r(o,c){const f=_l(c)?c:s(u,c);if(sS(f))return[];if(o[0]===f)return[o];if(o.includes(f))return[];const{outputs:d}=t(f);return Array.from(d).map(m=>r([...o,f],m[0])).reduce((m,p)=>m.concat(p),[])},ll=(u,t,s)=>{const r=t[s];if(r===void 0)throw u();return r},iS=u=>(t,s=void 0,r=void 0,o=0)=>s===void 0?t.forEach(c=>c.disconnect()):typeof s=="number"?ll(u,t,s).disconnect():bl(s)?r===void 0?t.forEach(c=>c.disconnect(s)):o===void 0?ll(u,t,r).disconnect(s,0):ll(u,t,r).disconnect(s,0,o):r===void 0?t.forEach(c=>c.disconnect(s)):ll(u,t,r).disconnect(s,0),rS={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},aS=(u,t,s,r,o,c,f,d)=>class extends u{constructor(p,g){const D=c(p),A={...rS,...g},E=r(D,A),_=f(D),C=_?s():null;super(p,!1,E,C),this._attack=t(this,_,E.attack),this._knee=t(this,_,E.knee),this._nativeDynamicsCompressorNode=E,this._ratio=t(this,_,E.ratio),this._release=t(this,_,E.release),this._threshold=t(this,_,E.threshold),d(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(p){const g=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=p,p>2)throw this._nativeDynamicsCompressorNode.channelCount=g,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(p){const g=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=p,p==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=g,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},oS=(u,t,s,r,o)=>()=>{const c=new WeakMap,f=async(d,m)=>{let p=s(d);const g=Ve(p,m);if(!g){const D={attack:p.attack.value,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,knee:p.knee.value,ratio:p.ratio.value,release:p.release.value,threshold:p.threshold.value};p=t(m,D)}return c.set(m,p),g?(await u(m,d.attack,p.attack),await u(m,d.knee,p.knee),await u(m,d.ratio,p.ratio),await u(m,d.release,p.release),await u(m,d.threshold,p.threshold)):(await r(m,d.attack,p.attack),await r(m,d.knee,p.knee),await r(m,d.ratio,p.ratio),await r(m,d.release,p.release),await r(m,d.threshold,p.threshold)),await o(d,m,p),p};return{render(d,m){const p=c.get(m);return p!==void 0?Promise.resolve(p):f(d,m)}}},lS=()=>new DOMException("","EncodingError"),cS=u=>t=>new Promise((s,r)=>{if(u===null){r(new SyntaxError);return}const o=u.document.head;if(o===null)r(new SyntaxError);else{const c=u.document.createElement("script"),f=new Blob([t],{type:"application/javascript"}),d=URL.createObjectURL(f),m=u.onerror,p=()=>{u.onerror=m,URL.revokeObjectURL(d)};u.onerror=(g,D,A,E,_)=>{if(D===d||D===u.location.href&&A===1&&E===1)return p(),r(_),!1;if(m!==null)return m(g,D,A,E,_)},c.onerror=()=>{p(),r(new SyntaxError)},c.onload=()=>{p(),s()},c.src=d,c.type="module",o.appendChild(c)}}),hS=u=>class{constructor(s){this._nativeEventTarget=s,this._listeners=new WeakMap}addEventListener(s,r,o){if(r!==null){let c=this._listeners.get(r);c===void 0&&(c=u(this,r),typeof r=="function"&&this._listeners.set(r,c)),this._nativeEventTarget.addEventListener(s,c,o)}}dispatchEvent(s){return this._nativeEventTarget.dispatchEvent(s)}removeEventListener(s,r,o){const c=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(s,c===void 0?null:c,o)}},fS=u=>(t,s,r)=>{Object.defineProperties(u,{currentFrame:{configurable:!0,get(){return Math.round(t*s)}},currentTime:{configurable:!0,get(){return t}}});try{return r()}finally{u!==null&&(delete u.currentFrame,delete u.currentTime)}},dS=u=>async t=>{try{const s=await fetch(t);if(s.ok)return[await s.text(),s.url]}catch{}throw u()},pS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},mS=(u,t,s,r,o,c)=>class extends u{constructor(d,m){const p=o(d),g={...pS,...m},D=r(p,g),A=c(p),E=A?s():null;super(d,!1,D,E),this._gain=t(this,A,D.gain,He,un)}get gain(){return this._gain}},gS=(u,t,s,r,o)=>()=>{const c=new WeakMap,f=async(d,m)=>{let p=s(d);const g=Ve(p,m);if(!g){const D={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,gain:p.gain.value};p=t(m,D)}return c.set(m,p),g?await u(m,d.gain,p.gain):await r(m,d.gain,p.gain),await o(d,m,p),p};return{render(d,m){const p=c.get(m);return p!==void 0?Promise.resolve(p):f(d,m)}}},DS=(u,t)=>s=>t(u,s),yS=u=>t=>{const s=u(t);if(s.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return s.renderer},AS=u=>t=>{var s;return(s=u.get(t))!==null&&s!==void 0?s:0},vS=u=>t=>{const s=u(t);if(s.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return s.renderer},_S=u=>t=>u.get(t),Ce=()=>new DOMException("","InvalidStateError"),ES=u=>t=>{const s=u.get(t);if(s===void 0)throw Ce();return s},CS=(u,t)=>s=>{let r=u.get(s);if(r!==void 0)return r;if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new t(1,1,44100),u.set(s,r),r},bS=u=>t=>{const s=u.get(t);if(s===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return s},ic=()=>new DOMException("","InvalidAccessError"),SS=u=>{u.getFrequencyResponse=(t=>(s,r,o)=>{if(s.length!==r.length||r.length!==o.length)throw ic();return t.call(u,s,r,o)})(u.getFrequencyResponse)},TS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},FS=(u,t,s,r,o,c)=>class extends u{constructor(d,m){const p=r(d),g=o(p),D={...TS,...m},A=t(p,g?null:d.baseLatency,D),E=g?s(D.feedback,D.feedforward):null;super(d,!1,A,E),SS(A),this._nativeIIRFilterNode=A,c(this,1)}getFrequencyResponse(d,m,p){return this._nativeIIRFilterNode.getFrequencyResponse(d,m,p)}},BD=(u,t,s,r,o,c,f,d,m,p,g)=>{const D=p.length;let A=d;for(let E=0;E<D;E+=1){let _=s[0]*p[E];for(let C=1;C<o;C+=1){const b=A-C&m-1;_+=s[C]*c[b],_-=u[C]*f[b]}for(let C=o;C<r;C+=1)_+=s[C]*c[A-C&m-1];for(let C=o;C<t;C+=1)_-=u[C]*f[A-C&m-1];c[A]=p[E],f[A]=_,A=A+1&m-1,g[E]=_}return A},xS=(u,t,s,r)=>{const o=s instanceof Float64Array?s:new Float64Array(s),c=r instanceof Float64Array?r:new Float64Array(r),f=o.length,d=c.length,m=Math.min(f,d);if(o[0]!==1){for(let _=0;_<f;_+=1)c[_]/=o[0];for(let _=1;_<d;_+=1)o[_]/=o[0]}const p=32,g=new Float32Array(p),D=new Float32Array(p),A=t.createBuffer(u.numberOfChannels,u.length,u.sampleRate),E=u.numberOfChannels;for(let _=0;_<E;_+=1){const C=u.getChannelData(_),b=A.getChannelData(_);g.fill(0),D.fill(0),BD(o,f,c,d,m,g,D,0,p,C,b)}return A},wS=(u,t,s,r,o)=>(c,f)=>{const d=new WeakMap;let m=null;const p=async(g,D)=>{let A=null,E=t(g);const _=Ve(E,D);if(D.createIIRFilter===void 0?A=u(D,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):_||(E=D.createIIRFilter(f,c)),d.set(D,A===null?E:A),A!==null){if(m===null){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const b=new s(g.context.destination.channelCount,g.context.length,D.sampleRate);m=(async()=>{await r(g,b,b.destination);const T=await o(b);return xS(T,D,c,f)})()}const C=await m;return A.buffer=C,A.start(0),A}return await r(g,D,E),E};return{render(g,D){const A=d.get(D);return A!==void 0?Promise.resolve(A):p(g,D)}}},OS=(u,t,s,r,o,c)=>f=>(d,m)=>{const p=u.get(d);if(p===void 0){if(!f&&c(d)){const g=r(d),{outputs:D}=s(d);for(const A of D)if(Va(A)){const E=r(A[0]);t(g,E,A[1],A[2])}else{const E=o(A[0]);g.disconnect(E,A[1])}}u.set(d,m)}else u.set(d,p+m)},BS=(u,t)=>s=>{const r=u.get(s);return t(r)||t(s)},NS=(u,t)=>s=>u.has(s)||t(s),RS=(u,t)=>s=>u.has(s)||t(s),MS=(u,t)=>s=>{const r=u.get(s);return t(r)||t(s)},IS=u=>t=>u!==null&&t instanceof u,kS=u=>t=>u!==null&&typeof u.AudioNode=="function"&&t instanceof u.AudioNode,LS=u=>t=>u!==null&&typeof u.AudioParam=="function"&&t instanceof u.AudioParam,qS=(u,t)=>s=>u(s)||t(s),VS=u=>t=>u!==null&&t instanceof u,US=u=>u!==null&&u.isSecureContext,zS=(u,t,s,r)=>class extends u{constructor(c,f){const d=s(c),m=t(d,f);if(r(d))throw TypeError();super(c,!0,m,null),this._nativeMediaElementAudioSourceNode=m}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},jS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},GS=(u,t,s,r)=>class extends u{constructor(c,f){const d=s(c);if(r(d))throw new TypeError;const m={...jS,...f},p=t(d,m);super(c,!1,p,null),this._nativeMediaStreamAudioDestinationNode=p}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},PS=(u,t,s,r)=>class extends u{constructor(c,f){const d=s(c),m=t(d,f);if(r(d))throw new TypeError;super(c,!0,m,null),this._nativeMediaStreamAudioSourceNode=m}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},HS=(u,t,s)=>class extends u{constructor(o,c){const f=s(o),d=t(f,c);super(o,!0,d,null)}},YS=(u,t,s,r,o,c)=>class extends s{constructor(d,m){super(d),this._nativeContext=d,sc.set(this,d),r(d)&&o.set(d,new Set),this._destination=new u(this,m),this._listener=t(this,d),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(d){const m=typeof d=="function"?c(this,d):null;this._nativeContext.onstatechange=m;const p=this._nativeContext.onstatechange;this._onstatechange=p!==null&&p===m?d:p}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Ea=u=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const s=u.decodeAudioData(t.buffer,()=>{});return s===void 0?!1:(s.catch(()=>{}),!0)}catch{}return!1},XS=(u,t)=>(s,r,o)=>{const c=new Set;return s.connect=(f=>(d,m=0,p=0)=>{const g=c.size===0;if(t(d))return f.call(s,d,m,p),u(c,[d,m,p],D=>D[0]===d&&D[1]===m&&D[2]===p,!0),g&&r(),d;f.call(s,d,m),u(c,[d,m],D=>D[0]===d&&D[1]===m,!0),g&&r()})(s.connect),s.disconnect=(f=>(d,m,p)=>{const g=c.size>0;if(d===void 0)f.apply(s),c.clear();else if(typeof d=="number"){f.call(s,d);for(const A of c)A[1]===d&&c.delete(A)}else{t(d)?f.call(s,d,m,p):f.call(s,d,m);for(const A of c)A[0]===d&&(m===void 0||A[1]===m)&&(p===void 0||A[2]===p)&&c.delete(A)}const D=c.size===0;g&&D&&o()})(s.disconnect),s},Jt=(u,t,s)=>{const r=t[s];r!==void 0&&r!==u[s]&&(u[s]=r)},De=(u,t)=>{Jt(u,t,"channelCount"),Jt(u,t,"channelCountMode"),Jt(u,t,"channelInterpretation")},Sg=u=>typeof u.getFloatTimeDomainData=="function",ZS=u=>{u.getFloatTimeDomainData=t=>{const s=new Uint8Array(t.length);u.getByteTimeDomainData(s);const r=Math.max(s.length,u.fftSize);for(let o=0;o<r;o+=1)t[o]=(s[o]-128)*.0078125;return t}},QS=(u,t)=>(s,r)=>{const o=s.createAnalyser();if(De(o,r),!(r.maxDecibels>r.minDecibels))throw t();return Jt(o,r,"fftSize"),Jt(o,r,"maxDecibels"),Jt(o,r,"minDecibels"),Jt(o,r,"smoothingTimeConstant"),u(Sg,()=>Sg(o))||ZS(o),o},WS=u=>u===null?null:u.hasOwnProperty("AudioBuffer")?u.AudioBuffer:null,ue=(u,t,s)=>{const r=t[s];r!==void 0&&r!==u[s].value&&(u[s].value=r)},KS=u=>{u.start=(t=>{let s=!1;return(r=0,o=0,c)=>{if(s)throw Ce();t.call(u,r,o,c),s=!0}})(u.start)},Fd=u=>{u.start=(t=>(s=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||s<0)throw new RangeError("The parameters can't be negative.");t.call(u,s,r,o)})(u.start)},xd=u=>{u.stop=(t=>(s=0)=>{if(s<0)throw new RangeError("The parameter can't be negative.");t.call(u,s)})(u.stop)},$S=(u,t,s,r,o,c,f,d,m,p,g)=>(D,A)=>{const E=D.createBufferSource();return De(E,A),ue(E,A,"playbackRate"),Jt(E,A,"buffer"),Jt(E,A,"loop"),Jt(E,A,"loopEnd"),Jt(E,A,"loopStart"),t(s,()=>s(D))||KS(E),t(r,()=>r(D))||m(E),t(o,()=>o(D))||p(E,D),t(c,()=>c(D))||Fd(E),t(f,()=>f(D))||g(E,D),t(d,()=>d(D))||xd(E),u(D,E),E},JS=u=>u===null?null:u.hasOwnProperty("AudioContext")?u.AudioContext:u.hasOwnProperty("webkitAudioContext")?u.webkitAudioContext:null,t3=(u,t)=>(s,r,o)=>{const c=s.destination;if(c.channelCount!==r)try{c.channelCount=r}catch{}o&&c.channelCountMode!=="explicit"&&(c.channelCountMode="explicit"),c.maxChannelCount===0&&Object.defineProperty(c,"maxChannelCount",{value:r});const f=u(s,{channelCount:r,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:1});return t(f,"channelCount",d=>()=>d.call(f),d=>m=>{d.call(f,m);try{c.channelCount=m}catch(p){if(m>c.maxChannelCount)throw p}}),t(f,"channelCountMode",d=>()=>d.call(f),d=>m=>{d.call(f,m),c.channelCountMode=m}),t(f,"channelInterpretation",d=>()=>d.call(f),d=>m=>{d.call(f,m),c.channelInterpretation=m}),Object.defineProperty(f,"maxChannelCount",{get:()=>c.maxChannelCount}),f.connect(c),f},e3=u=>u===null?null:u.hasOwnProperty("AudioWorkletNode")?u.AudioWorkletNode:null,n3=u=>{const{port1:t}=new MessageChannel;try{t.postMessage(u)}finally{t.close()}},s3=(u,t,s,r,o)=>(c,f,d,m,p,g)=>{if(d!==null)try{const D=new d(c,m,g),A=new Map;let E=null;if(Object.defineProperties(D,{channelCount:{get:()=>g.channelCount,set:()=>{throw u()}},channelCountMode:{get:()=>"explicit",set:()=>{throw u()}},onprocessorerror:{get:()=>E,set:_=>{typeof E=="function"&&D.removeEventListener("processorerror",E),E=typeof _=="function"?_:null,typeof E=="function"&&D.addEventListener("processorerror",E)}}}),D.addEventListener=(_=>(...C)=>{if(C[0]==="processorerror"){const b=typeof C[1]=="function"?C[1]:typeof C[1]=="object"&&C[1]!==null&&typeof C[1].handleEvent=="function"?C[1].handleEvent:null;if(b!==null){const T=A.get(C[1]);T!==void 0?C[1]=T:(C[1]=R=>{R.type==="error"?(Object.defineProperties(R,{type:{value:"processorerror"}}),b(R)):b(new ErrorEvent(C[0],{...R}))},A.set(b,C[1]))}}return _.call(D,"error",C[1],C[2]),_.call(D,...C)})(D.addEventListener),D.removeEventListener=(_=>(...C)=>{if(C[0]==="processorerror"){const b=A.get(C[1]);b!==void 0&&(A.delete(C[1]),C[1]=b)}return _.call(D,"error",C[1],C[2]),_.call(D,C[0],C[1],C[2])})(D.removeEventListener),g.numberOfOutputs!==0){const _=s(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return D.connect(_).connect(c.destination),o(D,()=>_.disconnect(),()=>_.connect(c.destination))}return D}catch(D){throw D.code===11?r():D}if(p===void 0)throw r();return n3(g),t(c,f,p,g)},ND=(u,t)=>u===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(u*t))))),u3=u=>new Promise((t,s)=>{const{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:c})=>{r.close(),o.close(),t(c)},r.onmessageerror=({data:c})=>{r.close(),o.close(),s(c)},o.postMessage(u)}),i3=async(u,t)=>{const s=await u3(t);return new u(s)},r3=(u,t,s,r)=>{let o=$f.get(u);o===void 0&&(o=new WeakMap,$f.set(u,o));const c=i3(s,r);return o.set(t,c),c},a3=(u,t,s,r,o,c,f,d,m,p,g,D,A)=>(E,_,C,b)=>{if(b.numberOfInputs===0&&b.numberOfOutputs===0)throw m();const T=Array.isArray(b.outputChannelCount)?b.outputChannelCount:Array.from(b.outputChannelCount);if(T.some(rt=>rt<1))throw m();if(T.length!==b.numberOfOutputs)throw t();if(b.channelCountMode!=="explicit")throw m();const R=b.channelCount*b.numberOfInputs,z=T.reduce((rt,mt)=>rt+mt,0),Y=C.parameterDescriptors===void 0?0:C.parameterDescriptors.length;if(R+Y>6||z>6)throw m();const x=new MessageChannel,M=[],I=[];for(let rt=0;rt<b.numberOfInputs;rt+=1)M.push(f(E,{channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,gain:1})),I.push(o(E,{channelCount:b.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:b.channelCount}));const B=[];if(C.parameterDescriptors!==void 0)for(const{defaultValue:rt,maxValue:mt,minValue:Bt,name:Zt}of C.parameterDescriptors){const Tt=c(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:b.parameterData[Zt]!==void 0?b.parameterData[Zt]:rt===void 0?0:rt});Object.defineProperties(Tt.offset,{defaultValue:{get:()=>rt===void 0?0:rt},maxValue:{get:()=>mt===void 0?He:mt},minValue:{get:()=>Bt===void 0?un:Bt}}),B.push(Tt)}const X=r(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,R+Y)}),G=ND(_,E.sampleRate),Q=d(E,G,R+Y,Math.max(1,z)),P=o(E,{channelCount:Math.max(1,z),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,z)}),nt=[];for(let rt=0;rt<b.numberOfOutputs;rt+=1)nt.push(r(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:T[rt]}));for(let rt=0;rt<b.numberOfInputs;rt+=1){M[rt].connect(I[rt]);for(let mt=0;mt<b.channelCount;mt+=1)I[rt].connect(X,mt,rt*b.channelCount+mt)}const st=new wD(C.parameterDescriptors===void 0?[]:C.parameterDescriptors.map(({name:rt},mt)=>{const Bt=B[mt];return Bt.connect(X,0,R+mt),Bt.start(0),[rt,Bt.offset]}));X.connect(Q);let J=b.channelInterpretation,O=null;const j=b.numberOfOutputs===0?[Q]:nt,tt={get bufferSize(){return G},get channelCount(){return b.channelCount},set channelCount(rt){throw s()},get channelCountMode(){return b.channelCountMode},set channelCountMode(rt){throw s()},get channelInterpretation(){return J},set channelInterpretation(rt){for(const mt of M)mt.channelInterpretation=rt;J=rt},get context(){return Q.context},get inputs(){return M},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},get onprocessorerror(){return O},set onprocessorerror(rt){typeof O=="function"&&tt.removeEventListener("processorerror",O),O=typeof rt=="function"?rt:null,typeof O=="function"&&tt.addEventListener("processorerror",O)},get parameters(){return st},get port(){return x.port2},addEventListener(...rt){return Q.addEventListener(rt[0],rt[1],rt[2])},connect:u.bind(null,j),disconnect:p.bind(null,j),dispatchEvent(...rt){return Q.dispatchEvent(rt[0])},removeEventListener(...rt){return Q.removeEventListener(rt[0],rt[1],rt[2])}},ut=new Map;x.port1.addEventListener=(rt=>(...mt)=>{if(mt[0]==="message"){const Bt=typeof mt[1]=="function"?mt[1]:typeof mt[1]=="object"&&mt[1]!==null&&typeof mt[1].handleEvent=="function"?mt[1].handleEvent:null;if(Bt!==null){const Zt=ut.get(mt[1]);Zt!==void 0?mt[1]=Zt:(mt[1]=Tt=>{g(E.currentTime,E.sampleRate,()=>Bt(Tt))},ut.set(Bt,mt[1]))}}return rt.call(x.port1,mt[0],mt[1],mt[2])})(x.port1.addEventListener),x.port1.removeEventListener=(rt=>(...mt)=>{if(mt[0]==="message"){const Bt=ut.get(mt[1]);Bt!==void 0&&(ut.delete(mt[1]),mt[1]=Bt)}return rt.call(x.port1,mt[0],mt[1],mt[2])})(x.port1.removeEventListener);let S=null;Object.defineProperty(x.port1,"onmessage",{get:()=>S,set:rt=>{typeof S=="function"&&x.port1.removeEventListener("message",S),S=typeof rt=="function"?rt:null,typeof S=="function"&&(x.port1.addEventListener("message",S),x.port1.start())}}),C.prototype.port=x.port1;let L=null;r3(E,tt,C,b).then(rt=>L=rt);const et=Tl(b.numberOfInputs,b.channelCount),at=Tl(b.numberOfOutputs,T),ot=C.parameterDescriptors===void 0?[]:C.parameterDescriptors.reduce((rt,{name:mt})=>({...rt,[mt]:new Float32Array(128)}),{});let lt=!0;const It=()=>{b.numberOfOutputs>0&&Q.disconnect(P);for(let rt=0,mt=0;rt<b.numberOfOutputs;rt+=1){const Bt=nt[rt];for(let Zt=0;Zt<T[rt];Zt+=1)P.disconnect(Bt,mt+Zt,Zt);mt+=T[rt]}},it=new Map;Q.onaudioprocess=({inputBuffer:rt,outputBuffer:mt})=>{if(L!==null){const Bt=D(tt);for(let Zt=0;Zt<G;Zt+=128){for(let Tt=0;Tt<b.numberOfInputs;Tt+=1)for(let Qt=0;Qt<b.channelCount;Qt+=1)Sl(rt,et[Tt],Qt,Qt,Zt);C.parameterDescriptors!==void 0&&C.parameterDescriptors.forEach(({name:Tt},Qt)=>{Sl(rt,ot,Tt,R+Qt,Zt)});for(let Tt=0;Tt<b.numberOfInputs;Tt+=1)for(let Qt=0;Qt<T[Tt];Qt+=1)at[Tt][Qt].byteLength===0&&(at[Tt][Qt]=new Float32Array(128));try{const Tt=et.map((be,Jn)=>{if(Bt[Jn].size>0)return it.set(Jn,G/128),be;const pr=it.get(Jn);return pr===void 0?[]:(be.every(dc=>dc.every(Eu=>Eu===0))&&(pr===1?it.delete(Jn):it.set(Jn,pr-1)),be)});lt=g(E.currentTime+Zt/E.sampleRate,E.sampleRate,()=>L.process(Tt,at,ot));for(let be=0,Jn=0;be<b.numberOfOutputs;be+=1){for(let qs=0;qs<T[be];qs+=1)OD(mt,at[be],qs,Jn+qs,Zt);Jn+=T[be]}}catch(Tt){lt=!1,tt.dispatchEvent(new ErrorEvent("processorerror",{colno:Tt.colno,filename:Tt.filename,lineno:Tt.lineno,message:Tt.message}))}if(!lt){for(let Tt=0;Tt<b.numberOfInputs;Tt+=1){M[Tt].disconnect(I[Tt]);for(let Qt=0;Qt<b.channelCount;Qt+=1)I[Zt].disconnect(X,Qt,Tt*b.channelCount+Qt)}if(C.parameterDescriptors!==void 0){const Tt=C.parameterDescriptors.length;for(let Qt=0;Qt<Tt;Qt+=1){const be=B[Qt];be.disconnect(X,0,R+Qt),be.stop()}}X.disconnect(Q),Q.onaudioprocess=null,Re?It():$n();break}}}};let Re=!1;const kn=f(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ln=()=>Q.connect(kn).connect(E.destination),$n=()=>{Q.disconnect(kn),kn.disconnect()},fr=()=>{if(lt){$n(),b.numberOfOutputs>0&&Q.connect(P);for(let rt=0,mt=0;rt<b.numberOfOutputs;rt+=1){const Bt=nt[rt];for(let Zt=0;Zt<T[rt];Zt+=1)P.connect(Bt,mt+Zt,Zt);mt+=T[rt]}}Re=!0},dr=()=>{lt&&(Ln(),It()),Re=!1};return Ln(),A(tt,fr,dr)},RD=(u,t)=>{const s=u.createBiquadFilter();return De(s,t),ue(s,t,"Q"),ue(s,t,"detune"),ue(s,t,"frequency"),ue(s,t,"gain"),Jt(s,t,"type"),s},o3=(u,t)=>(s,r)=>{const o=s.createChannelMerger(r.numberOfInputs);return u!==null&&u.name==="webkitAudioContext"&&t(s,o),De(o,r),o},l3=u=>{const t=u.numberOfOutputs;Object.defineProperty(u,"channelCount",{get:()=>t,set:s=>{if(s!==t)throw Ce()}}),Object.defineProperty(u,"channelCountMode",{get:()=>"explicit",set:s=>{if(s!=="explicit")throw Ce()}}),Object.defineProperty(u,"channelInterpretation",{get:()=>"discrete",set:s=>{if(s!=="discrete")throw Ce()}})},Ua=(u,t)=>{const s=u.createChannelSplitter(t.numberOfOutputs);return De(s,t),l3(s),s},c3=(u,t,s,r,o)=>(c,f)=>{if(c.createConstantSource===void 0)return s(c,f);const d=c.createConstantSource();return De(d,f),ue(d,f,"offset"),t(r,()=>r(c))||Fd(d),t(o,()=>o(c))||xd(d),u(c,d),d},or=(u,t)=>(u.connect=t.connect.bind(t),u.disconnect=t.disconnect.bind(t),u),h3=(u,t,s,r)=>(o,{offset:c,...f})=>{const d=o.createBuffer(1,2,44100),m=t(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),p=s(o,{...f,gain:c}),g=d.getChannelData(0);g[0]=1,g[1]=1,m.buffer=d,m.loop=!0;const D={get bufferSize(){},get channelCount(){return p.channelCount},set channelCount(_){p.channelCount=_},get channelCountMode(){return p.channelCountMode},set channelCountMode(_){p.channelCountMode=_},get channelInterpretation(){return p.channelInterpretation},set channelInterpretation(_){p.channelInterpretation=_},get context(){return p.context},get inputs(){return[]},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},get offset(){return p.gain},get onended(){return m.onended},set onended(_){m.onended=_},addEventListener(..._){return m.addEventListener(_[0],_[1],_[2])},dispatchEvent(..._){return m.dispatchEvent(_[0])},removeEventListener(..._){return m.removeEventListener(_[0],_[1],_[2])},start(_=0){m.start.call(m,_)},stop(_=0){m.stop.call(m,_)}},A=()=>m.connect(p),E=()=>m.disconnect(p);return u(o,m),r(or(D,p),A,E)},f3=(u,t)=>(s,r)=>{const o=s.createConvolver();if(De(o,r),r.disableNormalization===o.normalize&&(o.normalize=!r.disableNormalization),Jt(o,r,"buffer"),r.channelCount>2||(t(o,"channelCount",c=>()=>c.call(o),c=>f=>{if(f>2)throw u();return c.call(o,f)}),r.channelCountMode==="max"))throw u();return t(o,"channelCountMode",c=>()=>c.call(o),c=>f=>{if(f==="max")throw u();return c.call(o,f)}),o},MD=(u,t)=>{const s=u.createDelay(t.maxDelayTime);return De(s,t),ue(s,t,"delayTime"),s},d3=u=>(t,s)=>{const r=t.createDynamicsCompressor();if(De(r,s),s.channelCount>2||s.channelCountMode==="max")throw u();return ue(r,s,"attack"),ue(r,s,"knee"),ue(r,s,"ratio"),ue(r,s,"release"),ue(r,s,"threshold"),r},an=(u,t)=>{const s=u.createGain();return De(s,t),ue(s,t,"gain"),s},p3=u=>(t,s,r)=>{if(t.createIIRFilter===void 0)return u(t,s,r);const o=t.createIIRFilter(r.feedforward,r.feedback);return De(o,r),o};function m3(u,t){const s=t[0]*t[0]+t[1]*t[1];return[(u[0]*t[0]+u[1]*t[1])/s,(u[1]*t[0]-u[0]*t[1])/s]}function g3(u,t){return[u[0]*t[0]-u[1]*t[1],u[0]*t[1]+u[1]*t[0]]}function Tg(u,t){let s=[0,0];for(let r=u.length-1;r>=0;r-=1)s=g3(s,t),s[0]+=u[r];return s}const D3=(u,t,s,r)=>(o,c,{channelCount:f,channelCountMode:d,channelInterpretation:m,feedback:p,feedforward:g})=>{const D=ND(c,o.sampleRate),A=p instanceof Float64Array?p:new Float64Array(p),E=g instanceof Float64Array?g:new Float64Array(g),_=A.length,C=E.length,b=Math.min(_,C);if(_===0||_>20)throw r();if(A[0]===0)throw t();if(C===0||C>20)throw r();if(E[0]===0)throw t();if(A[0]!==1){for(let B=0;B<C;B+=1)E[B]/=A[0];for(let B=1;B<_;B+=1)A[B]/=A[0]}const T=s(o,D,f,f);T.channelCount=f,T.channelCountMode=d,T.channelInterpretation=m;const R=32,z=[],Y=[],x=[];for(let B=0;B<f;B+=1){z.push(0);const X=new Float32Array(R),G=new Float32Array(R);X.fill(0),G.fill(0),Y.push(X),x.push(G)}T.onaudioprocess=B=>{const X=B.inputBuffer,G=B.outputBuffer,Q=X.numberOfChannels;for(let P=0;P<Q;P+=1){const nt=X.getChannelData(P),st=G.getChannelData(P);z[P]=BD(A,_,E,C,b,Y[P],x[P],z[P],R,nt,st)}};const M=o.sampleRate/2;return or({get bufferSize(){return D},get channelCount(){return T.channelCount},set channelCount(B){T.channelCount=B},get channelCountMode(){return T.channelCountMode},set channelCountMode(B){T.channelCountMode=B},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(B){T.channelInterpretation=B},get context(){return T.context},get inputs(){return[T]},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},addEventListener(...B){return T.addEventListener(B[0],B[1],B[2])},dispatchEvent(...B){return T.dispatchEvent(B[0])},getFrequencyResponse(B,X,G){if(B.length!==X.length||X.length!==G.length)throw u();const Q=B.length;for(let P=0;P<Q;P+=1){const nt=-Math.PI*(B[P]/M),st=[Math.cos(nt),Math.sin(nt)],J=Tg(E,st),O=Tg(A,st),j=m3(J,O);X[P]=Math.sqrt(j[0]*j[0]+j[1]*j[1]),G[P]=Math.atan2(j[1],j[0])}},removeEventListener(...B){return T.removeEventListener(B[0],B[1],B[2])}},T)},y3=(u,t)=>u.createMediaElementSource(t.mediaElement),A3=(u,t)=>{const s=u.createMediaStreamDestination();return De(s,t),s.numberOfOutputs===1&&Object.defineProperty(s,"numberOfOutputs",{get:()=>0}),s},v3=(u,{mediaStream:t})=>{const s=t.getAudioTracks();s.sort((c,f)=>c.id<f.id?-1:c.id>f.id?1:0);const r=s.slice(0,1),o=u.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:t}),o},_3=(u,t)=>(s,{mediaStreamTrack:r})=>{if(typeof s.createMediaStreamTrackSource=="function")return s.createMediaStreamTrackSource(r);const o=new MediaStream([r]),c=s.createMediaStreamSource(o);if(r.kind!=="audio")throw u();if(t(s))throw new TypeError;return c},E3=u=>u===null?null:u.hasOwnProperty("OfflineAudioContext")?u.OfflineAudioContext:u.hasOwnProperty("webkitOfflineAudioContext")?u.webkitOfflineAudioContext:null,C3=(u,t,s,r,o,c)=>(f,d)=>{const m=f.createOscillator();return De(m,d),ue(m,d,"detune"),ue(m,d,"frequency"),d.periodicWave!==void 0?m.setPeriodicWave(d.periodicWave):Jt(m,d,"type"),t(s,()=>s(f))||Fd(m),t(r,()=>r(f))||c(m,f),t(o,()=>o(f))||xd(m),u(f,m),m},b3=u=>(t,s)=>{const r=t.createPanner();return r.orientationX===void 0?u(t,s):(De(r,s),ue(r,s,"orientationX"),ue(r,s,"orientationY"),ue(r,s,"orientationZ"),ue(r,s,"positionX"),ue(r,s,"positionY"),ue(r,s,"positionZ"),Jt(r,s,"coneInnerAngle"),Jt(r,s,"coneOuterAngle"),Jt(r,s,"coneOuterGain"),Jt(r,s,"distanceModel"),Jt(r,s,"maxDistance"),Jt(r,s,"panningModel"),Jt(r,s,"refDistance"),Jt(r,s,"rolloffFactor"),r)},S3=(u,t,s,r,o,c,f,d,m,p)=>(g,{coneInnerAngle:D,coneOuterAngle:A,coneOuterGain:E,distanceModel:_,maxDistance:C,orientationX:b,orientationY:T,orientationZ:R,panningModel:z,positionX:Y,positionY:x,positionZ:M,refDistance:I,rolloffFactor:B,...X})=>{const G=g.createPanner();if(X.channelCount>2||X.channelCountMode==="max")throw f();De(G,X);const Q={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},P=s(g,{...Q,channelInterpretation:"speakers",numberOfInputs:6}),nt=r(g,{...X,gain:1}),st=r(g,{...Q,gain:1}),J=r(g,{...Q,gain:0}),O=r(g,{...Q,gain:0}),j=r(g,{...Q,gain:0}),tt=r(g,{...Q,gain:0}),ut=r(g,{...Q,gain:0}),S=o(g,256,6,1),L=c(g,{...Q,curve:new Float32Array([1,1]),oversample:"none"});let K=[b,T,R],et=[Y,x,M];const at=new Float32Array(1);S.onaudioprocess=({inputBuffer:it})=>{const Re=[m(it,at,0),m(it,at,1),m(it,at,2)];Re.some((Ln,$n)=>Ln!==K[$n])&&(G.setOrientation(...Re),K=Re);const kn=[m(it,at,3),m(it,at,4),m(it,at,5)];kn.some((Ln,$n)=>Ln!==et[$n])&&(G.setPosition(...kn),et=kn)},Object.defineProperty(J.gain,"defaultValue",{get:()=>0}),Object.defineProperty(O.gain,"defaultValue",{get:()=>0}),Object.defineProperty(j.gain,"defaultValue",{get:()=>0}),Object.defineProperty(tt.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ut.gain,"defaultValue",{get:()=>0});const ot={get bufferSize(){},get channelCount(){return G.channelCount},set channelCount(it){if(it>2)throw f();nt.channelCount=it,G.channelCount=it},get channelCountMode(){return G.channelCountMode},set channelCountMode(it){if(it==="max")throw f();nt.channelCountMode=it,G.channelCountMode=it},get channelInterpretation(){return G.channelInterpretation},set channelInterpretation(it){nt.channelInterpretation=it,G.channelInterpretation=it},get coneInnerAngle(){return G.coneInnerAngle},set coneInnerAngle(it){G.coneInnerAngle=it},get coneOuterAngle(){return G.coneOuterAngle},set coneOuterAngle(it){G.coneOuterAngle=it},get coneOuterGain(){return G.coneOuterGain},set coneOuterGain(it){if(it<0||it>1)throw t();G.coneOuterGain=it},get context(){return G.context},get distanceModel(){return G.distanceModel},set distanceModel(it){G.distanceModel=it},get inputs(){return[nt]},get maxDistance(){return G.maxDistance},set maxDistance(it){if(it<0)throw new RangeError;G.maxDistance=it},get numberOfInputs(){return G.numberOfInputs},get numberOfOutputs(){return G.numberOfOutputs},get orientationX(){return st.gain},get orientationY(){return J.gain},get orientationZ(){return O.gain},get panningModel(){return G.panningModel},set panningModel(it){G.panningModel=it},get positionX(){return j.gain},get positionY(){return tt.gain},get positionZ(){return ut.gain},get refDistance(){return G.refDistance},set refDistance(it){if(it<0)throw new RangeError;G.refDistance=it},get rolloffFactor(){return G.rolloffFactor},set rolloffFactor(it){if(it<0)throw new RangeError;G.rolloffFactor=it},addEventListener(...it){return nt.addEventListener(it[0],it[1],it[2])},dispatchEvent(...it){return nt.dispatchEvent(it[0])},removeEventListener(...it){return nt.removeEventListener(it[0],it[1],it[2])}};D!==ot.coneInnerAngle&&(ot.coneInnerAngle=D),A!==ot.coneOuterAngle&&(ot.coneOuterAngle=A),E!==ot.coneOuterGain&&(ot.coneOuterGain=E),_!==ot.distanceModel&&(ot.distanceModel=_),C!==ot.maxDistance&&(ot.maxDistance=C),b!==ot.orientationX.value&&(ot.orientationX.value=b),T!==ot.orientationY.value&&(ot.orientationY.value=T),R!==ot.orientationZ.value&&(ot.orientationZ.value=R),z!==ot.panningModel&&(ot.panningModel=z),Y!==ot.positionX.value&&(ot.positionX.value=Y),x!==ot.positionY.value&&(ot.positionY.value=x),M!==ot.positionZ.value&&(ot.positionZ.value=M),I!==ot.refDistance&&(ot.refDistance=I),B!==ot.rolloffFactor&&(ot.rolloffFactor=B),(K[0]!==1||K[1]!==0||K[2]!==0)&&G.setOrientation(...K),(et[0]!==0||et[1]!==0||et[2]!==0)&&G.setPosition(...et);const lt=()=>{nt.connect(G),u(nt,L,0,0),L.connect(st).connect(P,0,0),L.connect(J).connect(P,0,1),L.connect(O).connect(P,0,2),L.connect(j).connect(P,0,3),L.connect(tt).connect(P,0,4),L.connect(ut).connect(P,0,5),P.connect(S).connect(g.destination)},It=()=>{nt.disconnect(G),d(nt,L,0,0),L.disconnect(st),st.disconnect(P),L.disconnect(J),J.disconnect(P),L.disconnect(O),O.disconnect(P),L.disconnect(j),j.disconnect(P),L.disconnect(tt),tt.disconnect(P),L.disconnect(ut),ut.disconnect(P),P.disconnect(S),S.disconnect(g.destination)};return p(or(ot,G),lt,It)},T3=u=>(t,{disableNormalization:s,imag:r,real:o})=>{const c=r instanceof Float32Array?r:new Float32Array(r),f=o instanceof Float32Array?o:new Float32Array(o),d=t.createPeriodicWave(f,c,{disableNormalization:s});if(Array.from(r).length<2)throw u();return d},za=(u,t,s,r)=>u.createScriptProcessor(t,s,r),F3=(u,t)=>(s,r)=>{const o=r.channelCountMode;if(o==="clamped-max")throw t();if(s.createStereoPanner===void 0)return u(s,r);const c=s.createStereoPanner();return De(c,r),ue(c,r,"pan"),Object.defineProperty(c,"channelCountMode",{get:()=>o,set:f=>{if(f!==o)throw t()}}),c},x3=(u,t,s,r,o,c)=>{const d=new Float32Array([1,1]),m=Math.PI/2,p={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},g={...p,oversample:"none"},D=(_,C,b,T)=>{const R=new Float32Array(16385),z=new Float32Array(16385);for(let X=0;X<16385;X+=1){const G=X/16384*m;R[X]=Math.cos(G),z[X]=Math.sin(G)}const Y=s(_,{...p,gain:0}),x=r(_,{...g,curve:R}),M=r(_,{...g,curve:d}),I=s(_,{...p,gain:0}),B=r(_,{...g,curve:z});return{connectGraph(){C.connect(Y),C.connect(M.inputs===void 0?M:M.inputs[0]),C.connect(I),M.connect(b),b.connect(x.inputs===void 0?x:x.inputs[0]),b.connect(B.inputs===void 0?B:B.inputs[0]),x.connect(Y.gain),B.connect(I.gain),Y.connect(T,0,0),I.connect(T,0,1)},disconnectGraph(){C.disconnect(Y),C.disconnect(M.inputs===void 0?M:M.inputs[0]),C.disconnect(I),M.disconnect(b),b.disconnect(x.inputs===void 0?x:x.inputs[0]),b.disconnect(B.inputs===void 0?B:B.inputs[0]),x.disconnect(Y.gain),B.disconnect(I.gain),Y.disconnect(T,0,0),I.disconnect(T,0,1)}}},A=(_,C,b,T)=>{const R=new Float32Array(16385),z=new Float32Array(16385),Y=new Float32Array(16385),x=new Float32Array(16385),M=Math.floor(16385/2);for(let j=0;j<16385;j+=1)if(j>M){const tt=(j-M)/(16384-M)*m;R[j]=Math.cos(tt),z[j]=Math.sin(tt),Y[j]=0,x[j]=1}else{const tt=j/(16384-M)*m;R[j]=1,z[j]=0,Y[j]=Math.cos(tt),x[j]=Math.sin(tt)}const I=t(_,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),B=s(_,{...p,gain:0}),X=r(_,{...g,curve:R}),G=s(_,{...p,gain:0}),Q=r(_,{...g,curve:z}),P=r(_,{...g,curve:d}),nt=s(_,{...p,gain:0}),st=r(_,{...g,curve:Y}),J=s(_,{...p,gain:0}),O=r(_,{...g,curve:x});return{connectGraph(){C.connect(I),C.connect(P.inputs===void 0?P:P.inputs[0]),I.connect(B,0),I.connect(G,0),I.connect(nt,1),I.connect(J,1),P.connect(b),b.connect(X.inputs===void 0?X:X.inputs[0]),b.connect(Q.inputs===void 0?Q:Q.inputs[0]),b.connect(st.inputs===void 0?st:st.inputs[0]),b.connect(O.inputs===void 0?O:O.inputs[0]),X.connect(B.gain),Q.connect(G.gain),st.connect(nt.gain),O.connect(J.gain),B.connect(T,0,0),nt.connect(T,0,0),G.connect(T,0,1),J.connect(T,0,1)},disconnectGraph(){C.disconnect(I),C.disconnect(P.inputs===void 0?P:P.inputs[0]),I.disconnect(B,0),I.disconnect(G,0),I.disconnect(nt,1),I.disconnect(J,1),P.disconnect(b),b.disconnect(X.inputs===void 0?X:X.inputs[0]),b.disconnect(Q.inputs===void 0?Q:Q.inputs[0]),b.disconnect(st.inputs===void 0?st:st.inputs[0]),b.disconnect(O.inputs===void 0?O:O.inputs[0]),X.disconnect(B.gain),Q.disconnect(G.gain),st.disconnect(nt.gain),O.disconnect(J.gain),B.disconnect(T,0,0),nt.disconnect(T,0,0),G.disconnect(T,0,1),J.disconnect(T,0,1)}}},E=(_,C,b,T,R)=>{if(C===1)return D(_,b,T,R);if(C===2)return A(_,b,T,R);throw o()};return(_,{channelCount:C,channelCountMode:b,pan:T,...R})=>{if(b==="max")throw o();const z=u(_,{...R,channelCount:1,channelCountMode:b,numberOfInputs:2}),Y=s(_,{...R,channelCount:C,channelCountMode:b,gain:1}),x=s(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:T});let{connectGraph:M,disconnectGraph:I}=E(_,C,Y,x,z);Object.defineProperty(x.gain,"defaultValue",{get:()=>0}),Object.defineProperty(x.gain,"maxValue",{get:()=>1}),Object.defineProperty(x.gain,"minValue",{get:()=>-1});const B={get bufferSize(){},get channelCount(){return Y.channelCount},set channelCount(P){Y.channelCount!==P&&(X&&I(),{connectGraph:M,disconnectGraph:I}=E(_,P,Y,x,z),X&&M()),Y.channelCount=P},get channelCountMode(){return Y.channelCountMode},set channelCountMode(P){if(P==="clamped-max"||P==="max")throw o();Y.channelCountMode=P},get channelInterpretation(){return Y.channelInterpretation},set channelInterpretation(P){Y.channelInterpretation=P},get context(){return Y.context},get inputs(){return[Y]},get numberOfInputs(){return Y.numberOfInputs},get numberOfOutputs(){return Y.numberOfOutputs},get pan(){return x.gain},addEventListener(...P){return Y.addEventListener(P[0],P[1],P[2])},dispatchEvent(...P){return Y.dispatchEvent(P[0])},removeEventListener(...P){return Y.removeEventListener(P[0],P[1],P[2])}};let X=!1;const G=()=>{M(),X=!0},Q=()=>{I(),X=!1};return c(or(B,z),G,Q)}},w3=(u,t,s,r,o,c,f)=>(d,m)=>{const p=d.createWaveShaper();if(c!==null&&c.name==="webkitAudioContext"&&d.createGain().gain.automationRate===void 0)return s(d,m);De(p,m);const g=m.curve===null||m.curve instanceof Float32Array?m.curve:new Float32Array(m.curve);if(g!==null&&g.length<2)throw t();Jt(p,{curve:g},"curve"),Jt(p,m,"oversample");let D=null,A=!1;return f(p,"curve",C=>()=>C.call(p),C=>b=>(C.call(p,b),A&&(r(b)&&D===null?D=u(d,p):!r(b)&&D!==null&&(D(),D=null)),b)),o(p,()=>{A=!0,r(p.curve)&&(D=u(d,p))},()=>{A=!1,D!==null&&(D(),D=null)})},O3=(u,t,s,r,o)=>(c,{curve:f,oversample:d,...m})=>{const p=c.createWaveShaper(),g=c.createWaveShaper();De(p,m),De(g,m);const D=s(c,{...m,gain:1}),A=s(c,{...m,gain:-1}),E=s(c,{...m,gain:1}),_=s(c,{...m,gain:-1});let C=null,b=!1,T=null;const R={get bufferSize(){},get channelCount(){return p.channelCount},set channelCount(x){D.channelCount=x,A.channelCount=x,p.channelCount=x,E.channelCount=x,g.channelCount=x,_.channelCount=x},get channelCountMode(){return p.channelCountMode},set channelCountMode(x){D.channelCountMode=x,A.channelCountMode=x,p.channelCountMode=x,E.channelCountMode=x,g.channelCountMode=x,_.channelCountMode=x},get channelInterpretation(){return p.channelInterpretation},set channelInterpretation(x){D.channelInterpretation=x,A.channelInterpretation=x,p.channelInterpretation=x,E.channelInterpretation=x,g.channelInterpretation=x,_.channelInterpretation=x},get context(){return p.context},get curve(){return T},set curve(x){if(x!==null&&x.length<2)throw t();if(x===null)p.curve=x,g.curve=x;else{const M=x.length,I=new Float32Array(M+2-M%2),B=new Float32Array(M+2-M%2);I[0]=x[0],B[0]=-x[M-1];const X=Math.ceil((M+1)/2),G=(M+1)/2-1;for(let Q=1;Q<X;Q+=1){const P=Q/X*G,nt=Math.floor(P),st=Math.ceil(P);I[Q]=nt===st?x[nt]:(1-(P-nt))*x[nt]+(1-(st-P))*x[st],B[Q]=nt===st?-x[M-1-nt]:-((1-(P-nt))*x[M-1-nt])-(1-(st-P))*x[M-1-st]}I[X]=M%2===1?x[X-1]:(x[X-2]+x[X-1])/2,p.curve=I,g.curve=B}T=x,b&&(r(T)&&C===null?C=u(c,D):C!==null&&(C(),C=null))},get inputs(){return[D]},get numberOfInputs(){return p.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},get oversample(){return p.oversample},set oversample(x){p.oversample=x,g.oversample=x},addEventListener(...x){return D.addEventListener(x[0],x[1],x[2])},dispatchEvent(...x){return D.dispatchEvent(x[0])},removeEventListener(...x){return D.removeEventListener(x[0],x[1],x[2])}};f!==null&&(R.curve=f instanceof Float32Array?f:new Float32Array(f)),d!==R.oversample&&(R.oversample=d);const z=()=>{D.connect(p).connect(E),D.connect(A).connect(g).connect(_).connect(E),b=!0,r(T)&&(C=u(c,D))},Y=()=>{D.disconnect(p),p.disconnect(E),D.disconnect(A),A.disconnect(g),g.disconnect(_),_.disconnect(E),b=!1,C!==null&&(C(),C=null)};return o(or(R,E),z,Y)},Qe=()=>new DOMException("","NotSupportedError"),B3={numberOfChannels:1},N3=(u,t,s,r,o)=>class extends u{constructor(f,d,m){let p;if(typeof f=="number"&&d!==void 0&&m!==void 0)p={length:d,numberOfChannels:f,sampleRate:m};else if(typeof f=="object")p=f;else throw new Error("The given parameters are not valid.");const{length:g,numberOfChannels:D,sampleRate:A}={...B3,...p},E=r(D,g,A);t(Ea,()=>Ea(E))||E.addEventListener("statechange",(()=>{let _=0;const C=b=>{this._state==="running"&&(_>0?(E.removeEventListener("statechange",C),b.stopImmediatePropagation(),this._waitForThePromiseToSettle(b)):_+=1)};return C})()),super(E,D),this._length=g,this._nativeOfflineAudioContext=E,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(s()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,SD(this)}))}_waitForThePromiseToSettle(f){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(f):setTimeout(()=>this._waitForThePromiseToSettle(f))}},R3={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},M3=(u,t,s,r,o,c,f)=>class extends u{constructor(m,p){const g=o(m),D={...R3,...p},A=s(g,D),E=c(g),_=E?r():null,C=m.sampleRate/2;super(m,!1,A,_),this._detune=t(this,E,A.detune,153600,-153600),this._frequency=t(this,E,A.frequency,C,-C),this._nativeOscillatorNode=A,this._onended=null,this._oscillatorNodeRenderer=_,this._oscillatorNodeRenderer!==null&&D.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=D.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(m){const p=typeof m=="function"?f(this,m):null;this._nativeOscillatorNode.onended=p;const g=this._nativeOscillatorNode.onended;this._onended=g!==null&&g===p?m:g}get type(){return this._nativeOscillatorNode.type}set type(m){this._nativeOscillatorNode.type=m,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(m){this._nativeOscillatorNode.setPeriodicWave(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=m)}start(m=0){if(this._nativeOscillatorNode.start(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=m),this.context.state!=="closed"){er(this);const p=()=>{this._nativeOscillatorNode.removeEventListener("ended",p),ws(this)&&La(this)};this._nativeOscillatorNode.addEventListener("ended",p)}}stop(m=0){this._nativeOscillatorNode.stop(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=m)}},I3=(u,t,s,r,o)=>()=>{const c=new WeakMap;let f=null,d=null,m=null;const p=async(g,D)=>{let A=s(g);const E=Ve(A,D);if(!E){const _={channelCount:A.channelCount,channelCountMode:A.channelCountMode,channelInterpretation:A.channelInterpretation,detune:A.detune.value,frequency:A.frequency.value,periodicWave:f===null?void 0:f,type:A.type};A=t(D,_),d!==null&&A.start(d),m!==null&&A.stop(m)}return c.set(D,A),E?(await u(D,g.detune,A.detune),await u(D,g.frequency,A.frequency)):(await r(D,g.detune,A.detune),await r(D,g.frequency,A.frequency)),await o(g,D,A),A};return{set periodicWave(g){f=g},set start(g){d=g},set stop(g){m=g},render(g,D){const A=c.get(D);return A!==void 0?Promise.resolve(A):p(g,D)}}},k3={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},L3=(u,t,s,r,o,c,f)=>class extends u{constructor(m,p){const g=o(m),D={...k3,...p},A=s(g,D),E=c(g),_=E?r():null;super(m,!1,A,_),this._nativePannerNode=A,this._orientationX=t(this,E,A.orientationX,He,un),this._orientationY=t(this,E,A.orientationY,He,un),this._orientationZ=t(this,E,A.orientationZ,He,un),this._positionX=t(this,E,A.positionX,He,un),this._positionY=t(this,E,A.positionY,He,un),this._positionZ=t(this,E,A.positionZ,He,un),f(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(m){this._nativePannerNode.coneInnerAngle=m}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(m){this._nativePannerNode.coneOuterAngle=m}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(m){this._nativePannerNode.coneOuterGain=m}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(m){this._nativePannerNode.distanceModel=m}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(m){this._nativePannerNode.maxDistance=m}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(m){this._nativePannerNode.panningModel=m}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(m){this._nativePannerNode.refDistance=m}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(m){this._nativePannerNode.rolloffFactor=m}},q3=(u,t,s,r,o,c,f,d,m,p)=>()=>{const g=new WeakMap;let D=null;const A=async(E,_)=>{let C=null,b=c(E);const T={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation},R={...T,coneInnerAngle:b.coneInnerAngle,coneOuterAngle:b.coneOuterAngle,coneOuterGain:b.coneOuterGain,distanceModel:b.distanceModel,maxDistance:b.maxDistance,panningModel:b.panningModel,refDistance:b.refDistance,rolloffFactor:b.rolloffFactor},z=Ve(b,_);if("bufferSize"in b)C=r(_,{...T,gain:1});else if(!z){const Y={...R,orientationX:b.orientationX.value,orientationY:b.orientationY.value,orientationZ:b.orientationZ.value,positionX:b.positionX.value,positionY:b.positionY.value,positionZ:b.positionZ.value};b=o(_,Y)}if(g.set(_,C===null?b:C),C!==null){if(D===null){if(f===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Q=new f(6,E.context.length,_.sampleRate),P=t(Q,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});P.connect(Q.destination),D=(async()=>{const nt=await Promise.all([E.orientationX,E.orientationY,E.orientationZ,E.positionX,E.positionY,E.positionZ].map(async(st,J)=>{const O=s(Q,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:J===0?1:0});return await d(Q,st,O.offset),O}));for(let st=0;st<6;st+=1)nt[st].connect(P,0,st),nt[st].start(0);return p(Q)})()}const Y=await D,x=r(_,{...T,gain:1});await m(E,_,x);const M=[];for(let Q=0;Q<Y.numberOfChannels;Q+=1)M.push(Y.getChannelData(Q));let I=[M[0][0],M[1][0],M[2][0]],B=[M[3][0],M[4][0],M[5][0]],X=r(_,{...T,gain:1}),G=o(_,{...R,orientationX:I[0],orientationY:I[1],orientationZ:I[2],positionX:B[0],positionY:B[1],positionZ:B[2]});x.connect(X).connect(G.inputs[0]),G.connect(C);for(let Q=128;Q<Y.length;Q+=128){const P=[M[0][Q],M[1][Q],M[2][Q]],nt=[M[3][Q],M[4][Q],M[5][Q]];if(P.some((st,J)=>st!==I[J])||nt.some((st,J)=>st!==B[J])){I=P,B=nt;const st=Q/_.sampleRate;X.gain.setValueAtTime(0,st),X=r(_,{...T,gain:0}),G=o(_,{...R,orientationX:I[0],orientationY:I[1],orientationZ:I[2],positionX:B[0],positionY:B[1],positionZ:B[2]}),X.gain.setValueAtTime(1,st),x.connect(X).connect(G.inputs[0]),G.connect(C)}}return C}return z?(await u(_,E.orientationX,b.orientationX),await u(_,E.orientationY,b.orientationY),await u(_,E.orientationZ,b.orientationZ),await u(_,E.positionX,b.positionX),await u(_,E.positionY,b.positionY),await u(_,E.positionZ,b.positionZ)):(await d(_,E.orientationX,b.orientationX),await d(_,E.orientationY,b.orientationY),await d(_,E.orientationZ,b.orientationZ),await d(_,E.positionX,b.positionX),await d(_,E.positionY,b.positionY),await d(_,E.positionZ,b.positionZ)),ar(b)?await m(E,_,b.inputs[0]):await m(E,_,b),b};return{render(E,_){const C=g.get(_);return C!==void 0?Promise.resolve(C):A(E,_)}}},V3={disableNormalization:!1},U3=(u,t,s,r)=>class ID{constructor(c,f){const d=t(c),m=r({...V3,...f}),p=u(d,m);return s.add(p),p}static[Symbol.hasInstance](c){return c!==null&&typeof c=="object"&&Object.getPrototypeOf(c)===ID.prototype||s.has(c)}},z3=(u,t)=>(s,r,o)=>(u(r).replay(o),t(r,s,o)),j3=(u,t,s)=>async(r,o,c)=>{const f=u(r);await Promise.all(f.activeInputs.map((d,m)=>Array.from(d).map(async([p,g])=>{const A=await t(p).render(p,o),E=r.context.destination;!s(p)&&(r!==E||!s(r))&&A.connect(c,g,m)})).reduce((d,m)=>[...d,...m],[]))},G3=(u,t,s)=>async(r,o,c)=>{const f=t(r);await Promise.all(Array.from(f.activeInputs).map(async([d,m])=>{const g=await u(d).render(d,o);s(d)||g.connect(c,m)}))},P3=(u,t,s,r)=>o=>u(Ea,()=>Ea(o))?Promise.resolve(u(r,r)).then(c=>{if(!c){const f=s(o,512,0,1);o.oncomplete=()=>{f.onaudioprocess=null,f.disconnect()},f.onaudioprocess=()=>o.currentTime,f.connect(o.destination)}return o.startRendering()}):new Promise(c=>{const f=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=d=>{f.disconnect(),c(d.renderedBuffer)},f.connect(o.destination),o.startRendering()}),H3=u=>(t,s)=>{u.set(t,s)},Y3=u=>(t,s)=>u.set(t,s),X3=(u,t,s,r,o,c,f,d)=>(m,p)=>s(m).render(m,p).then(()=>Promise.all(Array.from(r(p)).map(g=>s(g).render(g,p)))).then(()=>o(p)).then(g=>(typeof g.copyFromChannel!="function"?(f(g),bd(g)):t(c,()=>c(g))||d(g),u.add(g),g)),Z3={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Q3=(u,t,s,r,o,c)=>class extends u{constructor(d,m){const p=o(d),g={...Z3,...m},D=s(p,g),A=c(p),E=A?r():null;super(d,!1,D,E),this._pan=t(this,A,D.pan)}get pan(){return this._pan}},W3=(u,t,s,r,o)=>()=>{const c=new WeakMap,f=async(d,m)=>{let p=s(d);const g=Ve(p,m);if(!g){const D={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,pan:p.pan.value};p=t(m,D)}return c.set(m,p),g?await u(m,d.pan,p.pan):await r(m,d.pan,p.pan),ar(p)?await o(d,m,p.inputs[0]):await o(d,m,p),p};return{render(d,m){const p=c.get(m);return p!==void 0?Promise.resolve(p):f(d,m)}}},K3=u=>()=>{if(u===null)return!1;try{new u({length:1,sampleRate:44100})}catch{return!1}return!0},$3=(u,t)=>async()=>{if(u===null)return!0;if(t===null)return!1;const s=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new t(1,128,44100),o=URL.createObjectURL(s);let c=!1,f=!1;try{await r.audioWorklet.addModule(o);const d=new u(r,"a",{numberOfOutputs:0}),m=r.createOscillator();d.port.onmessage=()=>c=!0,d.onprocessorerror=()=>f=!0,m.connect(d),m.start(0),await r.startRendering(),await new Promise(p=>setTimeout(p))}catch{}finally{URL.revokeObjectURL(o)}return c&&!f},J3=(u,t)=>()=>{if(t===null)return Promise.resolve(!1);const s=new t(1,1,44100),r=u(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{s.oncomplete=()=>{r.disconnect(),o(s.currentTime!==0)},s.startRendering()})},tT=()=>new DOMException("","UnknownError"),eT={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},nT=(u,t,s,r,o,c,f)=>class extends u{constructor(m,p){const g=o(m),D={...eT,...p},A=s(g,D),_=c(g)?r():null;super(m,!0,A,_),this._isCurveNullified=!1,this._nativeWaveShaperNode=A,f(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(m){if(m===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(m.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=m}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(m){this._nativeWaveShaperNode.oversample=m}},sT=(u,t,s)=>()=>{const r=new WeakMap,o=async(c,f)=>{let d=t(c);if(!Ve(d,f)){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,curve:d.curve,oversample:d.oversample};d=u(f,p)}return r.set(f,d),ar(d)?await s(c,f,d.inputs[0]):await s(c,f,d),d};return{render(c,f){const d=r.get(f);return d!==void 0?Promise.resolve(d):o(c,f)}}},uT=()=>typeof window>"u"?null:window,iT=(u,t)=>s=>{s.copyFromChannel=(r,o,c=0)=>{const f=u(c),d=u(o);if(d>=s.numberOfChannels)throw t();const m=s.length,p=s.getChannelData(d),g=r.length;for(let D=f<0?-f:0;D+f<m&&D<g;D+=1)r[D]=p[D+f]},s.copyToChannel=(r,o,c=0)=>{const f=u(c),d=u(o);if(d>=s.numberOfChannels)throw t();const m=s.length,p=s.getChannelData(d),g=r.length;for(let D=f<0?-f:0;D+f<m&&D<g;D+=1)p[D+f]=r[D]}},rT=u=>t=>{t.copyFromChannel=(s=>(r,o,c=0)=>{const f=u(c),d=u(o);if(f<t.length)return s.call(t,r,d,f)})(t.copyFromChannel),t.copyToChannel=(s=>(r,o,c=0)=>{const f=u(c),d=u(o);if(f<t.length)return s.call(t,r,d,f)})(t.copyToChannel)},aT=u=>(t,s)=>{const r=s.createBuffer(1,1,44100);t.buffer===null&&(t.buffer=r),u(t,"buffer",o=>()=>{const c=o.call(t);return c===r?null:c},o=>c=>o.call(t,c===null?r:c))},oT=(u,t)=>(s,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw u()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw u()}});const o=s.createBufferSource();t(r,()=>{const d=r.numberOfInputs;for(let m=0;m<d;m+=1)o.connect(r,0,m)},()=>o.disconnect(r))},kD=(u,t,s)=>u.copyFromChannel===void 0?u.getChannelData(s)[0]:(u.copyFromChannel(t,s),t[0]),LD=u=>{if(u===null)return!1;const t=u.length;return t%2!==0?u[Math.floor(t/2)]!==0:u[t/2-1]+u[t/2]!==0},ja=(u,t,s,r)=>{let o=u;for(;!o.hasOwnProperty(t);)o=Object.getPrototypeOf(o);const{get:c,set:f}=Object.getOwnPropertyDescriptor(o,t);Object.defineProperty(u,t,{get:s(c),set:r(f)})},lT=u=>({...u,outputChannelCount:u.outputChannelCount!==void 0?u.outputChannelCount:u.numberOfInputs===1&&u.numberOfOutputs===1?[u.channelCount]:Array.from({length:u.numberOfOutputs},()=>1)}),cT=u=>({...u,channelCount:u.numberOfOutputs}),hT=u=>{const{imag:t,real:s}=u;return t===void 0?s===void 0?{...u,imag:[0,0],real:[0,0]}:{...u,imag:Array.from(s,()=>0),real:s}:s===void 0?{...u,imag:t,real:Array.from(t,()=>0)}:{...u,imag:t,real:s}},qD=(u,t,s)=>{try{u.setValueAtTime(t,s)}catch(r){if(r.code!==9)throw r;qD(u,t,s+1e-7)}},fT=u=>{const t=u.createBufferSource();t.start();try{t.start()}catch{return!0}return!1},dT=u=>{const t=u.createBufferSource(),s=u.createBuffer(1,1,44100);t.buffer=s;try{t.start(0,1)}catch{return!1}return!0},pT=u=>{const t=u.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0},wd=u=>{const t=u.createOscillator();try{t.start(-1)}catch(s){return s instanceof RangeError}return!1},VD=u=>{const t=u.createBuffer(1,1,44100),s=u.createBufferSource();s.buffer=t,s.start(),s.stop();try{return s.stop(),!0}catch{return!1}},Od=u=>{const t=u.createOscillator();try{t.stop(-1)}catch(s){return s instanceof RangeError}return!1},mT=u=>{const{port1:t,port2:s}=new MessageChannel;try{t.postMessage(u)}finally{t.close(),s.close()}},gT=u=>{u.start=(t=>(s=0,r=0,o)=>{const c=u.buffer,f=c===null?r:Math.min(c.duration,r);c!==null&&f>c.duration-.5/u.context.sampleRate?t.call(u,s,0,0):t.call(u,s,f,o)})(u.start)},UD=(u,t)=>{const s=t.createGain();u.connect(s);const r=(o=>()=>{o.call(u,s),u.removeEventListener("ended",r)})(u.disconnect);u.addEventListener("ended",r),or(u,s),u.stop=(o=>{let c=!1;return(f=0)=>{if(c)try{o.call(u,f)}catch{s.gain.setValueAtTime(0,f)}else o.call(u,f),c=!0}})(u.stop)},lr=(u,t)=>s=>{const r={value:u};return Object.defineProperties(s,{currentTarget:r,target:r}),typeof t=="function"?t.call(u,s):t.handleEvent.call(u,s)},DT=LC(ui),yT=GC(ui),AT=eS(uc),zD=new WeakMap,vT=AS(zD),Qn=Bb(new Map,new WeakMap),is=uT(),jD=QS(Qn,os),Bd=yS(Ye),Ne=j3(Ye,Bd,Zu),_T=ZC(jD,Wt,Ne),Xt=ES(sc),Is=E3(is),jt=VS(Is),GD=new WeakMap,PD=hS(lr),Ga=JS(is),Nd=IS(Ga),Rd=kS(is),HD=LS(is),Ca=e3(is),he=Ab(qC(yD),jC(DT,yT,El,AT,Cl,Ye,vT,ka,Wt,ui,ws,Zu,dl),Qn,OS(Wf,Cl,Ye,Wt,_a,ws),os,ic,Qe,Kb(El,Wf,Ye,Wt,_a,Xt,ws,jt),uS(GD,Ye,Yn),PD,Xt,Nd,Rd,HD,jt,Ca),ET=XC(he,_T,os,jD,Xt,jt),Md=new WeakSet,Fg=WS(is),YD=Pb(new Uint32Array(1)),Id=iT(YD,os),kd=rT(YD),XD=WC(Md,Qn,Qe,Fg,Is,K3(Fg),Id,kd),rc=PC(an),ZD=G3(Bd,qa,Zu),ls=qb(ZD),cr=$S(rc,Qn,fT,dT,pT,wd,VD,Od,gT,aT(ja),UD),cs=z3(vS(qa),ZD),CT=JC(ls,cr,Wt,cs,Ne),Wn=vb(VC(AD),GD,Cd,_b,BC,NC,RC,MC,IC,Xf,gD,Ga,qD),bT=$C(he,CT,Wn,Ce,cr,Xt,jt,lr),ST=ob(he,lb,os,Ce,t3(an,ja),Xt,jt,Ne),TT=Ob(ls,RD,Wt,cs,Ne),ii=Y3(zD),FT=wb(he,Wn,TT,ic,RD,Xt,jt,ii),vu=XS(ui,Rd),xT=oT(Ce,vu),_u=o3(Ga,xT),wT=Mb(_u,Wt,Ne),OT=Rb(he,wT,_u,Xt,jt),BT=Lb(Ua,Wt,Ne),NT=kb(he,BT,Ua,Xt,jt,cT),RT=h3(rc,cr,an,vu),hr=c3(rc,Qn,RT,wd,Od),MT=Gb(ls,hr,Wt,cs,Ne),IT=jb(he,Wn,MT,hr,Xt,jt,lr),QD=f3(Qe,ja),kT=Xb(QD,Wt,Ne),LT=Yb(he,kT,QD,Xt,jt,ii),qT=tS(ls,MD,Wt,cs,Ne),VT=Jb(he,Wn,qT,MD,Xt,jt,ii),WD=d3(Qe),UT=oS(ls,WD,Wt,cs,Ne),zT=aS(he,Wn,UT,WD,Qe,Xt,jt,ii),jT=gS(ls,an,Wt,cs,Ne),GT=mS(he,Wn,jT,an,Xt,jt),PT=D3(ic,Ce,za,Qe),ac=P3(Qn,an,za,J3(an,Is)),HT=wS(cr,Wt,Is,Ne,ac),YT=p3(PT),XT=FS(he,YT,HT,Xt,jt,ii),ZT=cb(Wn,_u,hr,za,Qe,kD,jt,ja),KD=new WeakMap,QT=YS(ST,ZT,PD,jt,KD,lr),$D=C3(rc,Qn,wd,VD,Od,UD),WT=I3(ls,$D,Wt,cs,Ne),KT=M3(he,Wn,$D,WT,Xt,jt,lr),JD=Ub(cr),$T=O3(JD,Ce,an,LD,vu),oc=w3(JD,Ce,$T,LD,vu,Ga,ja),JT=S3(El,Ce,_u,an,za,oc,Qe,Cl,kD,vu),ty=b3(JT),tF=q3(ls,_u,hr,an,ty,Wt,Is,cs,Ne,ac),eF=L3(he,Wn,ty,tF,Xt,jt,ii),nF=T3(os),sF=U3(nF,Xt,new WeakSet,hT),uF=x3(_u,Ua,an,oc,Qe,vu),ey=F3(uF,Qe),iF=W3(ls,ey,Wt,cs,Ne),rF=Q3(he,Wn,ey,iF,Xt,jt),aF=sT(oc,Wt,Ne),oF=nT(he,Ce,oc,aF,Xt,jt,ii),ny=US(is),Ld=fS(is),sy=new WeakMap,lF=CS(sy,Is),cF=ny?zC(Qn,Qe,cS(is),Ld,dS(kC),Xt,lF,jt,Ca,new WeakMap,new WeakMap,$3(Ca,Is),is):void 0,hF=qS(Nd,jt),fF=Wb(Md,Qn,Qb,lS,new WeakSet,Xt,hF,vl,Ea,Id,kd),uy=Fb(cF,ET,XD,bT,FT,OT,NT,IT,LT,fF,VT,zT,GT,XT,QT,KT,eF,sF,rF,oF),dF=zS(he,y3,Xt,jt),pF=GS(he,A3,Xt,jt),mF=PS(he,v3,Xt,jt),gF=_3(Ce,jt),DF=HS(he,gF,Xt),yF=ab(uy,Ce,Qe,tT,dF,pF,mF,DF,Ga),qd=bS(KD),AF=HC(qd),iy=Vb(os),vF=nS(qd),ry=iS(os),ay=new WeakMap,_F=DS(ay,Yn),EF=a3(iy,os,Ce,_u,Ua,hr,an,za,Qe,ry,Ld,_F,vu),CF=s3(Ce,EF,an,Qe,vu),bF=Tb(ls,iy,cr,_u,Ua,hr,an,vF,ry,Ld,Wt,Ca,Is,cs,Ne,ac),SF=_S(sy),TF=H3(ay),xg=ny?Cb(AF,he,Wn,bF,CF,Ye,SF,Xt,jt,Ca,lT,TF,mT,lr):void 0,FF=Zb(Qe,Is),xF=X3(Md,Qn,Bd,qd,ac,vl,Id,kd),wF=N3(uy,Qn,Ce,FF,xF),OF=BS(sc,Nd),BF=NS(Ed,Rd),NF=RS(Cd,HD),RF=MS(sc,jt);function Rn(u){return u===void 0}function bt(u){return u!==void 0}function MF(u){return typeof u=="function"}function Qu(u){return typeof u=="number"}function Hu(u){return Object.prototype.toString.call(u)==="[object Object]"&&u.constructor===Object}function IF(u){return typeof u=="boolean"}function Hn(u){return Array.isArray(u)}function Os(u){return typeof u=="string"}function cl(u){return Os(u)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(u)}function At(u,t){if(!u)throw new Error(t)}function rs(u,t,s=1/0){if(!(t<=u&&u<=s))throw new RangeError(`Value must be within [${t}, ${s}], got: ${u}`)}function oy(u){!u.isOffline&&u.state!=="running"&&Vd('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let ly=!1,wg=!1;function Og(u){ly=u}function kF(u){Rn(u)&&ly&&!wg&&(wg=!0,Vd("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let cy=console;function LF(...u){cy.log(...u)}function Vd(...u){cy.warn(...u)}function qF(u){return new yF(u)}function VF(u,t,s){return new wF(u,t,s)}const Yu=typeof self=="object"?self:null,UF=Yu&&(Yu.hasOwnProperty("AudioContext")||Yu.hasOwnProperty("webkitAudioContext"));function zF(u,t,s){return At(bt(xg),"This node only works in a secure context (https or localhost)"),new xg(u,t,s)}function Kn(u,t,s,r){var o=arguments.length,c=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,s):r,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(u,t,s,r);else for(var d=u.length-1;d>=0;d--)(f=u[d])&&(c=(o<3?f(c):o>3?f(t,s,c):f(t,s))||c);return o>3&&c&&Object.defineProperty(t,s,c),c}function ce(u,t,s,r){function o(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function d(g){try{p(r.next(g))}catch(D){f(D)}}function m(g){try{p(r.throw(g))}catch(D){f(D)}}function p(g){g.done?c(g.value):o(g.value).then(d,m)}p((r=r.apply(u,t||[])).next())})}class jF{constructor(t,s,r,o){this._callback=t,this._type=s,this._minimumUpdateInterval=Math.max(128/(o||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const t=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),s=URL.createObjectURL(t),r=new Worker(s);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){var s;this._updateInterval=Math.max(t,this._minimumUpdateInterval),this._type==="worker"&&((s=this._worker)===null||s===void 0||s.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function Wu(u){return NF(u)}function pu(u){return BF(u)}function pl(u){return RF(u)}function Xi(u){return OF(u)}function GF(u){return u instanceof XD}function PF(u,t){return u==="value"||Wu(t)||pu(t)||GF(t)}function Xu(u,...t){if(!t.length)return u;const s=t.shift();if(Hu(u)&&Hu(s))for(const r in s)PF(r,s[r])?u[r]=s[r]:Hu(s[r])?(u[r]||Object.assign(u,{[r]:{}}),Xu(u[r],s[r])):Object.assign(u,{[r]:s[r]});return Xu(u,...t)}function HF(u,t){return u.length===t.length&&u.every((s,r)=>t[r]===s)}function $(u,t,s=[],r){const o={},c=Array.from(t);if(Hu(c[0])&&r&&!Reflect.has(c[0],r)&&(Object.keys(c[0]).some(d=>Reflect.has(u,d))||(Xu(o,{[r]:c[0]}),s.splice(s.indexOf(r),1),c.shift())),c.length===1&&Hu(c[0]))Xu(o,c[0]);else for(let f=0;f<s.length;f++)bt(c[f])&&(o[s[f]]=c[f]);return Xu(u,o)}function YF(u){return u.constructor.getDefaults()}function Ji(u,t){return Rn(u)?t:u}function Wi(u,t){return t.forEach(s=>{Reflect.has(u,s)&&delete u[s]}),u}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class ks{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||Yu&&this.toString()===Yu.TONE_DEBUG_CLASS)&&LF(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}ks.version=mD;const Ud=1e-6;function nr(u,t){return u>t+Ud}function ed(u,t){return nr(u,t)||jn(u,t)}function Fl(u,t){return u+Ud<t}function jn(u,t){return Math.abs(u-t)<Ud}function XF(u,t,s){return Math.max(Math.min(u,s),t)}class Mn extends ks{constructor(){super(),this.name="Timeline",this._timeline=[];const t=$(Mn.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(At(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const s=this._timeline[this.length-1];At(ed(t.time,s.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const s=this._search(t.time);this._timeline.splice(s+1,0,t)}if(this.length>this.memory){const s=this.length-this.memory;this._timeline.splice(0,s)}return this}remove(t){const s=this._timeline.indexOf(t);return s!==-1&&this._timeline.splice(s,1),this}get(t,s="time"){const r=this._search(t,s);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,s="time"){const r=this._search(t,s);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(t){const s=this._timeline.length;if(s>0&&this._timeline[s-1].time<t)return this._timeline[s-1];const r=this._search(t);return r-1>=0?this._timeline[r-1]:null}cancel(t){if(this._timeline.length>1){let s=this._search(t);if(s>=0)if(jn(this._timeline[s].time,t)){for(let r=s;r>=0&&jn(this._timeline[r].time,t);r--)s=r;this._timeline=this._timeline.slice(0,s)}else this._timeline=this._timeline.slice(0,s+1);else this._timeline=[]}else this._timeline.length===1&&ed(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const s=this._search(t);return s>=0&&(this._timeline=this._timeline.slice(s+1)),this}previousEvent(t){const s=this._timeline.indexOf(t);return s>0?this._timeline[s-1]:null}_search(t,s="time"){if(this._timeline.length===0)return-1;let r=0;const o=this._timeline.length;let c=o;if(o>0&&this._timeline[o-1][s]<=t)return o-1;for(;r<c;){let f=Math.floor(r+(c-r)/2);const d=this._timeline[f],m=this._timeline[f+1];if(jn(d[s],t)){for(let p=f;p<this._timeline.length;p++){const g=this._timeline[p];if(jn(g[s],t))f=p;else break}return f}else{if(Fl(d[s],t)&&nr(m[s],t))return f;nr(d[s],t)?c=f:r=f+1}}return-1}_iterate(t,s=0,r=this._timeline.length-1){this._timeline.slice(s,r+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,s){const r=this._search(t);return r!==-1&&this._iterate(s,0,r),this}forEachAfter(t,s){const r=this._search(t);return this._iterate(s,r+1),this}forEachBetween(t,s,r){let o=this._search(t),c=this._search(s);return o!==-1&&c!==-1?(this._timeline[o].time!==t&&(o+=1),this._timeline[c].time===s&&(c-=1),this._iterate(r,o,c)):o===-1&&this._iterate(r,0,c),this}forEachFrom(t,s){let r=this._search(t);for(;r>=0&&this._timeline[r].time>=t;)r--;return this._iterate(s,r+1),this}forEachAtTime(t,s){const r=this._search(t);if(r!==-1&&jn(this._timeline[r].time,t)){let o=r;for(let c=r;c>=0&&jn(this._timeline[c].time,t);c--)o=c;this._iterate(c=>{s(c)},o,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const hy=[];function lc(u){hy.push(u)}function ZF(u){hy.forEach(t=>t(u))}const fy=[];function cc(u){fy.push(u)}function QF(u){fy.forEach(t=>t(u))}class Pa extends ks{constructor(){super(...arguments),this.name="Emitter"}on(t,s){return t.split(/\W+/).forEach(o=>{Rn(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(s)}),this}once(t,s){const r=(...o)=>{s(...o),this.off(t,r)};return this.on(t,r),this}off(t,s){return t.split(/\W+/).forEach(o=>{if(Rn(this._events)&&(this._events={}),this._events.hasOwnProperty(o))if(Rn(s))this._events[o]=[];else{const c=this._events[o];for(let f=c.length-1;f>=0;f--)c[f]===s&&c.splice(f,1)}}),this}emit(t,...s){if(this._events&&this._events.hasOwnProperty(t)){const r=this._events[t].slice(0);for(let o=0,c=r.length;o<c;o++)r[o].apply(this,s)}return this}static mixin(t){["on","once","off","emit"].forEach(s=>{const r=Object.getOwnPropertyDescriptor(Pa.prototype,s);Object.defineProperty(t.prototype,s,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class dy extends Pa{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Ha extends dy{constructor(){var t,s;super(),this.name="Context",this._constants=new Map,this._timeouts=new Mn,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=$(Ha.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((t=arguments[0])===null||t===void 0?void 0:t.latencyHint)||""):(this._context=qF({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new jF(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((s=arguments[0])===null||s===void 0)&&s.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(ZF(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,s,r){return this._context.createBuffer(t,s,r)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,s){return this._context.createIIRFilter(t,s)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,s,r){return this._context.createPeriodicWave(t,s,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return At(Xi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return At(Xi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return At(Xi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){At(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){At(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){At(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){At(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,s){return zF(this.rawContext,t,s)}addAudioWorkletModule(t){return ce(this,void 0,void 0,function*(){At(bt(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(t)),yield this._workletPromise})}workletsAreReady(){return ce(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get lookAhead(){return this._lookAhead}set lookAhead(t){this._lookAhead=t,this.updateInterval=t?t/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Xi(this._context)?this._context.resume():Promise.resolve()}close(){return ce(this,void 0,void 0,function*(){Xi(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&QF(this)})}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const s=this._context.createBuffer(1,128,this._context.sampleRate),r=s.getChannelData(0);for(let c=0;c<r.length;c++)r[c]=t;const o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=s,o.loop=!0,o.start(0),this._constants.set(t,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(t=>this._constants[t].disconnect()),this.close(),this}_timeoutLoop(){const t=this.now();let s=this._timeouts.peek();for(;this._timeouts.length&&s&&s.time<=t;)s.callback(),this._timeouts.shift(),s=this._timeouts.peek()}setTimeout(t,s){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:r+s}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach(s=>{s.id===t&&this._timeouts.remove(s)}),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,s){const r=++this._timeoutIds,o=()=>{const c=this.now();this._timeouts.add({callback:()=>{t(),o()},id:r,time:c+s})};return o(),r}}class WF extends dy{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,s,r){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,s){return{}}createPanner(){return{}}createPeriodicWave(t,s,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,s){return{}}get rawContext(){return{}}addAudioWorkletModule(t){return ce(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(t,s){return 0}clearTimeout(t){return this}setInterval(t,s){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}}function Mt(u,t){Hn(t)?t.forEach(s=>Mt(u,s)):Object.defineProperty(u,t,{enumerable:!0,writable:!1})}function py(u,t){Hn(t)?t.forEach(s=>py(u,s)):Object.defineProperty(u,t,{writable:!0})}const Nt=()=>{};class zt extends ks{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Nt;const t=$(zt.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,Os(t.url)?this.load(t.url).catch(t.onerror):t.url&&this.set(t.url)}static getDefaults(){return{onerror:Nt,onload:Nt,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Gn().sampleRate}set(t){return t instanceof zt?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return ce(this,void 0,void 0,function*(){const s=zt.load(t).then(r=>{this.set(r),this.onload(this)});zt.downloads.push(s);try{yield s}finally{const r=zt.downloads.indexOf(s);zt.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const s=Hn(t)&&t[0].length>0,r=s?t.length:1,o=s?t[0].length:t.length,c=Gn(),f=c.createBuffer(r,o,c.sampleRate),d=!s&&r===1?[t]:t;for(let m=0;m<r;m++)f.copyToChannel(d[m],m);return this._buffer=f,this}toMono(t){if(Qu(t))this.fromArray(this.toArray(t));else{let s=new Float32Array(this.length);const r=this.numberOfChannels;for(let o=0;o<r;o++){const c=this.toArray(o);for(let f=0;f<c.length;f++)s[f]+=c[f]}s=s.map(o=>o/r),this.fromArray(s)}return this}toArray(t){if(Qu(t))return this.getChannelData(t);if(this.numberOfChannels===1)return this.toArray(0);{const s=[];for(let r=0;r<this.numberOfChannels;r++)s[r]=this.getChannelData(r);return s}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,s=this.duration){At(this.loaded,"Buffer is not loaded");const r=Math.floor(t*this.sampleRate),o=Math.floor(s*this.sampleRate);At(r<o,"The start time must be less than the end time");const c=o-r,f=Gn().createBuffer(this.numberOfChannels,c,this.sampleRate);for(let d=0;d<this.numberOfChannels;d++)f.copyToChannel(this.getChannelData(d).subarray(r,o),d);return new zt(f)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return new zt().fromArray(t)}static fromUrl(t){return ce(this,void 0,void 0,function*(){return yield new zt().load(t)})}static load(t){return ce(this,void 0,void 0,function*(){const s=t.match(/\[([^\]\[]+\|.+)\]$/);if(s){const m=s[1].split("|");let p=m[0];for(const g of m)if(zt.supportsType(g)){p=g;break}t=t.replace(s[0],p)}const r=zt.baseUrl===""||zt.baseUrl.endsWith("/")?zt.baseUrl:zt.baseUrl+"/",o=document.createElement("a");o.href=r+t,o.pathname=(o.pathname+o.hash).split("/").map(encodeURIComponent).join("/");const c=yield fetch(o.href);if(!c.ok)throw new Error(`could not load url: ${t}`);const f=yield c.arrayBuffer();return yield Gn().decodeAudioData(f)})}static supportsType(t){const s=t.split("."),r=s[s.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return ce(this,void 0,void 0,function*(){for(yield Promise.resolve();zt.downloads.length;)yield zt.downloads[0]})}}zt.baseUrl="";zt.downloads=[];class hc extends Ha{constructor(){super({clockSource:"offline",context:pl(arguments[0])?arguments[0]:VF(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:pl(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=pl(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return ce(this,void 0,void 0,function*(){let s=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,s++;const r=Math.floor(this.sampleRate/128);t&&s%r===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(t=!0){return ce(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(t);const s=yield this._context.startRendering();return new zt(s)})}close(){return Promise.resolve()}}const my=new WF;let Gu=my;function Gn(){return Gu===my&&UF&&KF(new Ha),Gu}function KF(u,t=!1){t&&Gu.dispose(),Xi(u)?Gu=new Ha(u):pl(u)?Gu=new hc(u):Gu=u}function xl(){return Gu.resume()}if(Yu&&!Yu.TONE_SILENCE_LOGGING){const t=` * Tone.js v${mD} * `;console.log(`%c${t}`,"background: #000; color: #fff")}function $F(u){return Math.pow(10,u/20)}function JF(u){return 20*(Math.log(u)/Math.LN10)}function gy(u){return Math.pow(2,u/12)}let fc=440;function t8(){return fc}function e8(u){fc=u}function nd(u){return Math.round(Dy(u))}function Dy(u){return 69+12*Math.log2(u/fc)}function n8(u){return fc*Math.pow(2,(u-69)/12)}class zd extends ks{constructor(t,s,r){super(),this.defaultUnits="s",this._val=s,this._units=r,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,s)=>{const r=parseInt(t,10),o=s==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/r)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const s=parseInt(t,10);return this._beatsToUnits(8/(Math.floor(s)*3))},regexp:/^(\d+)t$/i},tr:{method:(t,s,r)=>{let o=0;return t&&t!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),s&&s!=="0"&&(o+=this._beatsToUnits(parseFloat(s))),r&&r!=="0"&&(o+=this._beatsToUnits(parseFloat(r)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof zd&&this.fromType(this._val),Rn(this._val))return this._noArg();if(Os(this._val)&&Rn(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(Hu(this._val)){let t=0;for(const s in this._val)if(bt(this._val[s])){const r=this._val[s],o=new this.constructor(this.context,s).valueOf()*r;t+=o}return t}if(bt(this._units)){const t=this._expressions[this._units],s=this._val.toString().trim().match(t.regexp);return s?t.method.apply(this,s.slice(1)):t.method.call(this,this._val)}else return Os(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Pn extends zd{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const s=new Pn(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(s))},regexp:/^@(.+)/}})}quantize(t,s=1){const r=new this.constructor(this.context,t).valueOf(),o=this.valueOf(),d=Math.round(o/r)*r-o;return o+d*s}toNotation(){const t=this.toSeconds(),s=["1m"];for(let c=1;c<9;c++){const f=Math.pow(2,c);s.push(f+"n."),s.push(f+"n"),s.push(f+"t")}s.push("0");let r=s[0],o=new Pn(this.context,s[0]).toSeconds();return s.forEach(c=>{const f=new Pn(this.context,c).toSeconds();Math.abs(f-t)<Math.abs(o-t)&&(r=c,o=f)}),r}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let s=this.valueOf()/t;s=parseFloat(s.toFixed(4));const r=Math.floor(s/this._getTimeSignature());let o=s%1*4;s=Math.floor(s)%this._getTimeSignature();const c=o.toString();return c.length>3&&(o=parseFloat(parseFloat(c).toFixed(3))),[r,s,o].join(":")}toTicks(){const t=this._beatsToUnits(1);return this.valueOf()/t*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return nd(this.toFrequency())}_now(){return this.context.now()}}class Nn extends Pn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return t8()}static set A4(t){e8(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return this.defaultUnits==="midi"?t:Nn.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(t,s){const o=s8[t.toLowerCase()]+(parseInt(s,10)+1)*12;return this.defaultUnits==="midi"?o:Nn.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,s,r){let o=1;return t&&t!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),s&&s!=="0"&&(o*=this._beatsToUnits(parseFloat(s))),r&&r!=="0"&&(o*=this._beatsToUnits(parseFloat(r)/4)),o}}})}transpose(t){return new Nn(this.context,this.valueOf()*gy(t))}harmonize(t){return t.map(s=>this.transpose(s))}toMidi(){return nd(this.valueOf())}toNote(){const t=this.toFrequency(),s=Math.log2(t/Nn.A4);let r=Math.round(12*s)+57;const o=Math.floor(r/12);return o<0&&(r+=-12*o),u8[r%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),s=this.valueOf()/t;return Math.floor(s*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(t*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return n8(t)}static ftom(t){return nd(t)}}const s8={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},u8=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class ya extends Pn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class rn extends ks{constructor(){super();const t=$(rn.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:Gn()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return kF(t),new Pn(this.context,t).toSeconds()}toFrequency(t){return new Nn(this.context,t).toFrequency()}toTicks(t){return new ya(this.context,t).toTicks()}_getPartialProperties(t){const s=this.get();return Object.keys(s).forEach(r=>{Rn(t[r])&&delete s[r]}),s}get(){const t=YF(this);return Object.keys(t).forEach(s=>{if(Reflect.has(this,s)){const r=this[s];bt(r)&&bt(r.value)&&bt(r.setValueAtTime)?t[s]=r.value:r instanceof rn?t[s]=r._getPartialProperties(t[s]):Hn(r)||Qu(r)||Os(r)||IF(r)?t[s]=r:delete t[s]}}),t}set(t){return Object.keys(t).forEach(s=>{Reflect.has(this,s)&&bt(this[s])&&(this[s]&&bt(this[s].value)&&bt(this[s].setValueAtTime)?this[s].value!==t[s]&&(this[s].value=t[s]):this[s]instanceof rn?this[s].set(t[s]):this[s]=t[s])}),this}}class jd extends Mn{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const s=this.get(t);return s!==null?s.state:this._initial}setStateAtTime(t,s,r){return rs(s,0),this.add(Object.assign({},r,{state:t,time:s})),this}getLastState(t,s){const r=this._search(s);for(let o=r;o>=0;o--){const c=this._timeline[o];if(c.state===t)return c}}getNextState(t,s){const r=this._search(s);if(r!==-1)for(let o=r;o<this._timeline.length;o++){const c=this._timeline[o];if(c.state===t)return c}}}class wt extends rn{constructor(){super($(wt.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const t=$(wt.getDefaults(),arguments,["param","units","convert"]);for(At(bt(t.param)&&(Wu(t.param)||t.param instanceof wt),"param must be an AudioParam");!Wu(t.param);)t.param=t.param._param;this._swappable=bt(t.swappable)?t.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new Mn(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,bt(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(rn.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return bt(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return bt(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(t,s){return this.units===s}_assertRange(t){return bt(this.maxValue)&&bt(this.minValue)&&rs(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?$F(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&this.units==="decibels"?JF(t):t}setValueAtTime(t,s){const r=this.toSeconds(s),o=this._fromType(t);return At(isFinite(o)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(s)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",t,r),this._events.add({time:r,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,r),this}getValueAtTime(t){const s=Math.max(this.toSeconds(t),0),r=this._events.getAfter(s),o=this._events.get(s);let c=this._initialValue;if(o===null)c=this._initialValue;else if(o.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const f=this._events.getBefore(o.time);let d;f===null?d=this._initialValue:d=f.value,o.type==="setTargetAtTime"&&(c=this._exponentialApproach(o.time,d,o.value,o.constant,s))}else if(r===null)c=o.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let f=o.value;if(o.type==="setTargetAtTime"){const d=this._events.getBefore(o.time);d===null?f=this._initialValue:f=d.value}r.type==="linearRampToValueAtTime"?c=this._linearInterpolate(o.time,f,r.time,r.value,s):c=this._exponentialInterpolate(o.time,f,r.time,r.value,s)}else c=o.value;return this._toType(c)}setRampPoint(t){t=this.toSeconds(t);let s=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),this._fromType(s)===0&&(s=this._toType(this._minOutput)),this.setValueAtTime(s,t),this}linearRampToValueAtTime(t,s){const r=this._fromType(t),o=this.toSeconds(s);return At(isFinite(r)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(s)}`),this._assertRange(r),this._events.add({time:o,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",t,o),this._param.linearRampToValueAtTime(r,o),this}exponentialRampToValueAtTime(t,s){let r=this._fromType(t);r=jn(r,0)?this._minOutput:r,this._assertRange(r);const o=this.toSeconds(s);return At(isFinite(r)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(s)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",t,o),this._param.exponentialRampToValueAtTime(r,o),this}exponentialRampTo(t,s,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(t,r+this.toSeconds(s)),this}linearRampTo(t,s,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(t,r+this.toSeconds(s)),this}targetRampTo(t,s,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(t,r,s),this}exponentialApproachValueAtTime(t,s,r){s=this.toSeconds(s),r=this.toSeconds(r);const o=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(t,s,o),this.cancelAndHoldAtTime(s+r*.9),this.linearRampToValueAtTime(t,s+r),this}setTargetAtTime(t,s,r){const o=this._fromType(t);At(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const c=this.toSeconds(s);return this._assertRange(o),At(isFinite(o)&&isFinite(c),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(s)}`),this._events.add({constant:r,time:c,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",t,c,r),this._param.setTargetAtTime(o,c,r),this}setValueCurveAtTime(t,s,r,o=1){r=this.toSeconds(r),s=this.toSeconds(s);const c=this._fromType(t[0])*o;this.setValueAtTime(this._toType(c),s);const f=r/(t.length-1);for(let d=1;d<t.length;d++){const m=this._fromType(t[d])*o;this.linearRampToValueAtTime(this._toType(m),s+d*f)}return this}cancelScheduledValues(t){const s=this.toSeconds(t);return At(isFinite(s),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(s),this._param.cancelScheduledValues(s),this.log(this.units,"cancelScheduledValues",s),this}cancelAndHoldAtTime(t){const s=this.toSeconds(t),r=this._fromType(this.getValueAtTime(s));At(isFinite(s),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",s,"value="+r);const o=this._events.get(s),c=this._events.getAfter(s);return o&&jn(o.time,s)?c?(this._param.cancelScheduledValues(c.time),this._events.cancel(c.time)):(this._param.cancelAndHoldAtTime(s),this._events.cancel(s+this.sampleTime)):c&&(this._param.cancelScheduledValues(c.time),this._events.cancel(c.time),c.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),s):c.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),s)),this._events.add({time:s,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,s),this}rampTo(t,s=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(t,s,r):this.linearRampTo(t,s,r),this}apply(t){const s=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(s),s);const r=this._events.get(s);if(r&&r.type==="setTargetAtTime"){const o=this._events.getAfter(r.time),c=o?o.time:s+2,f=(c-s)/10;for(let d=s;d<c;d+=f)t.linearRampToValueAtTime(this.getValueAtTime(d),d)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?t.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?t.setTargetAtTime(o.value,o.time,o.constant):t[o.type](o.value,o.time)}),this}setParam(t){At(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const s=this.input;return s.disconnect(this._param),this.apply(t),this._param=t,s.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,s,r,o,c){return r+(s-r)*Math.exp(-(c-t)/o)}_linearInterpolate(t,s,r,o,c){return s+(o-s)*((c-t)/(r-t))}_exponentialInterpolate(t,s,r,o,c){return s*Math.pow(o/s,(c-t)/(r-t))}}class ft extends rn{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return bt(this.input)?Wu(this.input)||this.input instanceof wt?1:this.input.numberOfInputs:0}get numberOfOutputs(){return bt(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return bt(t)&&(t instanceof ft||pu(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach(r=>{r.channelCount=t.channelCount,r.channelCountMode=t.channelCountMode,r.channelInterpretation=t.channelInterpretation})}_getChannelProperties(){const t=this._getInternalNodes();At(t.length>0,"ToneAudioNode does not have any internal nodes");const s=t[0];return{channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelInterpretation:t}))}connect(t,s=0,r=0){return mu(this,t,s,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Vd("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,s=0,r=0){return i8(this,t,s,r),this}chain(...t){return wl(this,...t),this}fan(...t){return t.forEach(s=>this.connect(s)),this}dispose(){return super.dispose(),bt(this.input)&&(this.input instanceof ft?this.input.dispose():pu(this.input)&&this.input.disconnect()),bt(this.output)&&(this.output instanceof ft?this.output.dispose():pu(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function wl(...u){const t=u.shift();u.reduce((s,r)=>(s instanceof ft?s.connect(r):pu(s)&&mu(s,r),r),t)}function mu(u,t,s=0,r=0){for(At(bt(u),"Cannot connect from undefined node"),At(bt(t),"Cannot connect to undefined node"),(t instanceof ft||pu(t))&&At(t.numberOfInputs>0,"Cannot connect to node with no inputs"),At(u.numberOfOutputs>0,"Cannot connect from node with no outputs");t instanceof ft||t instanceof wt;)bt(t.input)&&(t=t.input);for(;u instanceof ft;)bt(u.output)&&(u=u.output);Wu(t)?u.connect(t,s):u.connect(t,s,r)}function i8(u,t,s=0,r=0){if(bt(t))for(;t instanceof ft;)t=t.input;for(;!pu(u);)bt(u.output)&&(u=u.output);Wu(t)?u.disconnect(t,s):pu(t)?u.disconnect(t,s,r):u.disconnect()}class Rt extends ft{constructor(){super($(Rt.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const t=$(Rt.getDefaults(),arguments,["gain","units"]);this.gain=new wt({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Mt(this,"gain")}static getDefaults(){return Object.assign(ft.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class sr extends ft{constructor(t){super(t),this.onended=Nt,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Rt({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(s){const r=this.toSeconds(s);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(ft.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Nt})}_startGain(t,s=1){At(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=t+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,t),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(s,t+r):this._gainNode.gain.exponentialApproachValueAtTime(s,t,r)):this._gainNode.gain.setValueAtTime(s,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){At(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const s=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+s,this._stopTime=Math.max(this._stopTime,this.now()),s>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,s,t):this._gainNode.gain.targetRampTo(0,s,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?s*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Nt&&(this.onended(this),this.onended=Nt,!this.context.isOffline)){const t=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),At(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Nt,this}}class Ol extends sr{constructor(){super($(Ol.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const t=$(Ol.getDefaults(),arguments,["offset"]);mu(this._source,this._gainNode),this.offset=new wt({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(sr.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const s=this.toSeconds(t);return this.log("start",s),this._startGain(s),this._source.start(s),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class ie extends ft{constructor(){super($(ie.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const t=$(ie.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Ol({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(ft.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,s=0,r=0){return Gd(this,t,s,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,s){return this._param.setValueAtTime(t,s),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,s){return this._param.linearRampToValueAtTime(t,s),this}exponentialRampToValueAtTime(t,s){return this._param.exponentialRampToValueAtTime(t,s),this}exponentialRampTo(t,s,r){return this._param.exponentialRampTo(t,s,r),this}linearRampTo(t,s,r){return this._param.linearRampTo(t,s,r),this}targetRampTo(t,s,r){return this._param.targetRampTo(t,s,r),this}exponentialApproachValueAtTime(t,s,r){return this._param.exponentialApproachValueAtTime(t,s,r),this}setTargetAtTime(t,s,r){return this._param.setTargetAtTime(t,s,r),this}setValueCurveAtTime(t,s,r,o){return this._param.setValueCurveAtTime(t,s,r,o),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,s,r){return this._param.rampTo(t,s,r),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function Gd(u,t,s,r){(t instanceof wt||Wu(t)||t instanceof ie&&t.override)&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0),t instanceof ie&&(t.overridden=!0)),mu(u,t,s,r)}class Bl extends wt{constructor(){super($(Bl.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Mn(1/0),this._multiplier=1;const t=$(Bl.getDefaults(),arguments,["value"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(wt.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,s,r){s=this.toSeconds(s),this.setRampPoint(s);const o=this._fromType(t),c=this._events.get(s),f=Math.round(Math.max(1/r,1));for(let d=0;d<=f;d++){const m=r*d+s,p=this._exponentialApproach(c.time,c.value,o,r,m);this.linearRampToValueAtTime(this._toType(p),m)}return this}setValueAtTime(t,s){const r=this.toSeconds(s);super.setValueAtTime(t,s);const o=this._events.get(r),c=this._events.previousEvent(o),f=this._getTicksUntilEvent(c,r);return o.ticks=Math.max(f,0),this}linearRampToValueAtTime(t,s){const r=this.toSeconds(s);super.linearRampToValueAtTime(t,s);const o=this._events.get(r),c=this._events.previousEvent(o),f=this._getTicksUntilEvent(c,r);return o.ticks=Math.max(f,0),this}exponentialRampToValueAtTime(t,s){s=this.toSeconds(s);const r=this._fromType(t),o=this._events.get(s),c=Math.round(Math.max((s-o.time)*10,1)),f=(s-o.time)/c;for(let d=0;d<=c;d++){const m=f*d+o.time,p=this._exponentialInterpolate(o.time,o.value,s,r,m);this.linearRampToValueAtTime(this._toType(p),m)}return this}_getTicksUntilEvent(t,s){if(t===null)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Rn(t.ticks)){const f=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(f,t.time)}const r=this._fromType(this.getValueAtTime(t.time));let o=this._fromType(this.getValueAtTime(s));const c=this._events.get(s);return c&&c.time===s&&c.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(s-this.sampleTime))),.5*(s-t.time)*(r+o)+t.ticks}getTicksAtTime(t){const s=this.toSeconds(t),r=this._events.get(s);return Math.max(this._getTicksUntilEvent(r,s),0)}getDurationOfTicks(t,s){const r=this.toSeconds(s),o=this.getTicksAtTime(s);return this.getTimeOfTick(o+t)-r}getTimeOfTick(t){const s=this._events.get(t,"ticks"),r=this._events.getAfter(t,"ticks");if(s&&s.ticks===t)return s.time;if(s&&r&&r.type==="linearRampToValueAtTime"&&s.value!==r.value){const o=this._fromType(this.getValueAtTime(s.time)),f=(this._fromType(this.getValueAtTime(r.time))-o)/(r.time-s.time),d=Math.sqrt(Math.pow(o,2)-2*f*(s.ticks-t)),m=(-o+d)/f,p=(-o-d)/f;return(m>0?m:p)+s.time}else return s?s.value===0?1/0:s.time+(t-s.ticks)/s.value:t/this._initialValue}ticksToTime(t,s){return this.getDurationOfTicks(t,s)}timeToTicks(t,s){const r=this.toSeconds(s),o=this.toSeconds(t),c=this.getTicksAtTime(r);return this.getTicksAtTime(r+o)-c}_fromType(t){return this.units==="bpm"&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return this.units==="bpm"&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const s=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(s,0)}}class Nl extends ie{constructor(){super($(Nl.getDefaults(),arguments,["value"])),this.name="TickSignal";const t=$(Nl.getDefaults(),arguments,["value"]);this.input=this._param=new Bl({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(ie.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,s){return this._param.ticksToTime(t,s)}timeToTicks(t,s){return this._param.timeToTicks(t,s)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,s){return this._param.getDurationOfTicks(t,s)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class Rl extends rn{constructor(){super($(Rl.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new jd,this._tickOffset=new Mn,this._ticksAtTime=new Mn,this._secondsAtTime=new Mn;const t=$(Rl.getDefaults(),arguments,["frequency"]);this.frequency=new Nl({context:this.context,units:t.units,value:t.frequency}),Mt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},rn.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,s){const r=this.toSeconds(t);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),bt(s)&&this.setTicksAtTime(s,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(t){const s=this.toSeconds(t);if(this._state.getValueAtTime(s)==="stopped"){const r=this._state.get(s);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(s),this._state.setStateAtTime("stopped",s),this.setTicksAtTime(0,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s),this}pause(t){const s=this.toSeconds(t);return this._state.getValueAtTime(s)==="started"&&(this._state.setStateAtTime("paused",s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getTicksAtTime(t){const s=this.toSeconds(t),r=this._state.getLastState("stopped",s),o=this._ticksAtTime.get(s),c={state:"paused",time:s};this._state.add(c);let f=o||r,d=o?o.ticks:0,m=null;return this._state.forEachBetween(f.time,s+this.sampleTime,p=>{let g=f.time;const D=this._tickOffset.get(p.time);D&&D.time>=f.time&&(d=D.ticks,g=D.time),f.state==="started"&&p.state!=="started"&&(d+=this.frequency.getTicksAtTime(p.time)-this.frequency.getTicksAtTime(g),p.time!==c.time&&(m={state:p.state,time:p.time,ticks:d})),f=p}),this._state.remove(c),m&&this._ticksAtTime.add(m),d}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const s=this.now(),r=this.frequency.timeToTicks(t,s);this.setTicksAtTime(r,s)}getSecondsAtTime(t){t=this.toSeconds(t);const s=this._state.getLastState("stopped",t),r={state:"paused",time:t};this._state.add(r);const o=this._secondsAtTime.get(t);let c=o||s,f=o?o.seconds:0,d=null;return this._state.forEachBetween(c.time,t+this.sampleTime,m=>{let p=c.time;const g=this._tickOffset.get(m.time);g&&g.time>=c.time&&(f=g.seconds,p=g.time),c.state==="started"&&m.state!=="started"&&(f+=m.time-p,m.time!==r.time&&(d={state:m.state,time:m.time,seconds:f})),c=m}),this._state.remove(r),d&&this._secondsAtTime.add(d),f}setTicksAtTime(t,s){return s=this.toSeconds(s),this._tickOffset.cancel(s),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,s),ticks:t,time:s}),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,s=this.now()){const r=this._tickOffset.get(s),o=this._state.get(s),c=Math.max(r.time,o.time),f=this.frequency.getTicksAtTime(c)+t-r.ticks;return this.frequency.getTimeOfTick(f)}forEachTickBetween(t,s,r){let o=this._state.get(t);this._state.forEachBetween(t,s,f=>{o&&o.state==="started"&&f.state!=="started"&&this.forEachTickBetween(Math.max(o.time,t),f.time-this.sampleTime,r),o=f});let c=null;if(o&&o.state==="started"){const f=Math.max(o.time,t),d=this.frequency.getTicksAtTime(f),m=this.frequency.getTicksAtTime(o.time),p=d-m;let g=Math.ceil(p)-p;g=jn(g,1)?0:g;let D=this.frequency.getTimeOfTick(d+g);for(;D<s;){try{r(D,Math.round(this.getTicksAtTime(D)))}catch(A){c=A;break}D+=this.frequency.getDurationOfTicks(1,D)}}if(c)throw c;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class ba extends rn{constructor(){super($(ba.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=Nt,this._lastUpdate=0,this._state=new jd("stopped"),this._boundLoop=this._loop.bind(this);const t=$(ba.getDefaults(),arguments,["callback","frequency"]);this.callback=t.callback,this._tickSource=new Rl({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Mt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(rn.getDefaults(),{callback:Nt,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,s){oy(this.context);const r=this.toSeconds(t);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,s),r<this._lastUpdate&&this.emit("start",r,s)),this}stop(t){const s=this.toSeconds(t);return this.log("stop",s),this._state.cancel(s),this._state.setStateAtTime("stopped",s),this._tickSource.stop(s),s<this._lastUpdate&&this.emit("stop",s),this}pause(t){const s=this.toSeconds(t);return this._state.getValueAtTime(s)==="started"&&(this._state.setStateAtTime("paused",s),this._tickSource.pause(s),s<this._lastUpdate&&this.emit("pause",s)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,s){return this._tickSource.setTicksAtTime(t,s),this}getTimeOfTick(t,s=this.now()){return this._tickSource.getTimeOfTick(t,s)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,s){const r=this.toSeconds(s),o=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(o+t,r)}_loop(){const t=this._lastUpdate,s=this.now();this._lastUpdate=s,this.log("loop",t,s),t!==s&&(this._state.forEachBetween(t,s,r=>{switch(r.state){case"started":const o=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,o);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(t,s,(r,o)=>{this.callback(r,o)}))}getStateAtTime(t){const s=this.toSeconds(t);return this._state.getValueAtTime(s)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Pa.mixin(ba);class Ml extends ft{constructor(){super($(Ml.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const t=$(Ml.getDefaults(),arguments,["delayTime","maxDelay"]),s=this.toSeconds(t.maxDelay);this._maxDelay=Math.max(s,this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(s),this.delayTime=new wt({context:this.context,param:this._delayNode.delayTime,units:"time",value:t.delayTime,minValue:0,maxValue:this.maxDelay}),Mt(this,"delayTime")}static getDefaults(){return Object.assign(ft.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class Pd extends ks{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=$(Pd.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach(s=>{this._loadingCount++;const r=t.urls[s];this.add(s,r,this._bufferLoaded.bind(this,t.onload),t.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Nt,onload:Nt,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return At(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,this._loadingCount===0&&t&&t()}get loaded(){return Array.from(this._buffers).every(([t,s])=>s.loaded)}add(t,s,r=Nt,o=Nt){return Os(s)?(this.baseUrl&&s.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(t.toString(),new zt(this.baseUrl+s,r,o))):this._buffers.set(t.toString(),new zt(s,r,o)),this}dispose(){return super.dispose(),this._buffers.forEach(t=>t.dispose()),this._buffers.clear(),this}}class Ki extends ya{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class r8 extends rn{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Mn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,s){return this._events.add({callback:t,time:this.toSeconds(s)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const s=this._events.shift();s&&t-s.time<=this.expiration&&s.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}lc(u=>{u.draw=new r8({context:u})});cc(u=>{u.draw.dispose()});class a8 extends ks{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){At(bt(t.time),"Events must have a time property"),At(bt(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let s=new o8(t.time,t.time+t.duration,t);for(this._root===null?this._root=s:this._root.insert(s),this._length++;s!==null;)s.updateHeight(),s.updateMax(),this._rebalance(s),s=s.parent;return this}remove(t){if(this._root!==null){const s=[];this._root.search(t.time,s);for(const r of s)if(r.event===t){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,s=>this.remove(s)),this}_setRoot(t){this._root=t,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(t,s){t.parent!==null?(t.isLeftChild()?t.parent.left=s:t.parent.right=s,this._rebalance(t.parent)):this._setRoot(s)}_removeNode(t){if(t.left===null&&t.right===null)this._replaceNodeInParent(t,null);else if(t.right===null)this._replaceNodeInParent(t,t.left);else if(t.left===null)this._replaceNodeInParent(t,t.right);else{const s=t.getBalance();let r,o=null;if(s>0)if(t.left.right===null)r=t.left,r.right=t.right,o=r;else{for(r=t.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,o=r.parent,r.left=t.left,r.right=t.right)}else if(t.right.left===null)r=t.right,r.left=t.left,o=r;else{for(r=t.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,o=r.parent,r.left=t.left,r.right=t.right)}t.parent!==null?t.isLeftChild()?t.parent.left=r:t.parent.right=r:this._setRoot(r),o&&this._rebalance(o)}t.dispose()}_rotateLeft(t){const s=t.parent,r=t.isLeftChild(),o=t.right;o&&(t.right=o.left,o.left=t),s!==null?r?s.left=o:s.right=o:this._setRoot(o)}_rotateRight(t){const s=t.parent,r=t.isLeftChild(),o=t.left;o&&(t.left=o.right,o.right=t),s!==null?r?s.left=o:s.right=o:this._setRoot(o)}_rebalance(t){const s=t.getBalance();s>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):s<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(this._root!==null){const s=[];if(this._root.search(t,s),s.length>0){let r=s[0];for(let o=1;o<s.length;o++)s[o].low>r.low&&(r=s[o]);return r.event}}return null}forEach(t){if(this._root!==null){const s=[];this._root.traverse(r=>s.push(r)),s.forEach(r=>{r.event&&t(r.event)})}return this}forEachAtTime(t,s){if(this._root!==null){const r=[];this._root.search(t,r),r.forEach(o=>{o.event&&s(o.event)})}return this}forEachFrom(t,s){if(this._root!==null){const r=[];this._root.searchAfter(t,r),r.forEach(o=>{o.event&&s(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(t=>t.dispose()),this._root=null,this}}class o8{constructor(t,s,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=t,this.high=s,this.max=this.high}insert(t){t.low<=this.low?this.left===null?this.left=t:this.left.insert(t):this.right===null?this.right=t:this.right.insert(t)}search(t,s){t>this.max||(this.left!==null&&this.left.search(t,s),this.low<=t&&this.high>t&&s.push(this),!(this.low>t)&&this.right!==null&&this.right.search(t,s))}searchAfter(t,s){this.low>=t&&(s.push(this),this.left!==null&&this.left.searchAfter(t,s)),this.right!==null&&this.right.searchAfter(t,s)}traverse(t){t(this),this.left!==null&&this.left.traverse(t),this.right!==null&&this.right.traverse(t)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return this.left!==null&&this.right!==null?t=this.left.height-this.right.height:this.left!==null?t=this.left.height+1:this.right!==null&&(t=-(this.right.height+1)),t}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Ku extends ft{constructor(){super($(Ku.getDefaults(),arguments,["volume"])),this.name="Volume";const t=$(Ku.getDefaults(),arguments,["volume"]);this.input=this.output=new Rt({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,Mt(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(ft.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Il extends ft{constructor(){super($(Il.getDefaults(),arguments)),this.name="Destination",this.input=new Ku({context:this.context}),this.output=new Rt({context:this.context}),this.volume=this.input.volume;const t=$(Il.getDefaults(),arguments);wl(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(ft.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),wl(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}lc(u=>{u.destination=new Il({context:u})});cc(u=>{u.destination.dispose()});class l8 extends ks{constructor(t){super(),this.name="TimelineValue",this._timeline=new Mn({memory:10}),this._initialValue=t}set(t,s){return this._timeline.add({value:t,time:s}),this}get(t){const s=this._timeline.get(t);return s?s.value:this._initialValue}}class $u extends ft{constructor(){super(Object.assign($($u.getDefaults(),arguments,["context"])))}connect(t,s=0,r=0){return Gd(this,t,s,r),this}}class Ju extends $u{constructor(){super(Object.assign($(Ju.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const t=$(Ju.getDefaults(),arguments,["mapping","length"]);Hn(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):MF(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(ie.getDefaults(),{length:1024})}setMap(t,s=1024){const r=new Float32Array(s);for(let o=0,c=s;o<c;o++){const f=o/(c-1)*2-1;r[o]=t(f,o)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){const s=["none","2x","4x"].some(r=>r.includes(t));At(s,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class kl extends $u{constructor(){super(Object.assign($(kl.getDefaults(),arguments,["value"]))),this.name="Pow";const t=$(kl.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new Ju({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign($u.getDefaults(),{value:1})}_expFunc(t){return s=>Math.pow(Math.abs(s),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class gu{constructor(t,s){this.id=gu._eventId++,this._remainderTime=0;const r=Object.assign(gu.getDefaults(),s);this.transport=t,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:Nt,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(t){if(this.callback){const s=this.transport.bpm.getDurationOfTicks(1,t);this.callback(t+this._remainderTime*s),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}gu._eventId=0;class Hd extends gu{constructor(t,s){super(t,s),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(Hd.getDefaults(),s);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},gu.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvent(){return Fl(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Ki(this.context,this._nextTick).toSeconds()):-1}_createEvents(t){Fl(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Ki(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const s=this.transport.getTicksAtTime(t);nr(s,this.time)&&(this._nextTick=this.floatTime+Math.ceil((s-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Sa extends rn{constructor(){super($(Sa.getDefaults(),arguments)),this.name="Transport",this._loop=new l8(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Mn,this._repeatedEvents=new a8,this._syncedSignals=[],this._swingAmount=0;const t=$(Sa.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new ba({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Mt(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(rn.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,s){if(this._loop.get(t)&&s>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),s=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&s%this._ppq!==0&&s%(this._swingTicks*2)!==0){const r=s%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(r*Math.PI)*this._swingAmount;t+=new Ki(this.context,this._swingTicks*2/3).toSeconds()*o}Og(!0),this._timeline.forEachAtTime(s,r=>r.invoke(t)),Og(!1)}schedule(t,s){const r=new gu(this,{callback:t,time:new ya(this.context,s).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(t,s,r,o=1/0){const c=new Hd(this,{callback:t,duration:new Pn(this.context,o).toTicks(),interval:new Pn(this.context,s).toTicks(),time:new ya(this.context,r).toTicks()});return this._addEvent(c,this._repeatedEvents)}scheduleOnce(t,s){const r=new gu(this,{callback:t,once:!0,time:new ya(this.context,s).toTicks()});return this._addEvent(r,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const s=this._scheduledEvents[t.toString()];s.timeline.remove(s.event),s.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,s){return this._scheduledEvents[t.id.toString()]={event:t,timeline:s},s.add(t),t.id}cancel(t=0){const s=this.toTicks(t);return this._timeline.forEachFrom(s,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(s,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(t,s)=>{s=new Ki(this.context,s).toSeconds(),this.emit("start",t,s)}),this._clock.on("stop",t=>{this.emit("stop",t)}),this._clock.on("pause",t=>{this.emit("pause",t)})}get state(){return this._clock.getStateAtTime(this.now())}start(t,s){this.context.resume();let r;return bt(s)&&(r=this.toTicks(s)),this._clock.start(t,r),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),this._clock.getStateAtTime(t)!=="started"?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){Hn(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new Pn(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new Pn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,s){return this.loopStart=t,this.loopEnd=s,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new Ki(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),s=this._clock.getTicksAtTime(t);return new Ki(this.context,s).toBarsBeatsSixteenths()}set position(t){const s=this.toTicks(t);this.ticks=s}get seconds(){return this._clock.seconds}set seconds(t){const s=this.now(),r=this._clock.frequency.timeToTicks(t,s);this.ticks=r}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const s=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(s),o=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,s),c=s+o;this.emit("stop",c),this._clock.setTicksAtTime(t,c),this.emit("start",c,this._clock.getSecondsAtTime(c))}else this.emit("ticks",s),this._clock.setTicksAtTime(t,s)}}getTicksAtTime(t){return this._clock.getTicksAtTime(t)}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),this.state!=="started")return 0;{const s=this.now(),r=this.getTicksAtTime(s),o=t-r%t;return this._clock.nextTickTime(o,s)}}syncSignal(t,s){const r=this.now();let o=this.bpm,c=1/(60/o.getValueAtTime(r)/this.PPQ),f=[];if(t.units==="time"){const m=.015625/c,p=new Rt(m),g=new kl(-1),D=new Rt(m);o.chain(p,g,D),o=D,c=1/c,f=[p,g,D]}s||(t.getValueAtTime(r)!==0?s=t.getValueAtTime(r)/c:s=0);const d=new Rt(s);return o.connect(d),d.connect(t._param),f.push(d),this._syncedSignals.push({initial:t.value,nodes:f,signal:t}),t.value=0,this}unsyncSignal(t){for(let s=this._syncedSignals.length-1;s>=0;s--){const r=this._syncedSignals[s];r.signal===t&&(r.nodes.forEach(o=>o.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(s,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),py(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Pa.mixin(Sa);lc(u=>{u.transport=new Sa({context:u})});cc(u=>{u.transport.dispose()});class Be extends ft{constructor(t){super(t),this.input=void 0,this._state=new jd("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Nt,this._syncedStop=Nt,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Ku({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Mt(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(ft.getDefaults(),{mute:!1,onstop:Nt,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,s,r){let o=Rn(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")At(nr(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,s,r);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){const c=this._state.get(o);c&&(c.offset=this.toSeconds(Ji(s,0)),c.duration=r?this.toSeconds(r):void 0);const f=this.context.transport.schedule(d=>{this._start(d,s,r)},o);this._scheduled.push(f),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else oy(this.context),this._start(o,s,r);return this}stop(t){let s=Rn(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(s=this._clampToCurrentTime(s),this._state.getValueAtTime(s)==="started"||bt(this._state.getNextState("started",s))){if(this.log("stop",s),!this._synced)this._stop(s);else{const r=this.context.transport.schedule(this._stop.bind(this),s);this._scheduled.push(r)}this._state.cancel(s),this._state.setStateAtTime("stopped",s)}return this}restart(t,s,r){return t=this.toSeconds(t),this._state.getValueAtTime(t)==="started"&&(this._state.cancel(t),this._restart(t,s,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,s)=>{if(nr(s,0)){const r=this._state.get(s);if(r&&r.state==="started"&&r.time!==s){const o=s-this.toSeconds(r.time);let c;r.duration&&(c=this.toSeconds(r.duration)-o),this._start(t,this.toSeconds(r.offset)+o,c)}}},this._syncedStop=t=>{const s=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));this._state.getValueAtTime(s)==="started"&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(t=>this.context.transport.clear(t)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Nt,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class ur extends sr{constructor(){super($(ur.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const t=$(ur.getDefaults(),arguments,["url","onload"]);mu(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new wt({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new zt(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(sr.getDefaults(),{url:new zt,loop:!1,loopEnd:0,loopStart:0,onload:Nt,onerror:Nt,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,s,r,o=1){At(this.buffer.loaded,"buffer is either not set or not loaded");const c=this.toSeconds(t);this._startGain(c,o),this.loop?s=Ji(s,this.loopStart):s=Ji(s,0);let f=Math.max(this.toSeconds(s),0);if(this.loop){const d=this.toSeconds(this.loopEnd)||this.buffer.duration,m=this.toSeconds(this.loopStart),p=d-m;ed(f,d)&&(f=(f-m)%p+m),jn(f,this.buffer.duration)&&(f=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Fl(f,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(c,f)),bt(r)){let d=this.toSeconds(r);d=Math.max(d,0),this.stop(c+d)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class ir extends Be{constructor(){super($(ir.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const t=$(ir.getDefaults(),arguments,["type"]);this._playbackRate=t.playbackRate,this.type=t.type,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Be.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(t){if(At(t in Bg,"Noise: invalid type: "+t),this._type!==t&&(this._type=t,this.state==="started")){const s=this.now();this._stop(s),this._start(s)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}_start(t){const s=Bg[this._type];this._source=new ur({url:s,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(t),Math.random()*(s.duration-.001))}_stop(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(t){this._stop(t),this._start(t)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const Yi=44100*5,Vf=2,Ts={brown:null,pink:null,white:null},Bg={get brown(){if(!Ts.brown){const u=[];for(let t=0;t<Vf;t++){const s=new Float32Array(Yi);u[t]=s;let r=0;for(let o=0;o<Yi;o++){const c=Math.random()*2-1;s[o]=(r+.02*c)/1.02,r=s[o],s[o]*=3.5}}Ts.brown=new zt().fromArray(u)}return Ts.brown},get pink(){if(!Ts.pink){const u=[];for(let t=0;t<Vf;t++){const s=new Float32Array(Yi);u[t]=s;let r,o,c,f,d,m,p;r=o=c=f=d=m=p=0;for(let g=0;g<Yi;g++){const D=Math.random()*2-1;r=.99886*r+D*.0555179,o=.99332*o+D*.0750759,c=.969*c+D*.153852,f=.8665*f+D*.3104856,d=.55*d+D*.5329522,m=-.7616*m-D*.016898,s[g]=r+o+c+f+d+m+p+D*.5362,s[g]*=.11,p=D*.115926}}Ts.pink=new zt().fromArray(u)}return Ts.pink},get white(){if(!Ts.white){const u=[];for(let t=0;t<Vf;t++){const s=new Float32Array(Yi);u[t]=s;for(let r=0;r<Yi;r++)s[r]=Math.random()*2-1}Ts.white=new zt().fromArray(u)}return Ts.white}};function ri(u,t){return ce(this,void 0,void 0,function*(){const s=t/u.context.sampleRate,r=new hc(1,s,u.context.sampleRate);return new u.constructor(Object.assign(u.get(),{frequency:2/s,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Ll extends sr{constructor(){super($(Ll.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const t=$(Ll.getDefaults(),arguments,["frequency","type"]);mu(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new wt({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new wt({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),Mt(this,["frequency","detune"])}static getDefaults(){return Object.assign(sr.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const s=this.toSeconds(t);return this.log("start",s),this._startGain(s),this._oscillator.start(s),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class le extends Be{constructor(){super($(le.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const t=$(le.getDefaults(),arguments,["frequency","type"]);this.frequency=new ie({context:this.context,units:"frequency",value:t.frequency}),Mt(this,"frequency"),this.detune=new ie({context:this.context,units:"cents",value:t.detune}),Mt(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&t.type!=="custom"&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(Be.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const s=this.toSeconds(t),r=new Ll({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(s)}_stop(t){const s=this.toSeconds(t);this._oscillator&&this._oscillator.stop(s)}_restart(t){const s=this.toSeconds(t);return this.log("restart",s),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(s),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return le._periodicWaveCache.find(s=>s.phase===this._phase&&HF(s.partials,this._partials));{const t=le._periodicWaveCache.find(s=>s.type===this._type&&s.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const s=["sine","square","sawtooth","triangle"].indexOf(t)!==-1;if(this._phase===0&&s)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=t);else{const r=this._getCachedPeriodicWave();if(bt(r)){const{partials:o,wave:c}=r;this._wave=c,this._partials=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[o,c]=this._getRealImaginary(t,this._phase),f=this.context.createPeriodicWave(o,c);this._wave=f,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),le._periodicWaveCache.push({imag:c,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:o,type:this._type,wave:this._wave}),le._periodicWaveCache.length>100&&le._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&this._type!=="custom"&&t!=="custom"?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){rs(t,0);let s=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(s=r[1]),this._type!=="custom")t===0?this.type=s:this.type=s+t.toString();else{const o=new Float32Array(t);this._partials.forEach((c,f)=>o[f]=c),this._partials=Array.from(o),this.type=this._type}}_getRealImaginary(t,s){let o=2048;const c=new Float32Array(o),f=new Float32Array(o);let d=1;if(t==="custom"){if(d=this._partials.length+1,this._partialCount=this._partials.length,o=d,this._partials.length===0)return[c,f]}else{const m=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);m?(d=parseInt(m[2],10)+1,this._partialCount=parseInt(m[2],10),t=m[1],d=Math.max(d,2),o=d):this._partialCount=0,this._partials=[]}for(let m=1;m<o;++m){const p=2/(m*Math.PI);let g;switch(t){case"sine":g=m<=d?1:0,this._partials[m-1]=g;break;case"square":g=m&1?2*p:0,this._partials[m-1]=g;break;case"sawtooth":g=p*(m&1?1:-1),this._partials[m-1]=g;break;case"triangle":m&1?g=2*(p*p)*(m-1>>1&1?-1:1):g=0,this._partials[m-1]=g;break;case"custom":g=this._partials[m-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}g!==0?(c[m]=-g*Math.sin(s*m),f[m]=g*Math.cos(s*m)):(c[m]=0,f[m]=0)}return[c,f]}_inverseFFT(t,s,r){let o=0;const c=t.length;for(let f=0;f<c;f++)o+=t[f]*Math.cos(f*r)+s[f]*Math.sin(f*r);return o}getInitialValue(){const[t,s]=this._getRealImaginary(this._type,0);let r=0;const o=Math.PI*2,c=32;for(let f=0;f<c;f++)r=Math.max(this._inverseFFT(t,s,f/c*o),r);return XF(-this._inverseFFT(t,s,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return ce(this,void 0,void 0,function*(){return ri(this,t)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}le._periodicWaveCache=[];class c8 extends $u{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Ju({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Bs extends ie{constructor(){super(Object.assign($(Bs.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const t=$(Bs.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Rt({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(ie.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Ta extends Be{constructor(){super($(Ta.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new c8({context:this.context}),this._modulationNode=new Rt({context:this.context});const t=$(Ta.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new le({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new le({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Bs({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Mt(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(le.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return ce(this,void 0,void 0,function*(){return ri(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Fa extends Be{constructor(){super($(Fa.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Rt({context:this.context,gain:0});const t=$(Fa.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new le({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new ie({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new le({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Bs({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new Bs({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Mt(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(le.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return ce(this,void 0,void 0,function*(){return ri(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class rr extends Be{constructor(){super($(rr.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Rt({context:this.context,gain:0}),this._thresh=new Ju({context:this.context,mapping:s=>s<=0?-1:1});const t=$(rr.getDefaults(),arguments,["frequency","width"]);this.width=new ie({context:this.context,units:"audioRange",value:t.width}),this._triangle=new le({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Mt(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Be.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return ce(this,void 0,void 0,function*(){return ri(this,t)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class xa extends Be{constructor(){super($(xa.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const t=$(xa.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new ie({context:this.context,units:"frequency",value:t.frequency}),this.detune=new ie({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Mt(this,["frequency","detune"])}static getDefaults(){return Object.assign(le.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach(s=>s.start(t))}_stop(t){t=this.toSeconds(t),this._forEach(s=>s.stop(t))}_restart(t){this._forEach(s=>s.restart(t))}_forEach(t){for(let s=0;s<this._oscillators.length;s++)t(this._oscillators[s],s)}get type(){return this._type}set type(t){this._type=t,this._forEach(s=>s.type=t)}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const s=-t/2,r=t/(this._oscillators.length-1);this._forEach((o,c)=>o.detune.value=s+r*c)}}get count(){return this._oscillators.length}set count(t){if(rs(t,1),this._oscillators.length!==t){this._forEach(s=>s.dispose()),this._oscillators=[];for(let s=0;s<t;s++){const r=new le({context:this.context,volume:-6-t*1.1,type:this._type,phase:this._phase+s/t*360,partialCount:this._partialCount,onstop:s===0?()=>this.onstop(this):Nt});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[s]=r}this.spread=this._spread,this.state==="started"&&this._forEach(s=>s.start())}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((s,r)=>s.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach(s=>s.baseType=t),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach(s=>s.partials=t))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach(s=>s.partialCount=t),this._type=this._oscillators[0].type}asArray(t=1024){return ce(this,void 0,void 0,function*(){return ri(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(t=>t.dispose()),this}}class wa extends Be{constructor(){super($(wa.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Bs({context:this.context,value:2});const t=$(wa.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new rr({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new le({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Mt(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Be.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return ce(this,void 0,void 0,function*(){return ri(this,t)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Ng={am:Ta,fat:xa,fm:Fa,oscillator:le,pulse:rr,pwm:wa};class ti extends Be{constructor(){super($(ti.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const t=$(ti.getDefaults(),arguments,["frequency","type"]);this.frequency=new ie({context:this.context,units:"frequency",value:t.frequency}),this.detune=new ie({context:this.context,units:"cents",value:t.detune}),Mt(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(le.getDefaults(),Fa.getDefaults(),Ta.getDefaults(),xa.getDefaults(),rr.getDefaults(),wa.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some(s=>this._sourceType===s)&&(t=this._sourceType),t+this._oscillator.type}set type(t){t.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):t==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):t==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const s=Ng[t],r=this.now();if(this._oscillator){const o=this._oscillator;o.stop(r),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new s({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let s="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(s=this._oscillator.type),t==="fm"?this.type="fm"+s:t==="am"?this.type="am"+s:t==="fat"?this.type="fat"+s:t==="oscillator"?this.type=s:t==="pulse"?this.type="pulse":t==="pwm"&&(this.type="pwm")}_getOscType(t,s){return t instanceof Ng[s]}get baseType(){return this._oscillator.baseType}set baseType(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&t!=="pulse"&&t!=="pwm"&&(this._oscillator.baseType=t)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(t){this._getOscType(this._oscillator,"fat")&&Qu(t)&&(this._oscillator.count=t)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(t){this._getOscType(this._oscillator,"fat")&&Qu(t)&&(this._oscillator.spread=t)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Os(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(t=1024){return ce(this,void 0,void 0,function*(){return ri(this,t)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function yy(u,t=1/0){const s=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(c){rs(c,u,t),s.set(this,c)}})}}function Ls(u,t=1/0){const s=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(c){rs(this.toSeconds(c),u,t),s.set(this,c)}})}}let Ay=class sd extends Be{constructor(){super($(sd.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const t=$(sd.getDefaults(),arguments,["url","onload"]);this._buffer=new zt({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Be.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Nt,onerror:Nt,playbackRate:1,reverse:!1})}load(t){return ce(this,void 0,void 0,function*(){return yield this._buffer.load(t),this._onload(),this})}_onload(t=Nt){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,s,r){return super.start(t,s,r),this}_start(t,s,r){this._loop?s=Ji(s,this._loopStart):s=Ji(s,0);const o=this.toSeconds(s),c=r;r=Ji(r,Math.max(this._buffer.duration-o,0));let f=this.toSeconds(r);f=f/this._playbackRate,t=this.toSeconds(t);const d=new ur({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(t+f),this._state.setStateAtTime("stopped",t+f,{implicitEnd:!0})),this._activeSources.add(d),this._loop&&Rn(c)?d.start(t,o):d.start(t,o,f-this.toSeconds(this.fadeOut))}_stop(t){const s=this.toSeconds(t);this._activeSources.forEach(r=>r.stop(s))}restart(t,s,r){return super.restart(t,s,r),this}_restart(t,s,r){var o;(o=[...this._activeSources].pop())===null||o===void 0||o.stop(t),this._start(t,s,r)}seek(t,s){const r=this.toSeconds(s);if(this._state.getValueAtTime(r)==="started"){const o=this.toSeconds(t);this._stop(r),this._start(r,o)}return this}setLoopPoints(t,s){return this.loopStart=t,this.loopEnd=s,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&rs(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(s=>{s.loopStart=t})}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&rs(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(s=>{s.loopEnd=t})}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach(s=>{s.loop=t}),t)){const s=this._state.getNextState("stopped",this.now());s&&this._state.cancel(s.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const s=this.now(),r=this._state.getNextState("stopped",s);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(t,s)})}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(t=>t.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}};Kn([Ls(0)],Ay.prototype,"fadeIn",void 0);Kn([Ls(0)],Ay.prototype,"fadeOut",void 0);class h8 extends $u{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Ju({context:this.context,mapping:t=>Math.abs(t)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Xn extends ft{constructor(){super($(Xn.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new ie({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const t=$(Xn.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(ft.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,s){if(Os(t))return t;{let r;for(r in hl)if(hl[r][s]===t)return r;return t}}_setCurve(t,s,r){if(Os(r)&&Reflect.has(hl,r)){const o=hl[r];Hu(o)?t!=="_decayCurve"&&(this[t]=o[s]):this[t]=o}else if(Hn(r)&&t!=="_decayCurve")this[t]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(t){this._setCurve("_decayCurve","Out",t)}triggerAttack(t,s=1){this.log("triggerAttack",t,s),t=this.toSeconds(t);let o=this.toSeconds(this.attack);const c=this.toSeconds(this.decay),f=this.getValueAtTime(t);if(f>0){const d=1/o;o=(1-f)/d}if(o<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(s,t);else if(this._attackCurve==="linear")this._sig.linearRampTo(s,o,t);else if(this._attackCurve==="exponential")this._sig.targetRampTo(s,o,t);else{this._sig.cancelAndHoldAtTime(t);let d=this._attackCurve;for(let m=1;m<d.length;m++)if(d[m-1]<=f&&f<=d[m]){d=this._attackCurve.slice(m),d[0]=f;break}this._sig.setValueCurveAtTime(d,t,o,s)}if(c&&this.sustain<1){const d=s*this.sustain,m=t+o;this.log("decay",m),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(d,c+m):this._sig.exponentialApproachValueAtTime(d,m,c)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const s=this.getValueAtTime(t);if(s>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,t):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,t):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,t):(At(Hn(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,r,s))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,s,r=1){return s=this.toSeconds(s),this.triggerAttack(s,r),this.triggerRelease(s+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,s=0,r=0){return Gd(this,t,s,r),this}asArray(t=1024){return ce(this,void 0,void 0,function*(){const s=t/this.context.sampleRate,r=new hc(1,s,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),c=o+this.toSeconds(this.release),f=c*.1,d=c+f,m=new this.constructor(Object.assign(this.get(),{attack:s*this.toSeconds(this.attack)/d,decay:s*this.toSeconds(this.decay)/d,release:s*this.toSeconds(this.release)/d,context:r}));return m._sig.toDestination(),m.triggerAttackRelease(s*(o+f)/d,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Kn([Ls(0)],Xn.prototype,"attack",void 0);Kn([Ls(0)],Xn.prototype,"decay",void 0);Kn([yy(0,1)],Xn.prototype,"sustain",void 0);Kn([Ls(0)],Xn.prototype,"release",void 0);const hl=(()=>{let t,s;const r=[];for(t=0;t<128;t++)r[t]=Math.sin(t/127*(Math.PI/2));const o=[],c=6.4;for(t=0;t<127;t++){s=t/127;const A=Math.sin(s*(Math.PI*2)*c-Math.PI/2)+1;o[t]=A/10+s*.83}o[127]=1;const f=[],d=5;for(t=0;t<128;t++)f[t]=Math.ceil(t/127*d)/d;const m=[];for(t=0;t<128;t++)s=t/127,m[t]=.5*(1-Math.cos(Math.PI*s));const p=[];for(t=0;t<128;t++){s=t/127;const A=Math.pow(s,3)*4+.2,E=Math.cos(A*Math.PI*2*s);p[t]=Math.abs(E*(1-s))}function g(A){const E=new Array(A.length);for(let _=0;_<A.length;_++)E[_]=1-A[_];return E}function D(A){return A.slice(0).reverse()}return{bounce:{In:g(p),Out:p},cosine:{In:r,Out:D(r)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:g(o)},sine:{In:m,Out:g(m)},step:{In:f,Out:g(f)}}})();class Ns extends ft{constructor(){super($(Ns.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=s=>this._original_triggerRelease(s);const t=$(Ns.getDefaults(),arguments);this._volume=this.output=new Ku({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Mt(this,"volume")}static getDefaults(){return Object.assign(ft.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,s){const r=this["_original_"+t]=this[t];this[t]=(...o)=>{const c=o[s],f=this.context.transport.schedule(d=>{o[s]=d,r.apply(this,o)},c);this._scheduledEvents.push(f)}}unsync(){return this._scheduledEvents.forEach(t=>this.context.transport.clear(t)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(t,s,r,o){const c=this.toSeconds(r),f=this.toSeconds(s);return this.triggerAttack(t,c,o),this.triggerRelease(c+f),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Rs extends Ns{constructor(){super($(Rs.getDefaults(),arguments));const t=$(Rs.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(Ns.getDefaults(),{detune:0,onsilence:Nt,portamento:0})}triggerAttack(t,s,r=1){this.log("triggerAttack",t,s,r);const o=this.toSeconds(s);return this._triggerEnvelopeAttack(o,r),this.setNote(t,o),this}triggerRelease(t){this.log("triggerRelease",t);const s=this.toSeconds(t);return this._triggerEnvelopeRelease(s),this}setNote(t,s){const r=this.toSeconds(s),o=t instanceof Nn?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const c=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,c,r)}else this.frequency.setValueAtTime(o,r);return this}}Kn([Ls(0)],Rs.prototype,"portamento",void 0);class Yd extends Xn{constructor(){super($(Yd.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Rt({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class vn extends Rs{constructor(){super($(vn.getDefaults(),arguments)),this.name="Synth";const t=$(vn.getDefaults(),arguments);this.oscillator=new ti(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Yd(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Mt(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Rs.getDefaults(),{envelope:Object.assign(Wi(Xn.getDefaults(),Object.keys(ft.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Wi(ti.getDefaults(),[...Object.keys(Be.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,s){if(this.envelope.triggerAttack(t,s),this.oscillator.start(t),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+r+o)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Oa extends Rs{constructor(){super($(Oa.getDefaults(),arguments)),this.name="ModulationSynth";const t=$(Oa.getDefaults(),arguments);this._carrier=new vn({context:this.context,oscillator:t.oscillator,envelope:t.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new vn({context:this.context,oscillator:t.modulation,envelope:t.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new ie({context:this.context,units:"frequency"}),this.detune=new ie({context:this.context,value:t.detune,units:"cents"}),this.harmonicity=new Bs({context:this.context,value:t.harmonicity,minValue:0}),this._modulationNode=new Rt({context:this.context,gain:0}),Mt(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Rs.getDefaults(),{harmonicity:3,oscillator:Object.assign(Wi(ti.getDefaults(),[...Object.keys(Be.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(Wi(Xn.getDefaults(),Object.keys(ft.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Wi(ti.getDefaults(),[...Object.keys(Be.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(Wi(Xn.getDefaults(),Object.keys(ft.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(t,s){this._carrier._triggerEnvelopeAttack(t,s),this._modulator._triggerEnvelopeAttack(t,s)}_triggerEnvelopeRelease(t){return this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class Ba extends Oa{constructor(){super($(Ba.getDefaults(),arguments)),this.name="FMSynth";const t=$(Ba.getDefaults(),arguments);this.modulationIndex=new Bs({context:this.context,value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(Oa.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}class ei extends vn{constructor(){super($(ei.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const t=$(ei.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Mt(this,["oscillator","envelope"])}static getDefaults(){return Xu(Rs.getDefaults(),vn.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,s){const r=this.toSeconds(s),o=this.toFrequency(t instanceof Nn?t.toFrequency():t),c=o*this.octaves;return this.oscillator.frequency.setValueAtTime(c,r),this.oscillator.frequency.exponentialRampToValueAtTime(o,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Kn([yy(0)],ei.prototype,"octaves",void 0);Kn([Ls(0)],ei.prototype,"pitchDecay",void 0);const Xd=new Set;function Zd(u){Xd.add(u)}function vy(u,t){const s=`registerProcessor("${u}", ${t})`;Xd.add(s)}function f8(){return Array.from(Xd).join(`
`)}class d8 extends ft{constructor(t){super(t),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=Nt;const s=URL.createObjectURL(new Blob([f8()],{type:"text/javascript"})),r=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(s).then(()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(r,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))})}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}const p8=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Zd(p8);const m8=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Zd(m8);const g8=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Zd(g8);const _y="feedback-comb-filter",D8=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;vy(_y,D8);class ql extends d8{constructor(){super($(ql.getDefaults(),arguments,["delayTime","resonance"])),this.name="FeedbackCombFilter";const t=$(ql.getDefaults(),arguments,["delayTime","resonance"]);this.input=new Rt({context:this.context}),this.output=new Rt({context:this.context}),this.delayTime=new wt({context:this.context,value:t.delayTime,units:"time",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new wt({context:this.context,value:t.resonance,units:"normalRange",param:this._dummyParam,swappable:!0}),Mt(this,["resonance","delayTime"])}_audioWorkletName(){return _y}static getDefaults(){return Object.assign(ft.getDefaults(),{delayTime:.1,resonance:.5})}onReady(t){wl(this.input,t,this.output);const s=t.parameters.get("delayTime");this.delayTime.setParam(s);const r=t.parameters.get("feedback");this.resonance.setParam(r)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class Vl extends ft{constructor(){super($(Vl.getDefaults(),arguments,["frequency","type"])),this.name="OnePoleFilter";const t=$(Vl.getDefaults(),arguments,["frequency","type"]);this._frequency=t.frequency,this._type=t.type,this.input=new Rt({context:this.context}),this.output=new Rt({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign(ft.getDefaults(),{frequency:880,type:"lowpass"})}_createFilter(){const t=this._filter,s=this.toFrequency(this._frequency),r=1/(2*Math.PI*s);if(this._type==="lowpass"){const o=1/(r*this.context.sampleRate),c=o-1;this._filter=this.context.createIIRFilter([o,0],[1,c])}else{const o=1/(r*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,o])}this.input.chain(this._filter,this.output),t&&this.context.setTimeout(()=>{this.disposed||(this.input.disconnect(t),t.disconnect())},this.blockTime)}get frequency(){return this._frequency}set frequency(t){this._frequency=t,this._createFilter()}get type(){return this._type}set type(t){this._type=t,this._createFilter()}getFrequencyResponse(t=128){const s=new Float32Array(t);for(let c=0;c<t;c++){const d=Math.pow(c/t,2)*19980+20;s[c]=d}const r=new Float32Array(t),o=new Float32Array(t);return this._filter.getFrequencyResponse(s,r,o),r}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class Ul extends ft{constructor(){super($(Ul.getDefaults(),arguments,["delayTime","resonance","dampening"])),this.name="LowpassCombFilter";const t=$(Ul.getDefaults(),arguments,["delayTime","resonance","dampening"]);this._combFilter=this.output=new ql({context:this.context,delayTime:t.delayTime,resonance:t.resonance}),this.delayTime=this._combFilter.delayTime,this.resonance=this._combFilter.resonance,this._lowpass=this.input=new Vl({context:this.context,frequency:t.dampening,type:"lowpass"}),this._lowpass.connect(this._combFilter)}static getDefaults(){return Object.assign(ft.getDefaults(),{dampening:3e3,delayTime:.1,resonance:.5})}get dampening(){return this._lowpass.frequency}set dampening(t){this._lowpass.frequency=t}dispose(){return super.dispose(),this._combFilter.dispose(),this._lowpass.dispose(),this}}class Na extends Ns{constructor(){super($(Na.getDefaults(),arguments)),this.name="PluckSynth";const t=$(Na.getDefaults(),arguments);this._noise=new ir({context:this.context,type:"pink"}),this.attackNoise=t.attackNoise,this._lfcf=new Ul({context:this.context,dampening:t.dampening,resonance:t.resonance}),this.resonance=t.resonance,this.release=t.release,this._noise.connect(this._lfcf),this._lfcf.connect(this.output)}static getDefaults(){return Xu(Ns.getDefaults(),{attackNoise:1,dampening:4e3,resonance:.7,release:1})}get dampening(){return this._lfcf.dampening}set dampening(t){this._lfcf.dampening=t}triggerAttack(t,s){const r=this.toFrequency(t);s=this.toSeconds(s);const o=1/r;return this._lfcf.delayTime.setValueAtTime(o,s),this._noise.start(s),this._noise.stop(s+o*this.attackNoise),this._lfcf.resonance.cancelScheduledValues(s),this._lfcf.resonance.setValueAtTime(this.resonance,s),this}triggerRelease(t){return this._lfcf.resonance.linearRampTo(0,this.release,t),this}dispose(){return super.dispose(),this._noise.dispose(),this._lfcf.dispose(),this}}class ni extends Ns{constructor(){super($(ni.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const t=$(ni.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),s={};Object.keys(t.urls).forEach(r=>{const o=parseInt(r,10);if(At(cl(r)||Qu(o)&&isFinite(o),`url key is neither a note or midi pitch: ${r}`),cl(r)){const c=new Nn(this.context,r).toMidi();s[c]=t.urls[r]}else Qu(o)&&isFinite(o)&&(s[o]=t.urls[o])}),this._buffers=new Pd({urls:s,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(Ns.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Nt,onerror:Nt,release:.1,urls:{}})}_findClosest(t){let r=0;for(;r<96;){if(this._buffers.has(t+r))return-r;if(this._buffers.has(t-r))return r;r++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,s,r=1){return this.log("triggerAttack",t,s,r),Array.isArray(t)||(t=[t]),t.forEach(o=>{const c=Dy(new Nn(this.context,o).toFrequency()),f=Math.round(c),d=c-f,m=this._findClosest(f),p=f-m,g=this._buffers.get(p),D=gy(m+d),A=new ur({url:g,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:D}).connect(this.output);A.start(s,0,g.duration/D,r),Hn(this._activeSources.get(f))||this._activeSources.set(f,[]),this._activeSources.get(f).push(A),A.onended=()=>{if(this._activeSources&&this._activeSources.has(f)){const E=this._activeSources.get(f),_=E.indexOf(A);_!==-1&&E.splice(_,1)}}}),this}triggerRelease(t,s){return this.log("triggerRelease",t,s),Array.isArray(t)||(t=[t]),t.forEach(r=>{const o=new Nn(this.context,r).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){const c=this._activeSources.get(o);s=this.toSeconds(s),c.forEach(f=>{f.stop(s)}),this._activeSources.set(o,[])}}),this}releaseAll(t){const s=this.toSeconds(t);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(s)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,s,r,o=1){const c=this.toSeconds(r);return this.triggerAttack(t,c,o),Hn(s)?(At(Hn(t),"notes must be an array when duration is array"),t.forEach((f,d)=>{const m=s[Math.min(d,s.length-1)];this.triggerRelease(f,c+this.toSeconds(m))})):this.triggerRelease(t,c+this.toSeconds(s)),this}add(t,s,r){if(At(cl(t)||isFinite(t),`note must be a pitch or midi: ${t}`),cl(t)){const o=new Nn(this.context,t).toMidi();this._buffers.add(o,s,r)}else this._buffers.add(t,s,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(t=>{t.forEach(s=>s.dispose())}),this._activeSources.clear(),this}}Kn([Ls(0)],ni.prototype,"attack",void 0);Kn([Ls(0)],ni.prototype,"release",void 0);class zl extends ft{constructor(){super(Object.assign($(zl.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new h8({context:this.context}),this.a=new Rt({context:this.context,gain:0}),this.b=new Rt({context:this.context,gain:0}),this.output=new Rt({context:this.context}),this._internalChannels=[this.a,this.b];const t=$(zl.getDefaults(),arguments,["fade"]);this.fade=new ie({context:this.context,units:"normalRange",value:t.fade}),Mt(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",mu(this._split,this.a.gain,0),mu(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(ft.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class jl extends ft{constructor(t){super(t),this.name="Effect",this._dryWet=new zl({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Rt({context:this.context}),this.effectReturn=new Rt({context:this.context}),this.input=new Rt({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(t.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Mt(this,"wet")}static getDefaults(){return Object.assign(ft.getDefaults(),{wet:1})}connectEffect(t){return this._internalChannels.push(t),this.effectSend.chain(t,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Gl extends ft{constructor(){super(Object.assign($(Gl.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const t=$(Gl.getDefaults(),arguments,["pan"]);this.pan=new wt({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",Mt(this,"pan")}static getDefaults(){return Object.assign(ft.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const y8="bit-crusher",A8=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;vy(y8,A8);class Pl extends ft{constructor(){super($(Pl.getDefaults(),arguments,["channels"])),this.name="Merge";const t=$(Pl.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(t.channels)}static getDefaults(){return Object.assign(ft.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class Rg extends jl{constructor(t){super(t),this.name="FeedbackEffect",this._feedbackGain=new Rt({context:this.context,gain:t.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,Mt(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(jl.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class Hl extends Rg{constructor(){super($(Hl.getDefaults(),arguments,["delayTime","feedback"])),this.name="FeedbackDelay";const t=$(Hl.getDefaults(),arguments,["delayTime","feedback"]);this._delayNode=new Ml({context:this.context,delayTime:t.delayTime,maxDelay:t.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),Mt(this,"delayTime")}static getDefaults(){return Object.assign(Rg.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class Yl extends jl{constructor(){super($(Yl.getDefaults(),arguments,["decay"])),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const t=$(Yl.getDefaults(),arguments,["decay"]);this._decay=t.decay,this._preDelay=t.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(jl.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(t){t=this.toSeconds(t),rs(t,.001),this._decay=t,this.generate()}get preDelay(){return this._preDelay}set preDelay(t){t=this.toSeconds(t),rs(t,0),this._preDelay=t,this.generate()}generate(){return ce(this,void 0,void 0,function*(){const t=this.ready,s=new hc(2,this._decay+this._preDelay,this.context.sampleRate),r=new ir({context:s}),o=new ir({context:s}),c=new Pl({context:s});r.connect(c,0,0),o.connect(c,0,1);const f=new Rt({context:s}).toDestination();c.connect(f),r.start(0),o.start(0),f.gain.setValueAtTime(0,0),f.gain.setValueAtTime(1,this._preDelay),f.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const d=s.render();return this.ready=d.then(Nt),yield t,this._convolver.buffer=(yield d).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class oe extends ft{constructor(){super($(oe.getDefaults(),arguments,["solo"])),this.name="Solo";const t=$(oe.getDefaults(),arguments,["solo"]);this.input=this.output=new Rt({context:this.context}),oe._allSolos.has(this.context)||oe._allSolos.set(this.context,new Set),oe._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(ft.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),oe._allSolos.get(this.context).forEach(s=>s._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){oe._soloed.has(this.context)||oe._soloed.set(this.context,new Set),oe._soloed.get(this.context).add(this)}_removeSolo(){oe._soloed.has(this.context)&&oe._soloed.get(this.context).delete(this)}_isSoloed(){return oe._soloed.has(this.context)&&oe._soloed.get(this.context).has(this)}_noSolos(){return!oe._soloed.has(this.context)||oe._soloed.has(this.context)&&oe._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),oe._allSolos.get(this.context).delete(this),this._removeSolo(),this}}oe._allSolos=new Map;oe._soloed=new Map;class Xl extends ft{constructor(){super($(Xl.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const t=$(Xl.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Gl({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Ku({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,Mt(this,["pan","volume"])}static getDefaults(){return Object.assign(ft.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class zu extends ft{constructor(){super($(zu.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const t=$(zu.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new oe({solo:t.solo,context:this.context}),this._panVol=this.output=new Xl({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Mt(this,["pan","volume"])}static getDefaults(){return Object.assign(ft.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return zu.buses.has(t)||zu.buses.set(t,new Rt({context:this.context})),zu.buses.get(t)}send(t,s=0){const r=this._getBus(t),o=new Rt({context:this.context,units:"decibels",gain:s});return this.connect(o),o.connect(r),o}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}zu.buses=new Map;class v8 extends ft{constructor(){super(...arguments),this.name="Listener",this.positionX=new wt({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new wt({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new wt({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new wt({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new wt({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new wt({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new wt({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new wt({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new wt({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(ft.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}lc(u=>{u.listener=new v8({context:u})});cc(u=>{u.listener.dispose()});class Zl extends ft{constructor(){super($(Zl.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const t=$(Zl.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new wt({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:t.threshold}),this.attack=new wt({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:t.attack}),this.release=new wt({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:t.release}),this.knee=new wt({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:t.knee}),this.ratio=new wt({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:t.ratio}),Mt(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(ft.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}const Fs=Gn().transport;Gn().destination;Gn().destination;Gn().listener;Gn().draw;const ju=Gn(),_8="modulepreload",E8=function(u){return"/"+u},Mg={},C8=function(t,s,r){let o=Promise.resolve();if(s&&s.length>0){let p=function(g){return Promise.all(g.map(D=>Promise.resolve(D).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};var f=p;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=d?.nonce||d?.getAttribute("nonce");o=p(s.map(g=>{if(g=E8(g),g in Mg)return;Mg[g]=!0;const D=g.endsWith(".css"),A=D?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${A}`))return;const E=document.createElement("link");if(E.rel=D?"stylesheet":_8,D||(E.as="script"),E.crossOrigin="",E.href=g,m&&E.setAttribute("nonce",m),document.head.appendChild(E),D)return new Promise((_,C)=>{E.addEventListener("load",_),E.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return o.then(d=>{for(const m of d||[])m.status==="rejected"&&c(m.reason);return t().catch(c)})};async function b8(u){try{return(await fetch(u,{method:"HEAD"})).ok}catch{return!1}}async function Ig(u,t){const s=u.toLowerCase();console.debug("[player] createInstrument req=",u);const r=async c=>{try{const f=await C8(()=>import("./index-DcplxiP2.js"),[]),d=f&&(f.default??f),m=ju&&(ju.rawContext??ju.context)||ju;if(d&&typeof d.instrument=="function")try{const p=await d.instrument(c,{context:ju});if(p&&(typeof p.triggerAttackRelease=="function"||typeof p.play=="function"))return p}catch{}if(d){const p=d[c]||d[c.replace(/[-_ ]+(.)/g,(g,D)=>D.toUpperCase())];if(typeof p=="function")try{const g=new p(m);if(g&&g.load)try{await g.load}catch{}return g}catch{}}if(d&&typeof d.get=="function")try{const p=await d.get(c);if(p)return p}catch{}return null}catch{return null}},o=async c=>{const f=`/samples/${c}/`,d=f+"A4.mp3";if(await b8(d)){const m=new ni({urls:{A4:"A4.mp3"},baseUrl:f}).connect(t);return await m.loaded,m}return null};if(s.includes("guitar")){const c=await r("acoustic_guitar_nylon");if(c)return c;const f=await o("guitar");if(f)return f;const d=await S8(440,.9,22050);return new ni({urls:{A4:d}}).connect(t)}if(s.includes("violin")){const c=await r("violin");if(c)return c;const f=await o("violin");return f||new Ba({harmonicity:2,modulationIndex:8}).connect(t)}if(s.includes("tabla")){const c=await o("tabla");return c||new ei().connect(t)}return s.includes("saw")?new vn({oscillator:{type:"sawtooth"}}).connect(t):s.includes("sine")?new vn({oscillator:{type:"sine"}}).connect(t):new vn().connect(t)}async function S8(u=440,t=.9,s=22050){const r=Math.ceil(t*s),o=new window.OfflineAudioContext(1,r,s),c=o.createBufferSource(),f=o.createBuffer(1,r,s),d=f.getChannelData(0);for(let E=0;E<r;E++)d[E]=(Math.random()*2-1)*Math.exp(-3*E/r);c.buffer=f;const m=o.createBiquadFilter();m.type="bandpass",m.frequency.value=u,m.Q.value=8;const p=o.createBiquadFilter();p.type="lowpass",p.frequency.value=8e3,c.connect(m),m.connect(p),p.connect(o.destination),c.start(0);const g=await o.startRendering(),D=T8(g),A=new Blob([new DataView(D)],{type:"audio/wav"});return URL.createObjectURL(A)}function T8(u){const t=u.numberOfChannels,s=u.sampleRate,r=1,o=u.length,c=new ArrayBuffer(44+o*t*2),f=new DataView(c);fl(f,0,"RIFF"),f.setUint32(4,36+o*t*2,!0),fl(f,8,"WAVE"),fl(f,12,"fmt "),f.setUint32(16,16,!0),f.setUint16(20,r,!0),f.setUint16(22,t,!0),f.setUint32(24,s,!0),f.setUint32(28,s*t*2,!0),f.setUint16(32,t*2,!0),f.setUint16(34,16,!0),fl(f,36,"data"),f.setUint32(40,o*t*2,!0);let d=44;for(let m=0;m<o;m++)for(let p=0;p<t;p++){const g=Math.max(-1,Math.min(1,u.getChannelData(p)[m]));f.setInt16(d,g<0?g*32768:g*32767,!0),d+=2}return c}function fl(u,t,s){for(let r=0;r<s.length;r++)u.setUint8(t+r,s.charCodeAt(r))}class kg{instruments=new Map;loop=!1;currentSpec=null;playPromise=null;resolvePlay=null;_reverb=null;_delay=null;_comp=null;constructor(){try{window.__LEAF_PLAYER=this}catch{}}async start(t,s){if(this.playPromise)return this.playPromise;this.currentSpec=t,this.loop=!!s?.loop;try{await xl()}catch{}const r=await this.ensureEffects();for(const o of t.tracks)if(!this.instruments.has(o.synth)){const c=await Ig(o.synth,r);try{if(c&&c.output){const f=c.output,d=f.input??f,m=r.input??r;if(d&&typeof d.connect=="function"&&m)try{d.connect(m)}catch{}}}catch{}this.instruments.set(o.synth,c)}return this.playPromise=new Promise(async o=>{this.resolvePlay=o,await this._playOnce()}),this.playPromise}async ensureEffects(){return this._reverb&&this._delay&&this._comp?this._reverb:(this._reverb=new Yl({decay:2.2,wet:.18}),this._delay=new Hl({delayTime:.18,feedback:.12,wet:.06}),this._comp=new Zl({threshold:-24,ratio:3,attack:.03,release:.3}),this._reverb.connect(this._delay),this._delay.connect(this._comp),this._comp.toDestination(),await this._reverb.generate(),this._reverb)}async preloadInstrument(t){const s=await this.ensureEffects();if(this.instruments.has(t))return`cached:${t}`;const r=await Ig(t,s);return this.instruments.set(t,r),r.name?`smplr:${r.name}`:r.triggerAttackRelease&&!(r instanceof vn)?`sampler-or-smplr:${t}`:r instanceof vn||r instanceof Ba||r instanceof Na||r instanceof ei?`synth:${t}`:`unknown:${t}`}async _playOnce(){if(!this.currentSpec)return;const t=this.currentSpec,s=t.tempo||120,r=60/s;Fs.cancel(),Fs.bpm.value=s,Fs.position="0:0:0";let o=0;t.tracks.forEach(f=>{const d=this.instruments.get(f.synth);let m=0;f.notes.forEach(p=>{const g=p.durationBeats,D=m*r;Fs.schedule(A=>{try{if(typeof d.start=="function")try{const E={note:p.pitch,time:A};p.velocity&&(E.velocity=p.velocity),E.duration=g*r,d.start(E);return}catch{}typeof d.triggerAttackRelease=="function"?d.triggerAttackRelease(p.pitch,`${g*r}s`,A):typeof d.triggerAttack=="function"&&d.triggerAttack(p.pitch,A)}catch{try{d.triggerAttackRelease&&d.triggerAttackRelease(p.pitch,`${g*r}s`,A)}catch{}try{typeof d.start=="function"&&d.start({note:p.pitch,time:A,duration:g*r})}catch{}}},D),m+=g}),o=Math.max(o,m)}),Fs.start();const c=Math.max(0,o*(60/(t.tempo||120))*1e3);setTimeout(async()=>{if(this.loop){Fs.stop(),await this._playOnce();return}Fs.stop(),this.resolvePlay&&(this.resolvePlay(),this.resolvePlay=null,this.playPromise=null)},c+50)}stop(){this.loop=!1,this.currentSpec=null;try{Fs.stop(),Fs.cancel()}catch{}try{this.instruments.forEach(t=>{t.dispose&&t.dispose()})}catch{}if(this.instruments.clear(),this.resolvePlay){try{this.resolvePlay()}catch{}this.resolvePlay=null,this.playPromise=null}try{delete window.__LEAF_PLAYER}catch{}}async testNote(t,s=.6){try{await xl()}catch{}const r=this.instruments.get("guitar")||new Na().toDestination();try{if(typeof r.start=="function"){r.start({note:t,duration:s});return}if(typeof r.play=="function"){r.play(t,s);return}if(typeof r.triggerAttackRelease=="function"){r.triggerAttackRelease(t,`${s}s`);return}}catch{}}}const F8=`LeafMusic {
  Program
    = Statement*                             --seq

  Statement
    = Assignment
    | TrackDecl
    | DrumsDecl
    | SceneDecl
    | ProgressionDecl

  Assignment
    = ident "=" Expr

  TrackDecl
    = "track" string "using" Synth Block

  DrumsDecl
    = "drums" string "using" Samples Block

  SceneDecl
    = "scene" string Bars Block

  ProgressionDecl
    = "progression" ProgSpec

  Synth
    = "synth" "(" string ("," ObjLit)? ")"

  Samples
    = "samples" "(" string ")"

  Bars
    = number ("bar" | "bars")

  Block
    = "{" TrackStmt* "}"

  TrackStmt
    = NotesStmt
    | RhythmStmt
    | PatternStmt
    | FxStmt
    | GainStmt
    | SwingStmt

  NotesStmt
    = "notes" NoteList

  RhythmStmt
    = "rhythm" RhythmList

  PatternStmt
    = "pattern" ident

  FxStmt
    = "fx" ident

  GainStmt
    = "gain" number

  SwingStmt
    = "swing" number

  NoteList
    = "[" ListOf<Note, ","> "]"

  RhythmList
    = "[" ListOf<Duration, ","> "]"

  Duration
    = number "/" number

  ProgSpec
    = ListOf<ProgToken, "|">

  ProgToken
    = RomanNumeral

  RomanNumeral
    = "I" | "II" | "III" | "IV" | "V" | "VI" | "VII"

  Note
    = pitch digit+

  pitch
    = "A".."G" ("#" | "b")?

  ObjLit
    = "{" ListOf<ObjPair, ","> "}"

  ObjPair
    = ident ":" Expr

  Expr
    = number
    | string
    | ident

  ident
    = letter (letter | digit)*

  number
    = digit+ ("." digit+)?  --float
    | digit+               --int

  string
    = "\\"" (~"\\"" any)* "\\""
}
`;function x8(u){const t=new Set,s=/"([^"]+)"/g;let r;for(;(r=s.exec(u))!==null;){const f=r[1].trim();f&&(/^[A-Za-z_][A-Za-z0-9_\-]*$/.test(f)&&t.add(f),/^(ms|s|beat|beats|bar|bars)$/.test(f)&&t.add(f))}const c=/RomanNumeral\s*=\s*([^\n]+)/m.exec(u);return c&&c[1].split("|").map(f=>f.replace(/"/g,"").trim()).filter(Boolean).forEach(f=>t.add(f)),t.add("true"),t.add("false"),Array.from(t).sort((f,d)=>f.localeCompare(d))}const Uf={"Simple Melody":`tempo = 120
scale = "C minor"

track "lead" using synth("saw", { adsr:[0.01,0.1,0.2,0.2] }) {
  notes  [C4, D#4, G4, A#4]
  rhythm [1/8, 1/8, 1/4, 1/2]
  fx     reverb(0.25)
}

scene "drop" 16 bars { gain 1 }
`,"Ambient Pad":`// Ambient pad pseudo-code
oscillator1.freq = 220
oscillator2.freq = 330
// ...`};function w8(){const[u,t]=Dt.useState(Uf["Simple Melody"]),[s,r]=Dt.useState("Simple Melody"),o=Dt.useRef(null),[c,f]=Dt.useState(!1),d=Dt.useRef(null),m=Dt.useRef(null);Dt.useEffect(()=>{function _(){const b=d.current;if(!b)return;const T=b.getContext("2d");if(!T)return;const R=window.devicePixelRatio||1;b.width=Math.floor(b.clientWidth*R),b.height=Math.floor(b.clientHeight*R),T.setTransform(R,0,0,R,0,0)}function C(b){const T=d.current;if(!T)return;const R=T.getContext("2d");if(!R)return;const z=T.clientWidth,Y=T.clientHeight;R.clearRect(0,0,z,Y);const x=Math.min(1,u.length/400),M=28,I=z/M;for(let B=0;B<M;B++){const X=b/1e3+B,Q=((Math.sin(X*(.5+B/20))+1)/2*.7+x*.6)*Y,P=B*I,nt=R.createLinearGradient(0,0,0,Y);nt.addColorStop(0,"#9be7c4"),nt.addColorStop(1,"#4bbf73"),R.fillStyle=nt,R.fillRect(P+2,Y-Q,I-4,Q)}m.current=requestAnimationFrame(C)}return _(),window.addEventListener("resize",_),m.current=requestAnimationFrame(C),()=>{window.removeEventListener("resize",_),m.current&&cancelAnimationFrame(m.current)}},[u]);const p=Dt.useRef(null),g=Dt.useRef(null);function D(_){const C=p.current,b=g.current;if(!(!C||!b)){console.debug("[leaf-debug] applyParseMarkers: modelLanguage=",C.getModel()?.getLanguageId());try{const T=TC(_);if(T.ok)console.debug("[leaf-debug] clear markers"),b.editor.setModelMarkers(C.getModel(),"leafmusic",[]);else{const R=typeof T.errors=="string"?T.errors:String(T.errors),z=[{severity:b.MarkerSeverity.Error,message:R,startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:2}];console.debug("[leaf-debug] setModelMarkers",z),b.editor.setModelMarkers(C.getModel(),"leafmusic",z)}}catch(T){console.error("[leaf-debug] applyParseMarkers error",T),b.editor.setModelMarkers(C.getModel(),"leafmusic",[])}}}function A(_){const C=_.target.value;r(C),t(Uf[C]??"")}function E(_){const C=`// Exported from Leaf Music
// type: ${_}
// code length: ${u.length}`,b=new Blob([C],{type:"application/octet-stream"}),T=URL.createObjectURL(b),R=document.createElement("a");R.href=T,R.download=`leaf-music-export.${_}`,document.body.appendChild(R),R.click(),R.remove(),URL.revokeObjectURL(T)}return Ht.jsxs("div",{className:"app-root",children:[Ht.jsxs("header",{className:"topbar",children:[Ht.jsxs("div",{className:"logo-wrap",children:[Ht.jsxs("svg",{className:"app-logo",viewBox:"0 0 64 64","aria-hidden":!0,children:[Ht.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"#e9fff0"}),Ht.jsx("path",{d:"M20 36c6-12 20-12 24-8-6 6-8 18-20 18-6 0-6-6-4-10z",fill:"#66c17a"})]}),Ht.jsx("div",{className:"title",children:"Leaf Music"})]}),Ht.jsxs("div",{className:"menu",children:[Ht.jsxs("label",{className:"menu-item",children:["Examples",Ht.jsx("select",{value:s,onChange:A,children:Object.keys(Uf).map(_=>Ht.jsx("option",{value:_,children:_},_))})]}),Ht.jsx("button",{className:"btn",onClick:()=>E("mp3"),children:"Export MP3"}),Ht.jsx("button",{className:"btn",onClick:()=>E("mp4"),children:"Export MP4"}),Ht.jsx("button",{className:"btn",onClick:async()=>{if(c){o.current?.stop(),f(!1);return}const _={tempo:90,tracks:[{name:"GuitarTest",synth:"guitar",notes:[{pitch:"E4",durationBeats:.125},{pitch:"G4",durationBeats:.125},{pitch:"A4",durationBeats:.25},{pitch:"E4",durationBeats:.125},{pitch:"D4",durationBeats:.125},{pitch:"E4",durationBeats:.5}]}]};o.current=new kg,f(!0);try{try{await xl()}catch{}const C=await o.current.preloadInstrument("guitar");console.debug("[Test Guitar] preload report=",C),await o.current.start(_)}catch(C){console.error("Test Guitar playback failed",C)}f(!1)},children:"Test Guitar"}),Ht.jsx("button",{className:"btn",onClick:async()=>{try{console.debug("[tone-test] before Tone.start, ctx=",ju?.state),await xl(),console.debug("[tone-test] after Tone.start, ctx=",ju?.state),new vn().toDestination().triggerAttackRelease("A4","0.6");try{window.__LEAF_PLAYER?.testNote&&window.__LEAF_PLAYER.testNote("A4",.6)}catch{}}catch(_){console.error("[tone-test] failed",_)}},children:"Force Tone Test"}),Ht.jsx("button",{className:"btn",onClick:async()=>{if(c){o.current?.stop(),f(!1);return}const _=FC(u);if(!_.ok){alert("Parse error: "+String(_.errors));return}const C=_.ast;o.current=new kg,f(!0);try{await o.current.start(C),f(!1)}catch(b){console.error("Playback failed",b),f(!1)}},children:c?"Stop":"Play"})]})]}),Ht.jsxs("main",{className:"workspace",children:[Ht.jsxs("section",{className:"editor",children:[Ht.jsx("div",{className:"pane-title",children:"Code Editor"}),Ht.jsx("div",{className:"editor-wrap",children:Ht.jsx(t2,{height:"100%",language:"leafmusic",defaultLanguage:"leafmusic",value:u,theme:"leafLight",onMount:(_,C)=>{p.current=_,g.current=C,console.debug("[leaf-debug] onMount: editor mounted");try{const b=_.getModel();console.debug("[leaf-debug] onMount: before setModelLanguage, modelLanguage=",b?.getLanguageId()),b&&C.editor.setModelLanguage(b,"leafmusic"),console.debug("[leaf-debug] onMount: after setModelLanguage, modelLanguage=",b?.getLanguageId());try{const T=C.languages.getLanguages().map(R=>R.id);console.debug("[leaf-debug] registered languages:",T)}catch(T){console.debug("[leaf-debug] getLanguages failed",T)}}catch(b){console.error("[leaf-debug] setModelLanguage failed",b)}_.layout(),D(u)},onChange:_=>{const C=_??"";t(C),D(C)},options:{minimap:{enabled:!1},fontSize:14,fontFamily:"Roboto Mono, Menlo, monospace",wordWrap:"on",automaticLayout:!0,tabSize:2},beforeMount:_=>{console.debug("[leaf-debug] beforeMount: registering language and tokenizer"),_.editor.defineTheme("leafLight",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#fbfff9","editorLineNumber.foreground":"#9aa69a","editorCursor.foreground":"#2b8f5a","editor.selectionBackground":"#cfeedb"}}),_.languages.register({id:"leafmusic"});const C=x8(F8);console.debug("[leaf-debug] generated keywords count=",C.length,"sample=",C.slice(0,20)),_.languages.setMonarchTokensProvider("leafmusic",{defaultToken:"",tokenPostfix:".leaf",keywords:C,types:["Number","String","Bool"],operators:["=",":",",","\\.","\\*","/","\\+","-"],symbols:/[=><!~?:&|+\-*\/^%]+/,escapes:/\\(?:[nrt"'\\]|u[0-9A-Fa-f]{4})/,tokenizer:{root:[[/\/\/.*$/,"comment"],[/\b(true|false)\b/,"keyword"],[/[A-G](?:#|b)?\d+/,"number"],[/\b[IVXLCM]+\b/,"keyword"],[/\b\d+\/\d+\b/,"number"],[/\d+\.\d+|\d+/,"number"],[/'[^']*'/,"string"],[/"[^"]*"/,"string"],[/[{}()[\]]/,"@brackets"],[/\[|\]/,"@brackets"],[/[;,\.]/,"delimiter"],[/[a-zA-Z_][\w_]*/,{cases:{"@keywords":"keyword","@default":"identifier"}}]]}}),_.languages.setLanguageConfiguration("leafmusic",{comments:{lineComment:"//"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]})}})})]}),Ht.jsxs("section",{className:"visualizer",children:[Ht.jsx("div",{className:"pane-title",children:"Music Visualizer"}),Ht.jsx("div",{className:"viz-box",children:Ht.jsx("canvas",{className:"viz-canvas",ref:d})})]})]})]})}Zv.createRoot(document.getElementById("root")).render(Ht.jsx(Dt.StrictMode,{children:Ht.jsx(w8,{})}));
